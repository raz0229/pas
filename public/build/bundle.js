var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(n)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s;function u(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function c(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function h(t,e,n){t.$$.on_destroy.push(c(e,n))}function l(t,e,n,r){if(t){const i=f(t,e,n,r);return t[0](i)}}function f(t,n,r,i){return t[1]&&i?e(r.ctx.slice(),t[1](i(n))):r.ctx}function d(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function p(t,e,n,r,i,o){if(i){const a=f(e,n,r,o);t.p(a,i)}}function v(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function g(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}let m,y=!1;function b(t,e,n,r){for(;t<e;){const i=t+(e-t>>1);n(i)<=r?t=i+1:e=i}return t}function w(t,e){if(y){for(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let n=0;n<e.length;n++){const r=e[n];void 0!==r.claim_order&&t.push(r)}e=t}const n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let i=0;for(let t=0;t<e.length;t++){const o=e[t].claim_order,a=(i>0&&e[n[i]].claim_order<=o?i+1:b(1,i,(t=>e[n[t]].claim_order),o))-1;r[t]=n[a]+1;const s=a+1;n[s]=t,i=Math.max(s,i)}const o=[],a=[];let s=e.length-1;for(let t=n[i]+1;0!=t;t=r[t-1]){for(o.push(e[t-1]);s>=t;s--)a.push(e[s]);s--}for(;s>=0;s--)a.push(e[s]);o.reverse(),a.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<a.length;e++){for(;n<o.length&&a[e].claim_order>=o[n].claim_order;)n++;const r=n<o.length?o[n]:null;t.insertBefore(a[e],r)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?void 0===e.claim_order&&e.parentNode===t||t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else e.parentNode!==t&&t.appendChild(e)}function I(t,e,n){y&&!n?w(t,e):e.parentNode===t&&e.nextSibling==n||t.insertBefore(e,n||null)}function E(t){t.parentNode.removeChild(t)}function T(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function S(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function A(){return _(" ")}function N(){return _("")}function k(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function D(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t){return Array.from(t.childNodes)}function x(t,e,n,r,i=!1){!function(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}(t);const o=(()=>{for(let r=t.claim_info.last_index;r<t.length;r++){const o=t[r];if(e(o)){const e=n(o);return void 0===e?t.splice(r,1):t[r]=e,i||(t.claim_info.last_index=r),o}}for(let r=t.claim_info.last_index-1;r>=0;r--){const o=t[r];if(e(o)){const e=n(o);return void 0===e?t.splice(r,1):t[r]=e,i?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=r,o}}return r()})();return o.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,o}function P(t,e,n,r){return x(t,(t=>t.nodeName===e),(t=>{const e=[];for(let r=0;r<t.attributes.length;r++){const i=t.attributes[r];n[i.name]||e.push(i.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>r?function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}(e):S(e)))}function O(t,e){return x(t,(t=>3===t.nodeType),(t=>{const n=""+e;if(t.data.startsWith(n)){if(t.data.length!==n.length)return t.splitText(n.length)}else t.data=n}),(()=>_(e)),!0)}function R(t){return O(t," ")}function L(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function V(t,e){t.value=null==e?"":e}function F(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function q(t,e,n){t.classList[n?"add":"remove"](e)}function U(t){m=t}function j(){if(!m)throw new Error("Function called outside component initialization");return m}function B(t,e){j().$$.context.set(t,e)}function z(t){return j().$$.context.get(t)}const K=[],$=[],G=[],H=[],W=Promise.resolve();let Q=!1;function Y(t){G.push(t)}function X(t){H.push(t)}let J=!1;const Z=new Set;function tt(){if(!J){J=!0;do{for(let t=0;t<K.length;t+=1){const e=K[t];U(e),et(e.$$)}for(U(null),K.length=0;$.length;)$.pop()();for(let t=0;t<G.length;t+=1){const e=G[t];Z.has(e)||(Z.add(e),e())}G.length=0}while(K.length);for(;H.length;)H.pop()();Q=!1,J=!1,Z.clear()}}function et(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}const nt=new Set;let rt;function it(){rt={r:0,c:[],p:rt}}function ot(){rt.r||i(rt.c),rt=rt.p}function at(t,e){t&&t.i&&(nt.delete(t),t.i(e))}function st(t,e,n,r){if(t&&t.o){if(nt.has(t))return;nt.add(t),rt.c.push((()=>{nt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function ut(t){return"object"==typeof t&&null!==t?t:{}}function ct(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ht(t){t&&t.c()}function lt(t,e){t&&t.l(e)}function ft(t,e,r,a){const{fragment:s,on_mount:u,on_destroy:c,after_update:h}=t.$$;s&&s.m(e,r),a||Y((()=>{const e=u.map(n).filter(o);c?c.push(...e):i(e),t.$$.on_mount=[]})),h.forEach(Y)}function dt(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pt(t,e){-1===t.$$.dirty[0]&&(K.push(t),Q||(Q=!0,W.then(tt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function vt(e,n,o,a,s,u,c,h=[-1]){const l=m;U(e);const f=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:n.context||[]),callbacks:r(),dirty:h,skip_bound:!1,root:n.target||l.$$.root};c&&c(f.root);let d=!1;if(f.ctx=o?o(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&pt(e,t)),n})):[],f.update(),d=!0,i(f.before_update),f.fragment=!!a&&a(f.ctx),n.target){if(n.hydrate){y=!0;const t=C(n.target);f.fragment&&f.fragment.l(t),t.forEach(E)}else f.fragment&&f.fragment.c();n.intro&&at(e.$$.fragment),ft(e,n.target,n.anchor,n.customElement),y=!1,tt()}U(l)}class gt{$destroy(){dt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const mt=[];function yt(e,n=t){let r;const i=new Set;function o(t){if(a(e,t)&&(e=t,r)){const t=!mt.length;for(const t of i)t[1](),mt.push(t,e);if(t){for(let t=0;t<mt.length;t+=2)mt[t][0](mt[t+1]);mt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const u=[a,s];return i.add(u),1===i.size&&(r=n(o)||t),a(e),()=>{i.delete(u),0===i.size&&(r(),r=null)}}}}function bt(e,n,r){const a=!Array.isArray(e),s=a?[e]:e,u=n.length<2;return{subscribe:yt(r,(e=>{let r=!1;const h=[];let l=0,f=t;const d=()=>{if(l)return;f();const r=n(a?h[0]:h,e);u?e(r):f=o(r)?r:t},p=s.map(((t,e)=>c(t,(t=>{h[e]=t,l&=~(1<<e),r&&d()}),(()=>{l|=1<<e}))));return r=!0,d(),function(){i(p),f()}})).subscribe}}const wt={},It={};function Et(t){return{...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}}const Tt=function(t,e){const n=[];let r=Et(t);return{get location(){return r},listen(e){n.push(e);const i=()=>{r=Et(t),e({location:r,action:"POP"})};return t.addEventListener("popstate",i),()=>{t.removeEventListener("popstate",i);const r=n.indexOf(e);n.splice(r,1)}},navigate(e,{state:i,replace:o=!1}={}){i={...i,key:Date.now()+""};try{o?t.history.replaceState(i,null,e):t.history.pushState(i,null,e)}catch(n){t.location[o?"replace":"assign"](e)}r=Et(t),n.forEach((t=>t({location:r,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(t="/"){let e=0;const n=[{pathname:t,search:""}],r=[];return{get location(){return n[e]},addEventListener(t,e){},removeEventListener(t,e){},history:{get entries(){return n},get index(){return e},get state(){return r[e]},pushState(t,i,o){const[a,s=""]=o.split("?");e++,n.push({pathname:a,search:s}),r.push(t)},replaceState(t,i,o){const[a,s=""]=o.split("?");n[e]={pathname:a,search:s},r[e]=t}}}}()),St=/^:(.+)/;function _t(t){return"*"===t[0]}function At(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Nt(t){return t.replace(/(^\/+|\/+$)/g,"")}function kt(t,e){return{route:t,score:t.default?0:At(t.path).reduce(((t,e)=>(t+=4,!function(t){return""===t}(e)?!function(t){return St.test(t)}(e)?_t(e)?t-=5:t+=3:t+=2:t+=1,t)),0),index:e}}function Dt(t,e){let n,r;const[i]=e.split("?"),o=At(i),a=""===o[0],s=function(t){return t.map(kt).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index))}(t);for(let t=0,i=s.length;t<i;t++){const i=s[t].route;let u=!1;if(i.default){r={route:i,params:{},uri:e};continue}const c=At(i.path),h={},l=Math.max(o.length,c.length);let f=0;for(;f<l;f++){const t=c[f],e=o[f];if(void 0!==t&&_t(t)){h["*"===t?"*":t.slice(1)]=o.slice(f).map(decodeURIComponent).join("/");break}if(void 0===e){u=!0;break}let n=St.exec(t);if(n&&!a){const t=decodeURIComponent(e);h[n[1]]=t}else if(t!==e){u=!0;break}}if(!u){n={route:i,params:h,uri:"/"+o.slice(0,f).join("/")};break}}return n||r||null}function Ct(t,e){return`${Nt("/"===e?t:`${Nt(t)}/${Nt(e)}`)}/`}function xt(t){let e;const n=t[9].default,r=l(n,t,t[8],null);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,[i]){r&&r.p&&(!e||256&i)&&p(r,n,t,t[8],e?d(n,t[8],i,null):v(t[8]),null)},i(t){e||(at(r,t),e=!0)},o(t){st(r,t),e=!1},d(t){r&&r.d(t)}}}function Pt(t,e,n){let r,i,o,{$$slots:a={},$$scope:s}=e,{basepath:u="/"}=e,{url:c=null}=e;const l=z(wt),f=z(It),d=yt([]);h(t,d,(t=>n(6,i=t)));const p=yt(null);let v=!1;const g=l||yt(c?{pathname:c}:Tt.location);h(t,g,(t=>n(5,r=t)));const m=f?f.routerBase:yt({path:u,uri:u});h(t,m,(t=>n(7,o=t)));const y=bt([m,p],(([t,e])=>{if(null===e)return t;const{path:n}=t,{route:r,uri:i}=e;return{path:r.default?n:r.path.replace(/\*.*$/,""),uri:i}}));return l||(!function(t){j().$$.on_mount.push(t)}((()=>Tt.listen((t=>{g.set(t.location)})))),B(wt,g)),B(It,{activeRoute:p,base:m,routerBase:y,registerRoute:function(t){const{path:e}=o;let{path:n}=t;if(t._path=n,t.path=Ct(e,n),"undefined"==typeof window){if(v)return;const e=function(t,e){return Dt([t],e)}(t,r.pathname);e&&(p.set(e),v=!0)}else d.update((e=>(e.push(t),e)))},unregisterRoute:function(t){d.update((e=>{const n=e.indexOf(t);return e.splice(n,1),e}))}}),t.$$set=t=>{"basepath"in t&&n(3,u=t.basepath),"url"in t&&n(4,c=t.url),"$$scope"in t&&n(8,s=t.$$scope)},t.$$.update=()=>{if(128&t.$$.dirty){const{path:t}=o;d.update((e=>(e.forEach((e=>e.path=Ct(t,e._path))),e)))}if(96&t.$$.dirty){const t=Dt(i,r.pathname);p.set(t)}},[d,g,m,u,c,r,i,o,s,a]}class Ot extends gt{constructor(t){super(),vt(this,t,Pt,xt,a,{basepath:3,url:4})}}const Rt=t=>({params:4&t,location:16&t}),Lt=t=>({params:t[2],location:t[4]});function Mt(t){let e,n,r,i;const o=[Ft,Vt],a=[];function s(t,e){return null!==t[0]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=N()},l(t){n.l(t),r=N()},m(t,n){a[e].m(t,n),I(t,r,n),i=!0},p(t,i){let u=e;e=s(t),e===u?a[e].p(t,i):(it(),st(a[u],1,1,(()=>{a[u]=null})),ot(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),at(n,1),n.m(r.parentNode,r))},i(t){i||(at(n),i=!0)},o(t){st(n),i=!1},d(t){a[e].d(t),t&&E(r)}}}function Vt(t){let e;const n=t[10].default,r=l(n,t,t[9],Lt);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||532&i)&&p(r,n,t,t[9],e?d(n,t[9],i,Rt):v(t[9]),Lt)},i(t){e||(at(r,t),e=!0)},o(t){st(r,t),e=!1},d(t){r&&r.d(t)}}}function Ft(t){let n,r,i;const o=[{location:t[4]},t[2],t[3]];var a=t[0];function s(t){let n={};for(let t=0;t<o.length;t+=1)n=e(n,o[t]);return{props:n}}return a&&(n=new a(s())),{c(){n&&ht(n.$$.fragment),r=N()},l(t){n&&lt(n.$$.fragment,t),r=N()},m(t,e){n&&ft(n,t,e),I(t,r,e),i=!0},p(t,e){const i=28&e?function(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}(o,[16&e&&{location:t[4]},4&e&&ut(t[2]),8&e&&ut(t[3])]):{};if(a!==(a=t[0])){if(n){it();const t=n;st(t.$$.fragment,1,0,(()=>{dt(t,1)})),ot()}a?(n=new a(s()),ht(n.$$.fragment),at(n.$$.fragment,1),ft(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(t){i||(n&&at(n.$$.fragment,t),i=!0)},o(t){n&&st(n.$$.fragment,t),i=!1},d(t){t&&E(r),n&&dt(n,t)}}}function qt(t){let e,n,r=null!==t[1]&&t[1].route===t[7]&&Mt(t);return{c(){r&&r.c(),e=N()},l(t){r&&r.l(t),e=N()},m(t,i){r&&r.m(t,i),I(t,e,i),n=!0},p(t,[n]){null!==t[1]&&t[1].route===t[7]?r?(r.p(t,n),2&n&&at(r,1)):(r=Mt(t),r.c(),at(r,1),r.m(e.parentNode,e)):r&&(it(),st(r,1,1,(()=>{r=null})),ot())},i(t){n||(at(r),n=!0)},o(t){st(r),n=!1},d(t){r&&r.d(t),t&&E(e)}}}function Ut(t,n,r){let i,o,{$$slots:a={},$$scope:s}=n,{path:u=""}=n,{component:c=null}=n;const{registerRoute:l,unregisterRoute:f,activeRoute:d}=z(It);h(t,d,(t=>r(1,i=t)));const p=z(wt);h(t,p,(t=>r(4,o=t)));const v={path:u,default:""===u};let m={},y={};return l(v),"undefined"!=typeof window&&function(t){j().$$.on_destroy.push(t)}((()=>{f(v)})),t.$$set=t=>{r(13,n=e(e({},n),g(t))),"path"in t&&r(8,u=t.path),"component"in t&&r(0,c=t.component),"$$scope"in t&&r(9,s=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&i&&i.route===v&&r(2,m=i.params);{const{path:t,component:e,...i}=n;r(3,y=i)}},n=g(n),[c,i,m,y,o,d,p,v,u,s,a]}class jt extends gt{constructor(t){super(),vt(this,t,Ut,qt,a,{path:8,component:0})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Bt=function(t,e){return(Bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function zt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Bt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Kt=function(){return(Kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function $t(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Gt(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Ht(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Qt(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Yt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[h],n[l],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var h=a<<4&240|s>>2;if(r.push(h),64!==u){var l=s<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function Xt(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Xt(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Jt=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Zt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ee=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,ne.prototype.create),o}return zt(e,t),e}(Error),ne=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?re(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new ee(i,s,r);return u},t}();function re(t,e){return t.replace(ie,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var ie=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function oe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ae(t,e){var n=new se(t,e);return n.subscribe.bind(n)}var se=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=ue),void 0===r.error&&(r.error=ue),void 0===r.complete&&(r.complete=ue);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function ue(){}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ce(t){return t&&t._delegate?t._delegate:t}var he=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),le="[DEFAULT]",fe=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Jt;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService({instanceIdentifier:le})}catch(t){}try{for(var r=Ht(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Wt(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=le),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return $t(this,void 0,void 0,(function(){var t;return Gt(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Qt(Qt([],Wt(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Wt(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=le),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=Ht(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=Wt(u.value,2),h=c[0],l=c[1];o===this.normalizeInstanceIdentifier(h)&&l.resolve(a)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var o=Ht(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===le?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=le),this.component?this.component.multipleInstances?t:le:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var de,pe=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new fe(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function ve(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ge,me=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(ge||(ge={}));var ye,be={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},we=ge.INFO,Ie=((de={})[ge.DEBUG]="log",de[ge.VERBOSE]="log",de[ge.INFO]="info",de[ge.WARN]="warn",de[ge.ERROR]="error",de),Ee=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Ie[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,ve(["["+i+"]  "+t.name+":"],n))}},Te=function(){function t(t){this.name=t,this._logLevel=we,this._logHandler=Ee,this._userLogHandler=null,me.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ge))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?be[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ve([this,ge.DEBUG],t)),this._logHandler.apply(this,ve([this,ge.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ve([this,ge.VERBOSE],t)),this._logHandler.apply(this,ve([this,ge.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ve([this,ge.INFO],t)),this._logHandler.apply(this,ve([this,ge.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ve([this,ge.WARN],t)),this._logHandler.apply(this,ve([this,ge.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ve([this,ge.ERROR],t)),this._logHandler.apply(this,ve([this,ge.ERROR],t))},t}();function Se(t){me.forEach((function(e){e.setLogLevel(t)}))}var _e,Ae=((ye={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ye["bad-app-name"]="Illegal App name: '{$appName}",ye["duplicate-app"]="Firebase App named '{$appName}' already exists",ye["app-deleted"]="Firebase App named '{$appName}' already deleted",ye["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ye["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ye),Ne=new ne("app","Firebase",Ae),ke="@firebase/app",De="[DEFAULT]",Ce=((_e={})[ke]="fire-core",_e["@firebase/analytics"]="fire-analytics",_e["@firebase/app-check"]="fire-app-check",_e["@firebase/auth"]="fire-auth",_e["@firebase/database"]="fire-rtdb",_e["@firebase/functions"]="fire-fn",_e["@firebase/installations"]="fire-iid",_e["@firebase/messaging"]="fire-fcm",_e["@firebase/performance"]="fire-perf",_e["@firebase/remote-config"]="fire-rc",_e["@firebase/storage"]="fire-gcs",_e["@firebase/firestore"]="fire-fst",_e["fire-js"]="fire-js",_e["firebase-wrapper"]="fire-js-all",_e),xe=new Te("@firebase/app"),Pe=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Xt(void 0,t),this.container=new pe(e.name),this._addComponent(new he("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=De),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=De),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){xe.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ne.create("app-deleted",{appName:this.name_})},t}();Pe.prototype.name&&Pe.prototype.options||Pe.prototype.delete||console.log("dc");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Oe(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=De);var a=o.name;if("string"!=typeof a||!a)throw Ne.create("bad-app-name",{appName:String(a)});if(oe(e,a))throw Ne.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Ce[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void xe.warn(u.join(" "))}o(new he(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:Se,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Ne.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=be[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:ge[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=me;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!oe(e,t=t||De))throw Ne.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return xe.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw Ne.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Xt(s,o.serviceProps),r[a]=s,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var h=c[u];e[h]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Re=function t(){var e=Oe(Pe);return e.INTERNAL=Kt(Kt({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Xt(e,t)},createSubscribe:ae,ErrorFactory:ne,deepExtend:Xt}),e}(),Le=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){xe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Me=self.firebase.SDK_VERSION;Me&&Me.indexOf("LITE")>=0&&xe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ve=Re.initializeApp;Re.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return te()&&xe.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ve.apply(void 0,t)};var Fe=Re;!function(t,e){t.INTERNAL.registerComponent(new he("platform-logger",(function(t){return new Le(t)}),"PRIVATE")),t.registerVersion(ke,"0.6.29",e),t.registerVersion("fire-js","")}(Fe);var qe="8.8.1";
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
Fe.registerVersion("firebase",qe,"app"),Fe.SDK_VERSION=qe,function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Ra(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Ra(i(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""}function h(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==l(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function T(t,e,n){this.code=A+t,this.message=e||N[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new T(e.substring(A.length),t.message,t.serverResponse):null}I(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var _,A="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in k)if(k[e].id===t)return{firebaseEndpoint:(t=k[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function C(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function x(t){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");x.call(this,n+t[r])}function O(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}_=D("__EID__")?"__EID__":void 0,I(x,Error),x.prototype.name="CustomError",I(P,x),P.prototype.name="AssertionError",R.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new R((function(){return new q}),(function(t){t.reset()}));function F(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t,e){return 0<=U(t,e)}function G(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function H(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function W(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var st=a.navigator;if(st){var ut=st.userAgent;if(ut){Y=ut;break t}}Y=""}function ct(t){return ot(Y,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;O("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===wt&&e||"",this.b=bt}function mt(t){return t instanceof gt&&t.constructor===gt&&t.b===bt?t.a:(O("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.ta=!0,gt.prototype.sa=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt,bt={},wt={};function It(){if(void 0===yt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(t){a.console&&a.console.error(t.message)}yt=t}else yt=t}return yt}function Et(t,e){this.a=e===Nt?t:""}function Tt(t){return t instanceof Et&&t.constructor===Et?t.a:(O("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=mt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new Et(t=e?e.createScriptURL(t):t,Nt)}(t=n.replace(_t,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?mt(t):encodeURIComponent(String(t))})))}Et.prototype.ta=!0,Et.prototype.sa=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var _t=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={};function kt(t,e){this.a=e===Lt?t:""}function Dt(t){return t instanceof kt&&t.constructor===kt?t.a:(O("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}kt.prototype.ta=!0,kt.prototype.sa=function(){return this.a.toString()},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ct=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,xt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ot(t){if(t instanceof kt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Pt.test(t))t=new kt(t,Lt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(xt);t=e&&Ct.test(e[1])?new kt(t,Lt):null}return t}function Rt(t){return t instanceof kt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new kt(t,Lt))}var Lt={},Mt=new kt("about:invalid#zClosurez",Lt);function Vt(t,e,n){this.a=n===Ft?t:""}Vt.prototype.ta=!0,Vt.prototype.sa=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ft={};function qt(t,e,n,r){return t=t instanceof kt?t:Rt(t),e=e||a,n=n instanceof gt?mt(n):n||"",e.open(Dt(t),n,r,void 0)}function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function jt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}Bt[" "]=h;var zt,Kt,$t=ct("Opera"),Gt=ct("Trident")||ct("MSIE"),Ht=ct("Edge"),Wt=Ht||Gt,Qt=ct("Gecko")&&!(ot(Y.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Yt=ot(Y.toLowerCase(),"webkit")&&!ct("Edge");function Xt(){var t=a.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=(Kt=Y,Qt?/rv:([^\);]+)(\)|;)/.exec(Kt):Ht?/Edge\/([\d\.]+)/.exec(Kt):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Kt):Yt?/WebKit\/(\S+)/.exec(Kt):$t?/(?:Version)[ \/]?(\S+)/.exec(Kt):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),Gt){var te=Xt();if(null!=te&&te>parseFloat(Jt)){zt=String(te);break t}}zt=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=X(String(zt)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=at(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==a[2].length,0==s[2].length)||at(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(a.document&&Gt){var ie=Xt();ee=ie||(parseInt(zt,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Kt){}var ae=!Gt||9<=Number(oe);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ht(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,he,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){a="function"==typeof o.item;break t}}a=!1}j(a?Q(o):o,r)}}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){a.setTimeout((function(){throw t}),0)}function ve(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(ye)}}else he=function(){var t=ye;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!ct("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ce||(ce=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ce(t)):a.setImmediate(t)}}(),ge||(he(),ge=!0),me.add(t,e)}var ge=!1,me=new M;function ye(){for(var t;t=F();){try{t.a.call(t.b)}catch(t){pe(t)}L(V,t)}ge=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Oe(n,Ie,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Oe(n,Ee,t)}))}catch(t){Oe(this,Ee,t)}}var we=0,Ie=2,Ee=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new R((function(){return new Te}),(function(t){t.reset()}));function _e(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof be)return t;var e=new be(h);return Oe(e,Ie,t),e}function Ne(t){return new be((function(e,n){n(t)}))}function ke(t,e,n){Re(t,e,n,null)||ve(w(e,t))}function De(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ke(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Ce(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==we&&1==r?Ce(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),Ve(n,i,Ee,e)))}t.c=null}else Oe(t,Ee,e)}function xe(t,e){t.b||t.a!=Ie&&t.a!=Ee||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=_e(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,xe(t,i),i.a}function Oe(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ee||n instanceof je||function(t,e){t.g=!0,ve((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function Re(t,e,n,r){if(t instanceof be)return xe(t,_e(e||h,n||null,r)),!0;if(C(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Le(t){t.h||(t.h=!0,ve(t.gc,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ve(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,qe(e,n,r);else try{e.c?e.g.call(e.f):qe(e,n,r)}catch(t){Ue.call(null,t)}L(Se,e)}function qe(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Pe(this,d(t)?t:null,d(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=_e(t,t,e)).c=!0,xe(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new je(t);ve((function(){Ce(this,e)}),this)}},t.$c=function(t){this.a=we,Oe(this,Ie,t)},t.ad=function(t){this.a=we,Oe(this,Ee,t)},t.gc=function(){for(var t;t=Me(this);)Ve(this,t,this.a,this.i);this.h=!1};var Ue=pe;function je(t){x.call(this,t)}function Be(){this.ya=this.ya,this.pa=this.pa}I(je,x),je.prototype.name="cancel";var ze={};function Ke(t){if(!t.ya&&(t.ya=!0,t.Da(),0)){var e=function(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++g)}(t);delete ze[e]}}Be.prototype.ya=!1,Be.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var $e=Object.freeze||function(t){return t},Ge=!Gt||9<=Number(oe),He=Gt&&!re("9"),We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(t){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{Bt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Ye,Qe);var Xe=$e({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ye.prototype.g=function(){return this.a};var Je="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Ze,this.wa=this.Qa=!1}function en(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&G(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=on(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):((e=new tn(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),sn={};function un(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=bn(n),t&&t[Je]?In(t,e,n,p(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=mn(t);if(s||(t[an]=s=new nn(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=gn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=bn(n),t&&t[Je]?En(t,e,n,p(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=bn(n),t&&t[Je]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Je])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(rn(n,t),0==n.b&&(n.src=null,e[an]=null)):en(t)}}}function dn(t){return t in sn?sn[t]:sn[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&fn(t),n.call(r,e)}function gn(t,e){if(t.wa)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return vn(t,new Ye(e,this))}function mn(t){return(t=t[an])instanceof nn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return d(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function wn(){Be.call(this),this.v=new nn(this),this.bc=this,this.hb=null}function In(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function En(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Tn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&rn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Sn(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function _n(t){var e=null;return new be((function(n,r){-1==(e=Sn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function An(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Nn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Dn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Cn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Cn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(wn,Be),wn.prototype[Je]=!0,wn.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;pt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Tn(a,r,!0,t)&&i}if(i=Tn(a=t.b=n,r,!0,t)&&i,i=Tn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Tn(a=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Da=function(){if(wn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=kn.prototype).X=function(){Dn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Dn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Cn(this.b,t)?this.b[t]:e},t.set=function(t,e){Cn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,On(this,t.c),this.l=t.l,this.a=t.a,Rn(this,t.g),this.f=t.f,Ln(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(xn))?(this.i=!!e,On(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Rn(this,n[4]),this.f=Un(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function On(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Zn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=jn(e,Gn)),t.b=new Wn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function Vn(t,e){return t.b.get(e)}function Fn(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function qn(t,e,n,r){var i=new Pn(null,void 0);return t&&On(i,t),e&&(i.a=e),n&&Rn(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(jn(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(jn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?$n:Kn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",jn(n,Hn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?On(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Rn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Ln(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var zn=/[#\/\?@]/g,Kn=/[#\?:]/g,$n=/[#\?]/g,Gn=/[#\?@]/g,Hn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Yn(t){var e=Nn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=An(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Xn(t,e){Qn(t),e=er(t,e),Cn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Cn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Dn(t)))}function Jn(t,e){return Qn(t),e=er(t,e),Cn(t.a.b,e)}function Zn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),Q(n)),t.b+=n.length)}function tr(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return ir(new rr,t,e),e.join("")}function rr(){}function ir(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ir(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),sr(r,n),n.push(":"),ir(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":sr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Wn.prototype).add=function(t,e){Qn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){j(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Qn(this);var e=[];if("string"==typeof t)Jn(this,t)&&(e=W(e,this.a.get(er(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Jn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var or={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(ar,(function(t){var e=or[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),or[t]=e),e})),'"')}function ur(){var t=kr();return Gt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function cr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||a.window;var n="about:blank";t&&(n=Dt(Ot(t)||Mt)),e.location.href=n}function lr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<lr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function fr(t){return!!((t=(t||kr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function dr(t){t=t||a.window;try{t.close()}catch(t){}}function pr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=kr().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),_r(kr())==Tr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof kt?n:Ot(void 0!==n.href?n.href:String(n))||Mt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(a=de(document,"A"),"HTMLAnchorElement"),e=e instanceof kt?e:Rt(e),a.href=Dt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=qt("",r,n,a),t=Dt(e),a&&(Wt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+jt(t)+'">',t=new Vt(t=(r=It())?r.createHTML(t):t,null,Ft),r=a.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(O("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}(t)),r.close())):(a=qt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new be((function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))})).o((function(e){throw ln(window,"load",t),e}))}function yr(t){return t=t||kr(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=a.window;try{return!(!t||t==t.top)}catch(t){return!1}}function wr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Ir(){return Fe.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Fe.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Er(){var t=Ir();return"ReactNative"===t||"Node"===t}var Tr="Firefox",Sr="Chrome";function _r(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?Tr:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Sr:"Safari"}var Ar={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Nr(t,e){e=e||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=_r(i=kr()):"Worker"===r&&(r=_r(i=kr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function kr(){return a.navigator&&a.navigator.userAgent||""}function Dr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Cr(){try{var t=a.localStorage,e=Fr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ur()||!!a.indexedDB}catch(t){return wr()&&!!a.indexedDB}return!1}function xr(){return(Pr()||"chrome-extension:"===Or()||yr())&&!Er()&&Cr()&&!wr()}function Pr(){return"http:"===Or()||"https:"===Or()}function Or(){return a.location&&a.location.protocol||null}function Rr(t){return!fr(t=t||kr())&&_r(t)!=Tr}function Lr(t){return void 0===t?null:nr(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Vr(t){if(null!==t)return JSON.parse(t)}function Fr(t){return t||Math.floor(1e9*Math.random()).toString()}function qr(t){return"Safari"!=_r(t=t||kr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function jr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=kr(),e=Ir(),this.b=fr(t)||"ReactNative"===e}function Br(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Kr(){return!(!Dr("fireauth.oauthhelper",a)&&!Dr("fireauth.iframe",a))}jr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Pr()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var $r,Gr={};function Hr(t){Gr[t]||(Gr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Wr={};Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:2}),$r=2==Wr.abcd}catch(Kt){$r=!1}function Qr(t,e,n){$r?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Yr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function Xr(t){var e={};return Yr(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,Jr(t[n]));return e}function Zr(t){var e=t&&(t[ii]?"phone":null);if(!(e&&t&&t[ri]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[ri]),Qr(this,"displayName",t[ei]||null);var n=null;t[ni]&&(n=new Date(t[ni]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function ti(t){try{var e=new oi(t)}catch(t){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(t){Zr.call(this,t),Qr(this,"phoneNumber",t[ii])}function ai(t){var e={},n=t[hi],r=t[fi],i=t[di];if(t=ti(t[li]),!i||i!=ui&&i!=ci&&!n||i==ci&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ci?(e[vi]=n||null,e[mi]=n||null,e[pi]=r):(e[vi]=r||null,e[mi]=r||null,e[pi]=n||null),e[gi]=t||null,Qr(this,bi,i),Qr(this,yi,Jr(e))}I(oi,Zr),oi.prototype.w=function(){var t=oi.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",hi="email",li="mfaInfo",fi="newEmail",di="requestType",pi="email",vi="fromEmail",gi="multiFactorInfo",mi="previousEmail",yi="data",bi="operation";function wi(t){var e=Vn(t=Fn(t),Ii)||null,n=Vn(t,Ei)||null,r=Vn(t,_i)||null;if(r=r&&Ni[r]||null,!e||!n||!r)throw new T("argument-error",Ii+", "+Ei+"and "+_i+" are required in a valid action code URL.");Yr(this,{apiKey:e,operation:r,code:n,continueUrl:Vn(t,Ti)||null,languageCode:Vn(t,Si)||null,tenantId:Vn(t,Ai)||null})}var Ii="apiKey",Ei="oobCode",Ti="continueUrl",Si="languageCode",_i="mode",Ai="tenantId",Ni={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ui,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function ki(t){try{return new wi(t)}catch(t){return null}}function Di(t){var e=t[Ri];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ci];if(n&&"object"==typeof n){e=n[Vi];var r=n[Li];if(n=n[Mi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Li+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Vi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Ci+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Fi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[Pi])&&"boolean"!=typeof e)throw new T("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[xi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",xi+" property must be a non empty string when specified.");this.i=t||null}var Ci="android",xi="dynamicLinkDomain",Pi="handleCodeInApp",Oi="iOS",Ri="url",Li="installApp",Mi="minimumVersion",Vi="packageName",Fi="bundleId";function qi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function ji(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}function Bi(t){var e=Ki(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function zi(t){try{return new Bi(t)}catch(t){return null}}function Ki(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=ji(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(t){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var $i="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Hi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Gi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Gi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Gi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:$i},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Wi(t){for(var e in Hi)if(Hi[e].fa==t)return Hi[e];return null}function Qi(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Zi(t);if(void 0!==t[Yi])return new Ji(t)}catch(t){}return null}var Yi="idToken",Xi="providerId";function Ji(t){var e=t[Xi];if(!e&&t[Yi]){var n=zi(t[Yi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function Zi(t){Ji.call(this,t),Qr(this,"profile",Jr((t=Vr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function io(t){var e=Fn(t),n=Vn(e,"link"),r=Vn(Fn(n),"link");return e=Vn(e,"deep_link_id"),Vn(Fn(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ao:so}I(Zi,Ji),I(to,Zi),I(eo,Zi),I(no,Zi),I(ro,Zi);var ao="enroll",so="signin";function uo(){}function co(t,e){return t.then((function(t){if(t[Ja]){var n=zi(t[Ja]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new T("user-mismatch"):t}))}function ho(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ho(t.providerId,t.pendingToken)}catch(t){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function vo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(t){}}return null}function mo(t,e){this.Qc=e||[],Yr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Wi(t)||{}).Ja||null,this.pb=null}function yo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function bo(t){mo.call(this,t,Gi),this.a=[]}function wo(){bo.call(this,"facebook.com")}function Io(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){bo.call(this,"github.com")}function To(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new Eo).credential({accessToken:e})}function So(){bo.call(this,"google.com"),this.Ca("profile")}function _o(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new So).credential({idToken:n,accessToken:e})}function Ao(){mo.call(this,"twitter.com",$i)}function No(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function ko(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(t){return t&&t.email&&t.password?new ko(t.email,t.password,t.signInMethod):null}function Co(){Yr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=Po(e)))throw new T("argument-error","Invalid email link!");return new ko(t,e.code,Co.EMAIL_LINK_SIGN_IN_METHOD)}function Po(t){return(t=ki(t=io(t)))&&t.operation===ui?t:null}function Oo(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new T("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Oo(e)}return null}function Lo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Mo(t){try{this.a=t||Fe.auth()}catch(t){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yr(this,{providerId:"phone",isOAuthProvider:!1})}function Vo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Oo({fb:t,eb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Oo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return Io(n);case"github.com":return To(n);case"twitter.com":return No(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new ho(e,a):new po(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function qo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return this.a?Ae(this.a):Ae(this.b)},oo.prototype.w=function(){return this.type==ao?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},ho.prototype.ka=function(t){return ws(t,lo(this))},ho.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,Is(t,n)},ho.prototype.c=function(t,e){return co(Es(t,lo(this)),e)},ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return ws(t,vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,Is(t,n)},po.prototype.c=function(t,e){return co(Es(t,vo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Jb=ft(t),this},I(yo,mo),I(bo,mo),bo.prototype.Ca=function(t){return $(this.a,t)||this.a.push(t),this},bo.prototype.Rb=function(){return Q(this.a)},bo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},I(wo,bo),Qr(wo,"PROVIDER_ID","facebook.com"),Qr(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Eo,bo),Qr(Eo,"PROVIDER_ID","github.com"),Qr(Eo,"GITHUB_SIGN_IN_METHOD","github.com"),I(So,bo),Qr(So,"PROVIDER_ID","google.com"),Qr(So,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Ao,mo),Qr(Ao,"PROVIDER_ID","twitter.com"),Qr(Ao,"TWITTER_SIGN_IN_METHOD","twitter.com"),ko.prototype.ka=function(t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Cs,{email:this.a,oobCode:this.f}):ru(t,Js,{email:this.a,password:this.f})},ko.prototype.b=function(t,e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?ru(t,xs,{idToken:e,email:this.a,oobCode:this.f}):ru(t,Ks,{idToken:e,email:this.a,password:this.f})},ko.prototype.c=function(t,e){return co(this.ka(t),e)},ko.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yr(Co,{PROVIDER_ID:"password"}),Yr(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yr(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ka=function(t){return t.gb(Lo(this))},Oo.prototype.b=function(t,e){var n=Lo(this);return n.idToken=e,ru(t,tu,n)},Oo.prototype.c=function(t,e){var n=Lo(this);return n.operation="REAUTH",co(t=ru(t,eu,n),e)},Oo.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Mo.prototype.gb=function(t,e){var n=this.a.a;return Ae(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==ao?i.Ha().then((function(t){return function(t,e){return ru(t,Gs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==so?i.Ha().then((function(e){return function(t,e){return ru(t,Hs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,Bs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Yr(Mo,{PROVIDER_ID:"phone"}),Yr(Mo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var zo,Ko=null;function $o(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Go(t,e,n){T.call(this,t,n),(t=e||{}).Kb&&Qr(this,"email",t.Kb),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.$b&&Qr(this,"tenantId",t.$b)}function Ho(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Fo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Go(e,n,t.message)}return null}function Wo(){}function Qo(t){return t.c||(t.c=t.b())}function Yo(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Jo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Tb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function ta(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ea(t,e,n){this.reset(t,e,n,void 0,void 0)}function na(t){this.f=t,this.b=this.c=this.a=null}function ra(t,e){this.name=t,this.value=e}I($o,T),I(Go,T),Go.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Go.prototype.toJSON=function(){return this.w()},Wo.prototype.c=null,I(Yo,Wo),Yo.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Yo.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},zo=new Yo,I(Jo,Wo),Jo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Jo.prototype.b=function(){return{}},(t=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ta(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",ta(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,ta(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ea.prototype.a=null,ea.prototype.reset=function(t,e,n,r,i){delete this.a},ra.prototype.toString=function(){return this.name};var ia=new ra("SEVERE",1e3),oa=new ra("WARNING",900),aa=new ra("CONFIG",700),sa=new ra("FINE",500);function ua(t){return t.c?t.c:t.a?ua(t.a):(O("Root logger has no level set."),null)}na.prototype.log=function(t,e,n){if(t.value>=ua(this).value)for(d(e)&&(e=e()),t=new ea(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ca={},ha=null;function la(t){var e;if(ha||(ha=new na(""),ca[""]=ha,ha.c=aa),!(e=ca[t])){e=new na(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=la(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ca[t]=e}return e}function fa(t,e){t&&t.log(sa,e,void 0)}function da(t){this.f=t}function pa(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=va,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=la("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(da,Wo),da.prototype.a=function(){return new pa(this.f)},da.prototype.b=function(t){return function(){return t}}({}),I(pa,wn);var va=0;function ga(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ma(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ya(t)}function ya(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ba(t){wn.call(this),this.headers=new kn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=wa,this.u=this.S=!1}(t=pa.prototype).open=function(t,e){if(this.readyState!=va)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ya(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ma(this)),this.readyState=va},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ya(this)),this.a&&(this.readyState=3,ya(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ga(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ma(this):ya(this),3==this.readyState&&ga(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ma(this))},t.sc=function(t){this.a&&(this.response=t,ma(this))},t.Va=function(t){var e=this.i;e&&e.log(oa,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ma(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(oa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(oa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(ba,wn);var wa="";ba.prototype.b=la("goog.net.XhrIo");var Ia=/^https?$/i,Ea=["POST","PUT"];function Ta(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():zo.a(),t.C=t.D?Qo(t.D):Qo(zo),t.a.onreadystatechange=b(t.Wb,t);try{fa(t.b,Pa(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return fa(t.b,Pa(t,"Error opening Xhr: "+e.message)),void _a(t,e)}e=r||"";var o=new kn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)j(t,e,void 0);else for(var n=Nn(t),r=An(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Sa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!$(Ea,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Da(t),0<t.g&&(t.u=function(t){return Gt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),fa(t.b,Pa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=Sn(t.Ma,t.g,t)),fa(t.b,Pa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){fa(t.b,Pa(t,"Send error: "+e.message)),_a(t,e)}}function Sa(t){return"content-type"==t.toLowerCase()}function _a(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Aa(t),ka(t)}function Aa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Na(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Ca(t)&&2==xa(t))fa(t.b,Pa(t,"Local request error detected and ignored"));else if(t.i&&4==Ca(t))Sn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ca(t)){fa(t.b,Pa(t,"Request complete")),t.c=!1;try{var e,n=xa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(xn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!Ia.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ca(t)?t.a.statusText:""}catch(e){fa(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+xa(t)+"]",Aa(t)}}finally{ka(t)}}}function ka(t,e){if(t.a){Da(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ia,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Da(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Ca(t){return t.a?t.a.readyState:0}function xa(t){try{return 2<Ca(t)?t.a.status:-1}catch(t){return-1}}function Pa(t,e){return e+" ["+t.P+" "+t.l+" "+xa(t)+"]"}function Oa(t){var e=Ka;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ra(t,e,n){t.a=!0,t.c=n,t.f=!e,Fa(t)}function La(t){if(t.a){if(!t.v)throw new qa(t);t.v=!1}}function Ma(t,e,n,r){t.g.push([e,n,r]),t.a&&Fa(t)}function Va(t){return K(t.g,(function(t){return d(t[1])}))}function Fa(t){if(t.h&&t.a&&Va(t)){var e=t.h,n=Ba[e];n&&(a.clearTimeout(n.a),delete Ba[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(C(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Va(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Oa?(Ma(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new ja(e),Ba[e.a]=e,t.h=e.a)}function qa(){x.call(this)}function Ua(){x.call(this)}function ja(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=ba.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fa(this.b,Pa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(fa(this.b,Pa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ka(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ka(this,!0)),ba.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Na(this):this.Jc())},t.Jc=function(){Na(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case wa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ia,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return fa(this.b,"Can not get response: "+t.message),null}},Oa.prototype.cancel=function(t){if(this.a)this.c instanceof Oa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ua(this),La(this),Ra(this,!1,t))}},Oa.prototype.m=function(t,e){this.i=!1,Ra(this,t,e)},Oa.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return Ma(this,r,(function(t){t instanceof Ua?o.cancel():i(t)})),o.then(t,e,n)},Oa.prototype.$goog_Thenable=!0,I(qa,x),qa.prototype.message="Deferred has already fired",qa.prototype.name="AlreadyCalledError",I(Ua,x),Ua.prototype.message="Deferred was canceled",Ua.prototype.name="CanceledError",ja.prototype.c=function(){throw delete Ba[this.a],this.b};var Ba={};function za(t){var e,n=document,r=Tt(t).toString(),i=de(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Oa(o);return e=window.setTimeout((function(){$a(i,!0);var t=new Wa(Ha,"Timeout reached for loading script "+r);La(s),Ra(s,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||($a(i,!1,e),La(s),Ra(s,!0,null))},i.onerror=function(){$a(i,!0,e);var t=new Wa(Ga,"Error while loading script "+r);La(s),Ra(s,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=c(e.document):(null===u&&(u=c(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Ka(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&$a(t,!0,this.Ma)}}function $a(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ga=0,Ha=1;function Wa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),x.call(this,n),this.code=t}function Qa(t){this.f=t}function Ya(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Za,this.g=ft(t.secureTokenHeaders||ts),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||es,this.a=ft(t.firebaseHeaders||ns),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ir(),!(n=a.XMLHttpRequest||n&&Fe.INTERNAL.node&&Fe.INTERNAL.node.XMLHttpRequest)&&!wr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new da(self):Er()?this.f=new Qa(n):this.f=new Jo,this.b=null}I(Wa,x),I(Qa,Wo),Qa.prototype.a=function(){return new this.f},Qa.prototype.b=function(){return{}};var Xa,Ja="idToken",Za=new jr(3e4,6e4),ts={"Content-Type":"application/x-www-form-urlencoded"},es=new jr(3e4,6e4),ns={"Content-Type":"application/json"};function rs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function is(t,e){e&&(t.l=os("https://securetoken.googleapis.com/v1/token",e),t.h=os("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=os("https://identitytoolkit.googleapis.com/v2/",e))}function os(t,e){return t=Fn(t),e=Fn(e.url),t.f=t.a+t.f,On(t,e.c),t.a=e.a,Rn(t,e.g),t.toString()}function as(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ss(t,e,n,r,i,o,s){(function(){var t=kr();return!((t=_r(t)!=Sr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Gt&&oe&&!(9<oe))})()||wr()?t=b(t.u,t):(Xa||(Xa=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{a[cs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ma(t,null,e,void 0)}(za(St(us,{onload:cs})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,s)}Ya.prototype.T=function(){return this.b},Ya.prototype.u=function(t,e,n,r,i,o){if(wr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ba(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}In(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return fa(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),En(s,"ready",(function(){u&&clearTimeout(u),Ke(this)})),En(s,"timeout",(function(){u&&clearTimeout(u),Ke(this),e&&e(null)})),Ta(s,t,n,r,i)};var us=new gt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),cs="__fcb"+Math.floor(1e6*Math.random()).toString();function hs(t,e,n,r,i,o,a){var s=Fn(e+n);Mn(s,"key",t.c),a&&Mn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(s,c,i[c]);return new be((function(e,n){ss(t,s.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:nr(Mr(i)),t.a,t.v.get())}))}function ls(t){if("string"!=typeof(t=t.email)||!gr.test(t))throw new T("invalid-email")}function fs(t){"email"in t&&ls(t)}function ds(t){if(!t[Ja]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ft(t));throw new T("internal-error")}}function ps(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Ya.prototype.s=function(t,e,n,r,i){var o=this;Xa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ya.prototype.Ab=function(){return ru(this,$s,{})},Ya.prototype.Cb=function(t,e){return ru(this,zs,{idToken:t,email:e})},Ya.prototype.Db=function(t,e){return ru(this,Ks,{idToken:t,password:e})};var vs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function gs(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ms(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ys(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Jn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function bs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ho(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ho(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ho(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;ds(t)}function ws(t,e){return e.returnIdpCredential=!0,ru(t,Ws,e)}function Is(t,e){return e.returnIdpCredential=!0,ru(t,Ys,e)}function Es(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Qs,e)}function Ts(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Ya.prototype).Eb=function(t,e){var n={idToken:t},r=[];return ht(vs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,zs,n)},t.wb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Fs,t)},t.xb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,Ls,t)},t.vb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Ms,t)},t.Fb=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Vs,t)},t.gb=function(t){return ru(this,Zs,t)},t.ob=function(t,e){return ru(this,js,{oobCode:t,newPassword:e})},t.Sa=function(t){return ru(this,_s,{oobCode:t})},t.kb=function(t){return ru(this,Ss,{oobCode:t})};var Ss={endpoint:"setAccountInfo",A:Ts,Z:"email",B:!0},_s={endpoint:"resetPassword",A:Ts,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},As={endpoint:"signupNewUser",A:function(t){if(ls(t),!t.password)throw new T("weak-password")},G:ds,V:!0,B:!0},Ns={endpoint:"createAuthUri",B:!0},ks={endpoint:"deleteAccount",O:["idToken"]},Ds={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Cs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ls,G:ds,V:!0,B:!0},xs={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ls,G:ds,V:!0},Ps={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:gs,G:ds,B:!0,Na:!0},Os={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:gs,G:ds,B:!0,Na:!0},Rs={endpoint:"getAccountInfo"},Ls={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ls(t)},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Vs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ls(t)},Z:"email",B:!0},qs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Us={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},js={endpoint:"resetPassword",A:Ts,Z:"email",B:!0},Bs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},zs={endpoint:"setAccountInfo",O:["idToken"],A:fs,V:!0},Ks={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(fs(t),!t.password)throw new T("weak-password")},G:ds,V:!0},$s={endpoint:"signupNewUser",G:ds,V:!0,B:!0},Gs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Hs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ws={endpoint:"verifyAssertion",A:ms,Za:ys,G:bs,V:!0,B:!0},Qs={endpoint:"verifyAssertion",A:ms,Za:ys,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);ds(t)},V:!0,B:!0},Ys={endpoint:"verifyAssertion",A:function(t){if(ms(t),!t.idToken)throw new T("internal-error")},Za:ys,G:bs,V:!0},Xs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:ds,V:!0,B:!0},Js={endpoint:"verifyPassword",A:function(t){if(ls(t),!t.password)throw new T("wrong-password")},G:ds,V:!0,B:!0},Zs={endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");ps(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ho(t);ds(t)}},eu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ja]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Ne(new T("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Ae(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),hs(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Lr(t)),new T("internal-error",e)}function au(t){this.b=t,this.a=null,this.sb=function(t){return(hu||(hu=new be((function(t,e){function n(){Ur(),Dr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:uu.get()})}if(Dr("gapi.iframes.Iframe"))t();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Dr("gapi.load")?n():e(Error("Network Error"))},Ae(za(r=St(su,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw hu=null,t})))).then((function(){return new be((function(e,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new gt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new jr(3e4,6e4),cu=new jr(5e3,15e3),hu=null;function lu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=qn((t=Fn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=qn("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return Fe.app(t).auth().Ga()}catch(t){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=cr();return function(t){return ru(t,qs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Fn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Fn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:vr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new $o(cr())}))}function gu(t){return t.m||(t.m=mr().then((function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new lu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.v=new au(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)}))}(t)}))),t.m}function mu(t){return t.l||(t.C=t.c?Nr(t.c,du(t.b)):null,t.l=new Ya(t.g,D(t.i),t.C),t.f&&is(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,a,s,u,c,h,l){return(t=new fu(t,e,n,r,i,l)).l=o,t.g=a,t.i=s,t.b=ft(u||null),t.f=c,t.zb(h).toString()}function bu(t){if(this.a=t||Fe.INTERNAL.reactNative&&Fe.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=b(this.c,this)}lu.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},fu.prototype.zb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=Fn(this.v.url);t=qn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=qn("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Fe.app(this.c).auth().la()}catch(t){n=null}for(var r in e.pb=n,Mn(t,"providerId",this.a.providerId),e=Mr((n=this.a).Jb))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),lt(e)||Mn(t,"customParameters",Lr(e))}if("function"==typeof this.a.Rb&&((n=this.a.Rb()).length&&Mn(t,"scopes",n.join(","))),this.l?Mn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Mn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Vn(t,a)&&Mn(t,a,this.b[a]);return this.h?Mn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Mn(t,"eid",this.f):Xn(t.b,"eid"),(a=du(this.c)).length&&Mn(t,"fw",a.join(",")),t.toString()},(t=pu.prototype).Pb=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return gu(t).then((function(){return function(t,e){return t.sb.then((function(){return new be((function(n){t.a.send(e.type,e,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&dr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new be((function(e){return function n(){_n(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return _n(n).then((function(){e(r)}))}))},t.Yb=function(){var t=kr();return!Rr(t)&&!qr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,a,s){if(!t)return Ne(new T("popup-blocked"));if(a&&!Rr())return this.ma().o((function(e){dr(t),i(e)})),r(),Ae();this.a||(this.a=vu(mu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw dr(t),i(e),e}));return r(),e})).then((function(){(qo(n),a)||hr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=vu(mu(this)));var i=this;return this.a.then((function(){qo(e),hr(yu(i.s,i.g,i.b,t,e,cr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return gu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){H(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return Ae(this.a.getItem(t)).then((function(t){return t&&Vr(t)}))},t.set=function(t,e){return Ae(this.a.setItem(t,Lr(e)))},t.U=function(t){return Ae(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Iu,Eu=[];function Tu(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Su(t){this.a=t}function _u(t){this.c=t,this.b=!1,this.a=[]}function Au(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return Nu(t,c),e})).o((function(e){throw Nu(t,c),e}))}function Nu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),H(t.a,(function(t){return t==e}))}}function ku(){if(!Pu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wr()&&self?(this.v=function(){var t=wr()?self:null;if(j(Eu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Eu.push(e)}return e}(),Tu(this.v,"keyChanged",(function(e,n){return Vu(t).then((function(e){return 0<e.length&&j(t.a,(function(t){t(e)})),{keyProcessed:$(e,n.key)}}))})),Tu(this.v,"ping",(function(){return Ae(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Ae().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ae(null)}().then((function(e){(t.h=e)&&(t.g=new _u(new Su(e)),Au(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Du(t){return new be((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Du(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Cu(t){return t.i||(t.i=Du(t)),t.i}function xu(t,e){var n=0;return new be((function r(i,o){Cu(t).then(e).then(i).o((function(e){if(!(3<++n))return Cu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Pu(){try{return!!a.indexedDB}catch(t){return!1}}function Ou(t){return t.objectStore("firebaseLocalStorage")}function Ru(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Lu(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Au(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ae()}function Vu(t){return Cu(t).then((function(t){var e=Ou(Ru(t,!1));return e.getAll?Lu(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=lr(t.c,n),t.c=n}return r}))}function Fu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function qu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then((function(){if(Pu()){var t=Fr(),r="__sak"+t;return Iu||(Iu=new ku),(n=Iu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){j(e.a,(function(e){e(t)}))})),t}))}function Uu(){this.a={},this.type="inMemory"}function ju(){if(!function(){var t="Node"==Ir();if(!(t=Bu()||t&&Fe.INTERNAL.node&&Fe.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ir())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Bu()||Fe.INTERNAL.node.localStorage,this.type="localStorage"}function Bu(){try{var t=a.localStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function zu(){this.type="nullStorage"}function Ku(){if(!function(){var t="Node"==Ir();if(!(t=$u()||t&&Fe.INTERNAL.node&&Fe.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ir())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=$u()||Fe.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function $u(){try{var t=a.sessionStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Gu(){var t={};t.Browser=Qu,t.Node=Yu,t.ReactNative=Xu,t.Worker=Ju,this.a=t[Ir()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];j(r,(function(e){i.push(Ae().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];j(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),j(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Su.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},_u.prototype.close=function(){for(;0<this.a.length;)Nu(this,this.a[0]);this.b=!0},(t=ku.prototype).set=function(t,e){var n=this,r=!1;return xu(this,(function(e){return Lu((e=Ou(Ru(e,!0))).get(t))})).then((function(i){return xu(n,(function(o){if(o=Ou(Ru(o,!0)),i)return i.value=e,Lu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Lu(o.add(a))}))})).then((function(){return n.c[t]=e,Mu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return xu(this,(function(e){return Lu(Ou(Ru(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return xu(this,(function(r){return n=!0,e.b++,Lu(Ou(Ru(r,!0)).delete(t))})).then((function(){return delete e.c[t],Mu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Vu(t).then((function(e){0<e.length&&j(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Fu(t),e()}(this),this.a.push(t)},t.ia=function(t){H(this.a,(function(e){return e==t})),0==this.a.length&&Fu(this)},(t=qu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){H(this.a,(function(e){return e==t}))},(t=Uu.prototype).get=function(t){return Ae(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ae()},t.U=function(t){return delete this.a[t],Ae()},t.ca=function(){},t.ia=function(){},(t=ju.prototype).get=function(t){var e=this;return Ae().then((function(){return Vr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&un(a.window,"storage",t)},t.ia=function(t){a.window&&ln(a.window,"storage",t)},(t=zu.prototype).get=function(){return Ae(null)},t.set=function(){return Ae()},t.U=function(){return Ae()},t.ca=function(){},t.ia=function(){},(t=Ku.prototype).get=function(t){var e=this;return Ae().then((function(){return Vr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Hu,Wu,Qu={F:ju,cb:Ku},Yu={F:ju,cb:Ku},Xu={F:bu,cb:zu},Ju={F:ju,cb:zu},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(qr(kr())||!br()),e=Rr(),n=Cr();this.m=t,this.h=e,this.l=n,this.a={},Hu||(Hu=new Gu),t=Hu;try{this.g=!ur()&&Kr()||!a.indexedDB?new t.a.F:new qu(wr()?new Uu:new t.a.F)}catch(t){this.g=new Uu,this.h=!0}try{this.i=new t.a.cb}catch(t){this.i=new Uu}this.v=new Uu,this.f=b(this.Zb,this),this.b={}}function ec(){return Wu||(Wu=new tc),Wu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function ac(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),lt(this.a)&&(nc(this,"local").ca(this.f),this.h||(ur()||!Kr())&&a.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(H(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.nb(e))},Gt&&oe&&10==oe&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else j(t,b(this.nb,this))},t.nb=function(t){this.a[t]&&j(this.a[t],(function(t){t()}))};var sc,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function hc(t,e){this.b=lc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=a.Int32Array?new Int32Array(yc):yc),this.reset()}I(hc,(function(){this.b=-1}));for(var lc=64,fc=lc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var vc=W(128,dc);function gc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&h^~c&l)+(0|sc[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(gc(t),i=0)}}t.c=i,t.g+=n}hc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Q(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){hc.call(this,8,wc)}I(bc,hc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ic(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(t){return new T("invalid-cordova-configuration",t)}function Tc(t){var e=new bc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,vc,56-e.c):mc(e,vc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return z(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Sc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function _c(t){return t.f||(t.f=t.ma().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ac(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Vr(Vn(o=Fn(i),"firebaseError")||null))?S(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Sc(t,i)}))}var n=new Uo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=_n(500).then((function(){return Ac(t).then((function(){r||Sc(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Dr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Ko||(Ko=new Bo),function(t){var e=Ko;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Dr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ac(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return jo(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function Nc(t){this.a=t,this.b=ec()}(t=Ic.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?mr().then((function(){return new be((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Dr("universalLinks.subscribe",a))throw Ec("cordova-universal-links-plugin-fix is not installed");if(void 0===Dr("BuildInfo.packageName",a))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof Dr("cordova.plugins.browsertab.openUrl",a))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof Dr("cordova.InAppBrowser.open",a))throw Ec("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Pb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Ae()},t.Nb=function(){return Ne(new T("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ne(new T("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,h=null;return this.c=Ae().then((function(){return qo(e),_c(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Uo(e,r,null,o,new T("no-auth-event"),null,i),u=Dr("BuildInfo.packageName",a);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Dr("BuildInfo.displayName",a),h={};if(kr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!kr().toLowerCase().match(/android/))return Ne(new T("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=Tc(o),h.sessionId=o;var l=yu(t.v,t.i,t.l,e,n,null,r,t.m,h,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,s.w(),e)})).then((function(){var e=Dr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Dr("cordova.plugins.browsertab.openUrl",a)))throw new T("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=Dr("cordova.InAppBrowser.open",a)))throw new T("invalid-cordova-configuration");e=kr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){u=function(){var e=Dr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s||(s=_n(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},h=function(){Br()&&c()},o.addEventListener("resume",c,!1),kr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return Ac(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null}))},t.Ea=function(t){this.b.push(t),_c(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Ta=function(t){H(this.b,(function(e){return e==t}))};var kc={name:"pendingRedirect",F:"session"};function Dc(t){return ic(t.b,kc,t.a)}function Cc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new $c,this.C=new Yc,this.g=new Nc(zc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xc(this.D,this.v,this.m,_,this.J)}function xc(t,e,n,r,i){var o=Fe.SDK_VERSION||null;return yr()?new Ic(t,e,n,o,r,i):new pu(t,e,n,o,r,i)}function Pc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Oc(t){t.a.Yb()&&Pc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));qc(e)&&t.s(n)})),t.a.Ub()||Gc(t.b)}function Rc(t,e){$(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(kc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Dc(t.g).then((function(){Pc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));qc(e)&&t.s(n)}))})):Oc(t)})).o((function(){Oc(t)}))}function Lc(t,e){H(t.h,(function(t){return t==e}))}Cc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=xc(this.D,this.v,this.m,null,this.J),this.i={}},Cc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Gc(this.b),e};var Mc=new jr(2e3,1e4),Vc=new jr(3e4,6e4);function Fc(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function qc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Uc(t,e,n,r,i){var o;return function(t){return t.b.set(kc,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(qc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Dc(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new be((function(){})):Dc(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function jc(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Mc.get())}Cc.prototype.ra=function(){return this.b.ra()};var Bc={};function zc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Kc(t,e,n,r){var i=zc(e,n,r);return Bc[i]||(Bc[i]=new Cc(t,e,n,r)),Bc[i]}function $c(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(t){t.g||(t.g=!0,Qc(t,!1,null,null))}function Hc(t){t.g&&!t.i&&Qc(t,!1,null,null)}function Wc(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Qc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Wc(t,n):Wc(t,{user:null}),t.f=[],t.c=[]}function Yc(){}function Xc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Jc(t,e){this.a=e,Qr(this,"verificationId",t)}function Zc(t,e,n,r){return new Mo(t).gb(e,n).then((function(t){return new Jc(t,r)}))}function th(t){var e=Ki(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yr(this,{token:t,expirationTime:zr(1e3*e.exp),authTime:zr(1e3*e.auth_time),issuedAtTime:zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function eh(t,e,n){var r=e&&e[rh];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;j(e[nh]||[],(function(t){(t=ti(t))&&i.b.push(t)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}$c.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$c.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Qc(this,!0,null,t.a),Ae()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Qc(t,s,e,null)})).o((function(e){Qc(t,s,null,e)}))}(this,t,e):Ne(new T("invalid-auth-event")):(Qc(this,!1,null,null),Ae())}else Ne(new T("invalid-auth-event"))},$c.prototype.ra=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=_n(Vc.get()).then((function(){t.b||(t.g=!0,Qc(t,!0,null,e))}))}(t))}))},Yc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ae()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ne(new T("invalid-auth-event"))}else Ne(new T("invalid-auth-event"))},Jc.prototype.confirm=function(t){return t=Vo(this.verificationId,t),this.a(t)};var nh="mfaInfo",rh="mfaPendingCredential";function ih(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new eh(t,e,n),Qr(this,"resolver",this.b)}function oh(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new ih(e,t.serverResponse,n,t.message)}catch(t){}return null}function ah(){}function sh(t){Qr(this,"factorId",t.fa),this.a=t}function uh(t){if(sh.call(this,t),this.a.fa!=Mo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ch(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function hh(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&j(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ri]=t.uid),t.displayName&&(r[ei]=t.displayName),t.enrollmentTime&&(r[ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ii]=t.phoneNumber);try{e=new oi(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),lh(this,n)}function lh(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function fh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dh(t,e){t.stop(),t.b=_n(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=a.document,e=null;return Br()||!t?Ae():new be((function(n){e=function(){Br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){dh(t,!0)})).o((function(e){t.i(e)&&dh(t,!1)}))}function ph(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function vh(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function gh(t,e){t.b=zi(e[Ja]||""),t.a=e.refreshToken,vh(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function mh(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ss(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Yn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=zi(e.access_token),t.a=e.refresh_token,vh(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function yh(t,e){this.a=t||null,this.b=e||null,Yr(this,{lastSignInTime:zr(e||null),creationTime:zr(t||null)})}function bh(t,e,n,r,i,o){Yr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function wh(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Fe.SDK_VERSION?Nr(Fe.SDK_VERSION):null;this.a=new Ya(this.l,D(_),r),(this.u=t.emulatorConfig||null)&&is(this.a,this.u),this.h=new ph(this.a),Dh(this,e[Ja]),gh(this.h,e),Qr(this,"refreshToken",this.h.a),Ph(this,n||{}),wn.call(this),this.P=!1,this.s&&xr()&&(this.b=Kc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new fh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=b(this.ib,this);var i=this;this.za=null,this.Pa=function(t){i.xa(t.h)},this.qa=null,this.Ba=function(t){Ih(i,t.c)},this.$=null,this.aa=[],this.Oa=function(t){Sh(i,t.f)},this.ja=null,this.S=new hh(this,n),Qr(this,"multiFactor",this.S)}function Ih(t,e){t.u=e,is(t.a,e),t.b&&(e=t.b,t.b=Kc(t.s,t.l,t.m,t.u),t.P&&(Lc(e,t),Rc(t.b,t)))}function Eh(t,e){t.qa&&ln(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&un(e,"languageCodeChanged",t.Pa)}function Th(t,e){t.$&&ln(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&un(e,"emulatorConfigChanged",t.Ba)}function Sh(t,e){t.aa=e,as(t.a,Fe.SDK_VERSION?Nr(Fe.SDK_VERSION,t.aa):null)}function _h(t,e){t.ja&&ln(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&un(e,"frameworkChanged",t.Oa)}function Ah(t){try{return Fe.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Nh(t){t.J||t.D.b||(t.D.start(),ln(t,"tokenChanged",t.ba),un(t,"tokenChanged",t.ba))}function kh(t){ln(t,"tokenChanged",t.ba),t.D.stop()}function Dh(t,e){t.Aa=e,Qr(t,"_lat",e)}function Ch(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return De(e).then((function(){return t}))}function xh(t){t.b&&!t.P&&(t.P=!0,Rc(t.b,t))}function Ph(t,e){Yr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new yh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Oh(){}function Rh(t){return Ae().then((function(){if(t.J)throw new T("app-deleted")}))}function Lh(t){return z(t.providerData,(function(t){return t.providerId}))}function Mh(t,e){e&&(Vh(t,e.providerId),t.providerData.push(e))}function Vh(t,e){H(t.providerData,(function(t){return t.providerId==e}))}function Fh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function qh(t,e){t!=e&&(Yr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Qr(t,"metadata",function(t){return new yh(t.a,t.b)}(e.metadata)):Qr(t,"metadata",new yh),j(e.providerData,(function(e){Mh(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Qr(t,"refreshToken",t.h.a),lh(t.S,e.S.b))}function Uh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Rs,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Fh(t,"isAnonymous",!1),e}))}))}function jh(t,e){e[Ja]&&t.Aa!=e[Ja]&&(gh(t.h,e),t.dispatchEvent(new ch("tokenChanged")),Dh(t,e[Ja]),Fh(t,"refreshToken",t.h.a))}function Bh(t,e){return Uh(t).then((function(){if($(Lh(t),e))return Ch(t).then((function(){throw new T("provider-already-linked")}))}))}function zh(t,e,n){return Xr({user:t,credential:Fo(e),additionalUserInfo:e=Qi(e),operationType:n})}function Kh(t,e){return jh(t,e),t.reload().then((function(){return t}))}function $h(t,e,n,r,i){if(!xr())return Ne(new T("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ne(t.i);var o=Wi(n.providerId),a=Fr(t.uid+":::"),s=null;(!Rr()||br())&&t.s&&n.isOAuthProvider&&(s=yu(t.s,t.l,t.m,e,n,null,a,Fe.SDK_VERSION||null,null,null,t.tenantId,t.u));var u=pr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Hh(t),!i)return t.I().then((function(){}))})).then((function(){return Fc(t.b,u,e,n,a,!!s,t.tenantId)})).then((function(){return new be((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=jc(t.b,t,e,u,a)}))})).then((function(t){return u&&dr(u),t?Xr(t):null})).o((function(t){throw u&&dr(u),t})),Wh(t,r,i)}function Gh(t,e,n,r,i){if(!xr())return Ne(new T("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ne(t.i);var o=null,a=Fr(t.uid+":::");return r=r().then((function(){if(Hh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Ch(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Xh,t.w(),e.a)),e})).then((function(){return Uc(t.b,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Jh(t.ha);throw o})).then((function(){if(o)throw o})),Wh(t,r,i)}function Hh(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Wh(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ne(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new ch("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){G(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=oh(e.w(),Ah(t),b(t.jc,t))),n||e}))}function Qh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ja]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new wh(e,n,t);return t.providerData&&j(t.providerData,(function(t){t&&Mh(i,Xr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Yh(t){this.a=t,this.b=ec()}eh.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[nh],delete n[rh],pt(n,t),e.g(n)}))},I(ih,T),ah.prototype.tb=function(t,e,n){return e.type==ao?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Lo(t.a)}),ru(e,Ps,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Lo(t.a)}),ru(e,Os,n)}))}(this,t,e)},I(sh,ah),I(uh,sh),I(ch,Qe),(t=hh.prototype).yc=function(t){lh(this,function(t){var e=[];return j(t.mfaInfo||[],(function(t){(t=ti(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new oo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return jh(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return lh(e,r),jh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(t){return t.w()}))}}},fh.prototype.start=function(){this.a=this.c,dh(this,!0)},fh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ph.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ph.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?mh(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},yh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(wh,wn),wh.prototype.xa=function(t){this.za=t,rs(this.a,t)},wh.prototype.la=function(){return this.za},wh.prototype.Ga=function(){return Q(this.aa)},wh.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Qr(wh.prototype,"providerId","firebase"),(t=wh.prototype).reload=function(){var t=this;return Wh(this,Rh(this).then((function(){return Uh(t).then((function(){return Ch(t)})).then(Oh)})))},t.oc=function(t){return this.I(t).then((function(t){return new th(t)}))},t.I=function(t){var e=this;return Wh(this,Rh(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.Aa&&(Dh(e,t.accessToken),e.dispatchEvent(new ch("tokenChanged"))),Fh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Ph(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,(function(t){return new bh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Mh(this,e[n]);Fh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ch("userReloaded",{hd:t}))},t.Lc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Wh(this,t.c(this.a,this.uid).then((function(t){return jh(e,t),n=zh(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Wh(this,Bh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=zh(e,t,"link"),Kh(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Wh(this,Bh(this,"phone").then((function(){return Zc(Ah(n),t,e,b(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Wh(this,Ae().then((function(){return Zc(Ah(n),t,e,b(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Wh(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return jh(e,t),e.reload()})))},t.ed=function(t){var e=this;return Wh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return jh(e,t),e.reload()})))},t.Db=function(t){var e=this;return Wh(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return jh(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Rh(this);var e=this;return Wh(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return jh(e,t),Fh(e,"displayName",t.displayName||null),Fh(e,"photoURL",t.photoUrl||null),j(e.providerData,(function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))})),Ch(e)})).then(Oh))},t.cd=function(t){var e=this;return Wh(this,Uh(this).then((function(n){return $(Lh(e),t)?function(t,e,n){return ru(t,Ds,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return j(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),j(Lh(e),(function(t){n[t]||Vh(e,t)})),n[Mo.PROVIDER_ID]||Qr(e,"phoneNumber",null),Ch(e)})):Ch(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Wh(this,this.I().then((function(e){return ru(t.a,ks,{idToken:e})})).then((function(){t.dispatchEvent(new ch("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");Eh(t,null),Th(t,null),_h(t,null),t.N=[],t.J=!0,kh(t),Qr(t,"refreshToken",null),t.b&&Lc(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Mb,this):null},t.Ec=function(t){var e=this;return $h(this,"linkViaPopup",t,(function(){return Bh(e,t.providerId).then((function(){return Ch(e)}))}),!1)},t.Nc=function(t){return $h(this,"reauthViaPopup",t,(function(){return Ae()}),!0)},t.Fc=function(t){var e=this;return Gh(this,"linkViaRedirect",t,(function(){return Bh(e,t.providerId)}),!1)},t.Oc=function(t){return Gh(this,"reauthViaRedirect",t,(function(){return Ae()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wh(this,this.I().then((function(n){return Is(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=zh(i,t,"link"),Kh(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wh(this,Ae().then((function(){return co(Es(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=zh(i,t,"reauthenticate"),jh(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return Wh(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:qi(new Di(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return Wh(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:qi(new Di(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Wh(this,t=co(Ae(t),n.uid).then((function(t){return e=zh(n,t,"reauthenticate"),jh(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),j(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.S.w()),t};var Xh={name:"redirectUser",F:"session"};function Jh(t){return ic(t.b,Xh,t.a)}function Zh(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=nl("local"),n=nl("session"),r=nl("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Vr(a.localStorage.getItem(r))}catch(t){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(el,t.a).then((function(t){return t?nl(t):e}))}))}))})).then((function(e){return t.c=e,tl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(nl("local"),this.a,b(this.g,this))}function tl(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,nl(Zu[n]),t.a));return r.push(ic(t.b,el,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)ke(t[s],w(o,s),a);else e(i)}))}(r)}Zh.prototype.g=function(){var t=this,e=nl("local");al(this,(function(){return Ae().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return tl(t,"local").then((function(){t.c=e}))}))}))};var el={name:"persistence",F:"session"};function nl(t){return{name:"authUser",F:t}}function rl(t,e){return al(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function il(t){return al(t,(function(){return ic(t.b,t.c,t.a)}))}function ol(t,e,n){return al(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Qh(t||{})}))}))}function al(t,e){return t.f=t.f.then(e,e),t.f}function sl(t){if(this.l=!1,Qr(this,"settings",new Xc),Qr(this,"app",t),!gl(this).options||!gl(this).options.apiKey)throw new T("invalid-api-key");t=Fe.SDK_VERSION?Nr(Fe.SDK_VERSION):null,this.a=new Ya(gl(this).options&&gl(this).options.apiKey,D(_),t),this.P=[],this.s=[],this.N=[],this.Pa=Fe.INTERNAL.createSubscribe(b(this.zc,this)),this.W=void 0,this.ib=Fe.INTERNAL.createSubscribe(b(this.Ac,this)),pl(this,null),this.i=new Zh(gl(this).options.apiKey+":"+gl(this).name),this.D=new Yh(gl(this).options.apiKey+":"+gl(this).name),this.$=wl(this,function(t){var e=gl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Xh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Qh(t||{})}))}(t.D,gl(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Jh(t.D)}));return wl(t,e)}(t).then((function(){return ol(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return rl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:il(t.i)}))):null})).then((function(e){pl(t,e||null)}));return wl(t,n)}(this)),this.h=wl(this,function(t){return t.$.then((function(){return fl(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(nl("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.qa=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=gl(t).options.authDomain,n=gl(t).options.apiKey;e&&xr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Kc(e,n,gl(t).name,t.R),Rc(t.b,t),ml(t)&&xh(ml(t)),t.m){xh(t.m);var r=t.m;r.xa(t.la()),Eh(r,t),Sh(r=t.m,t.J),_h(r,t),Ih(r=t.m,t.R),Th(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Fn(this.R.url);t=Xr({protocol:t.c,host:t.a,port:t.g,options:Xr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function ul(t){Qe.call(this,"languageCodeChanged"),this.h=t}function cl(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function hl(t){Qe.call(this,"frameworkChanged"),this.f=t}function ll(t){return t.Oa||Ne(new T("auth-domain-config-required"))}function fl(t){if(!xr())return Ne(new T("operation-not-supported-in-this-environment"));var e=ll(t).then((function(){return t.b.ra()})).then((function(t){return t?Xr(t):null}));return wl(t,e)}function dl(t,e){var n={};return n.apiKey=gl(t).options.apiKey,n.authDomain=gl(t).options.authDomain,n.appName=gl(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new wh(t,e);return n&&(i.ha=n),r&&Sh(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return ml(t)&&e.uid==ml(t).uid?(qh(ml(t),e),t.da(e)):(pl(t,e),xh(e),t.da(e))})).then((function(){bl(t)}))}function pl(t,e){ml(t)&&(function(t,e){H(t.W,(function(t){return t==e}))}(ml(t),t.Ba),ln(ml(t),"tokenChanged",t.qa),ln(ml(t),"userDeleted",t.za),ln(ml(t),"userInvalidated",t.Aa),kh(ml(t))),e&&(e.W.push(t.Ba),un(e,"tokenChanged",t.qa),un(e,"userDeleted",t.za),un(e,"userInvalidated",t.Aa),0<t.u&&Nh(e)),Qr(t,"currentUser",e),e&&(e.xa(t.la()),Eh(e,t),Sh(e,t.J),_h(e,t),Ih(e,t.R),Th(e,t))}function vl(t,e){var n=null,r=null;return wl(t,e.then((function(e){return n=Fo(e),r=Qi(e),dl(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=oh(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Xr({user:ml(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function gl(t){return t.app}function ml(t){return t.currentUser}function yl(t){return ml(t)&&ml(t)._lat||null}function bl(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](yl(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](yl(t))}}function wl(t,e){return t.P.push(e),e.oa((function(){G(t.P,e)})),e}function Il(){}function El(){this.a={},this.b=1e12}Zh.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Ir()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Pu()&&"none"!==t)throw n;break;default:if(!Cr()&&"none"!==t)throw n}}(t),al(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,tl(n,t)})).then((function(){if(n.c=nl(t),e)return n.b.set(n.c,e,n.a)})):Ae()}))},I(sl,wn),I(ul,Qe),I(cl,Qe),I(hl,Qe),(t=sl.prototype).yb=function(t){return wl(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,rs(this.a,this.aa),this.dispatchEvent(new ul(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&mr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,is(this.a,this.R),this.dispatchEvent(new cl(this.R))}},t.Gc=function(t){this.J.push(t),as(this.a,Fe.SDK_VERSION?Nr(Fe.SDK_VERSION,this.J):null),this.dispatchEvent(new hl(this.J))},t.Ga=function(){return Q(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:gl(this).options.apiKey,authDomain:gl(this).options.authDomain,appName:gl(this).name,currentUser:ml(this)&&ml(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return vl(i,ws(i.a,o))}))},t.Xc=function(t){if(!xr())return Ne(new T("operation-not-supported-in-this-environment"));var e=this,n=Wi(t.providerId),r=Fr(),i=null;(!Rr()||br())&&gl(this).options.authDomain&&t.isOAuthProvider&&(i=yu(gl(this).options.authDomain,gl(this).options.apiKey,gl(this).name,"signInViaPopup",t,null,r,Fe.SDK_VERSION||null,null,null,this.T(),this.R));var o=pr(i,n&&n.va,n&&n.ua);return wl(this,n=ll(this).then((function(n){return Fc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new be((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=jc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&dr(o),t?Xr(t):null})).o((function(t){throw o&&dr(o),t})))},t.Yc=function(t){if(!xr())return Ne(new T("operation-not-supported-in-this-environment"));var e=this;return wl(this,ll(this).then((function(){return function(t){return al(t,(function(){return t.b.set(el,t.c.F,t.a)}))}(e.i)})).then((function(){return Uc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.ra=function(){var t=this;return fl(this).then((function(e){return t.b&&Hc(t.b.b),e})).o((function(e){throw t.b&&Hc(t.b.b),e}))},t.dd=function(t){if(!t)return Ne(new T("null-user"));if(this.S!=t.tenantId)return Ne(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=gl(this).options.apiKey,n.authDomain=gl(this).options.authDomain,n.appName=gl(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Ja]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new wh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Sh(e,r),qh(e,t),e}(t,n,e.D,e.Ga());return wl(this,this.h.then((function(){if(gl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return ml(e)&&t.uid==ml(e).uid?(qh(ml(e),t),e.da(t)):(pl(e,r),xh(r),e.da(r))})).then((function(){bl(e)})))},t.Bb=function(){var t=this;return wl(this,this.h.then((function(){return t.b&&Hc(t.b.b),ml(t)?(pl(t,null),il(t.i).then((function(){bl(t)}))):Ae()})))},t.Zc=function(){var t=this;return ol(this.i,gl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=ml(t)&&e){n=ml(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return qh(ml(t),e),ml(t).I();(ml(t)||e)&&(pl(t,e),e&&(xh(e),e.ha=t.D),t.b&&Rc(t.b,t),bl(t))}}))},t.da=function(t){return rl(this.i,t)},t.mc=function(){bl(this),this.da(ml(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return vl(e,Ae(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ml(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),wl(t,t.h.then((function(){!t.l&&$(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(yl(t)))})))}(this,(function(){t.next(ml(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(ml(r)):"function"==typeof t.next&&t.next(ml(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(ml(r)):"function"==typeof t.next&&t.next(ml(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return wl(this,this.h.then((function(){return ml(e)?ml(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return vl(e,ru(e.a,Xs,{token:t}))})).then((function(t){var n=t.user;return Fh(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return vl(n,ru(n.a,Js,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return vl(n,ru(n.a,As,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return vl(e,t.ka(e.a))}))},t.Sc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=ml(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return vl(t,t.a.Ab()).then((function(e){var n=e.user;return Fh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return ml(this)&&ml(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ml(this)&&Nh(ml(this))},t.Pc=function(t){var e=this;j(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&ml(this)&&kh(ml(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),wl(this,this.h.then((function(){e.l||$(e.s,t)&&t(yl(e))})))},t.removeAuthTokenListener=function(t){H(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(nl("local"),t.a,this.ja),this.b&&(Lc(this.b,this),Hc(this.b.b)),Promise.resolve()},t.hc=function(t){return wl(this,function(t,e){return ru(t,Ns,{identifier:e,continueUri:Pr()?cr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Po(t)},t.xb=function(t,e){var n=this;return wl(this,Ae().then((function(){var t=new Di(e);if(!t.c)throw new T("argument-error",Pi+" must be true when sending sign in link to email");return qi(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return wl(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return wl(this,this.a.Sa(t).then((function(t){return new ai(t)})))},t.kb=function(t){return wl(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return wl(this,Ae().then((function(){return void 0===e||lt(e)?{}:qi(new Di(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return wl(this,Zc(this,t,e,b(this.ab,this)))},t.Vc=function(t,e){var n=this;return wl(this,Ae().then((function(){var r=e||cr(),i=xo(t,r);if(!(r=Po(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(i)})))},Il.prototype.render=function(){},Il.prototype.reset=function(){},Il.prototype.getResponse=function(){},Il.prototype.execute=function(){};var Tl=null;function Sl(t,e){return(e=_l(e))&&t.a[e]||null}function _l(t){return(t=void 0===t?1e12:t)?t.toString():null}function Al(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function Nl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function kl(){}function Dl(){}El.prototype.render=function(t,e){return this.a[this.b.toString()]=new Al(t,e),this.b++},El.prototype.reset=function(t){var e=Sl(this,t);t=_l(t),e&&t&&(e.delete(),delete this.a[t])},El.prototype.getResponse=function(t){return(t=Sl(this,t))?t.getResponse():null},El.prototype.execute=function(t){(t=Sl(this,t))&&t.execute()},Al.prototype.getResponse=function(){return Nl(this),this.b},Al.prototype.execute=function(){Nl(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Al.prototype.delete=function(){Nl(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Qr(kl,"FACTOR_ID","phone"),Dl.prototype.g=function(){return Tl||(Tl=new El),Ae(Tl)},Dl.prototype.c=function(){};var Cl=null;function xl(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Pl=new gt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ol=new jr(3e4,6e4);xl.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Ol.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete a[e.a]},Ae(za(St(Pl,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},xl.prototype.c=function(){this.b--};var Rl=null;function Ll(t,e,n,r,i,o,s){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s?(Cl||(Cl=new Dl),s=Cl):(Rl||(Rl=new xl),s=Rl),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fl])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[ql],!a.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ya(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ml];this.a[Ml]=function(t){if(Ul(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Dr(c,a);"function"==typeof e&&e(t)}};var h=this.a[Vl];this.a[Vl]=function(){if(Ul(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=Dr(h,a);"function"==typeof t&&t()}}}var Ml="callback",Vl="expired-callback",Fl="sitekey",ql="size";function Ul(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function jl(t,e){return t.h.push(e),e.oa((function(){G(t.h,e)})),e}function Bl(t){if(t.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function zl(t,e,n){var r=!1;try{this.b=n||Fe.app()}catch(t){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Fe.SDK_VERSION?Nr(Fe.SDK_VERSION,o):null,Ll.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,D(_),r)}function Kl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=$l.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=$l[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Ll.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=jl(this,Ae().then((function(){if(Pr()&&!wr())return mr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,Us,{})})).then((function(e){t.a[Fl]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Bl(this);var t=this;return jl(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ae&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',jt(a.name),'"'),a.type){o.push(' type="',jt(a.type),'"');var s={};pt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=de(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ue(o,a)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Bl(this);var t=this;return jl(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){H(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Bl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Bl(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(zl,Ll);var $l="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Gl(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Hl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Wl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Ql(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Yl(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Xl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Jl(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Zl(t){return p(t)&&"string"==typeof t.uid}function tf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function ef(t,e){for(var n in e){var r=e[n].name;t[r]=of(r,t[n],e[n].j)}}function nf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Kl(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function rf(t,e,n,r){t[e]=of(e,n,r)}function of(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Kl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}ef(sl.prototype,{kb:{name:"applyActionCode",j:[Gl("code")]},Sa:{name:"checkActionCode",j:[Gl("code")]},ob:{name:"confirmPasswordReset",j:[Gl("code"),Gl("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Gl("email"),Gl("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Gl("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Gl("emailLink")]},Hc:{name:"onAuthStateChanged",j:[tf(Wl(),Ql(),"nextOrObserver"),Ql("opt_error",!0),Ql("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[tf(Wl(),Ql(),"nextOrObserver"),Ql("opt_error",!0),Ql("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Gl("email"),tf(Wl("opt_actionCodeSettings",!0),Yl(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Gl("email"),Wl("actionCodeSettings")]},yb:{name:"setPersistence",j:[Gl("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Xl()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Xl()]},Tc:{name:"signInWithCustomToken",j:[Gl("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Gl("email"),Gl("password")]},Vc:{name:"signInWithEmailLink",j:[Gl("email"),Gl("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Gl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[tf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof wh)}},Yl(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Gl(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Gl("url"),Wl("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Gl("code")]}}),nf(sl.prototype,{lc:{name:"languageCode",lb:tf(Gl(),Yl(),"languageCode")},ti:{name:"tenantId",lb:tf(Gl(),Yl(),"tenantId")}}),sl.Persistence=Zu,sl.Persistence.LOCAL="local",sl.Persistence.SESSION="session",sl.Persistence.NONE="none",ef(wh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Hl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Hl("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Xl()]},rb:{name:"linkWithCredential",j:[Xl()]},Dc:{name:"linkWithPhoneNumber",j:[Gl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Xl()]},ub:{name:"reauthenticateWithCredential",j:[Xl()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Gl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[tf(Wl("opt_actionCodeSettings",!0),Yl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Gl(null,!0)]},cd:{name:"unlink",j:[Gl("provider")]},Cb:{name:"updateEmail",j:[Gl("email")]},Db:{name:"updatePassword",j:[Gl("password")]},ed:{name:"updatePhoneNumber",j:[Xl("phone")]},Eb:{name:"updateProfile",j:[Wl("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Gl("email"),tf(Wl("opt_actionCodeSettings",!0),Yl(null,!0),"opt_actionCodeSettings",!0)]}}),ef(El.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(Il.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),nf(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Hl("appVerificationDisabledForTesting")}}),ef(Jc.prototype,{confirm:{name:"confirm",j:[Gl("verificationCode")]}}),rf(uo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,Do,Ro,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[tf(Gl(),Wl(),"json")]),rf(Co,"credential",(function(t,e){return new ko(t,e)}),[Gl("email"),Gl("password")]),ef(ko.prototype,{w:{name:"toJSON",j:[Gl(null,!0)]}}),ef(wo.prototype,{Ca:{name:"addScope",j:[Gl("scope")]},Ka:{name:"setCustomParameters",j:[Wl("customOAuthParameters")]}}),rf(wo,"credential",Io,[tf(Gl(),Wl(),"token")]),rf(Co,"credentialWithLink",xo,[Gl("email"),Gl("emailLink")]),ef(Eo.prototype,{Ca:{name:"addScope",j:[Gl("scope")]},Ka:{name:"setCustomParameters",j:[Wl("customOAuthParameters")]}}),rf(Eo,"credential",To,[tf(Gl(),Wl(),"token")]),ef(So.prototype,{Ca:{name:"addScope",j:[Gl("scope")]},Ka:{name:"setCustomParameters",j:[Wl("customOAuthParameters")]}}),rf(So,"credential",_o,[tf(Gl(),tf(Wl(),Yl()),"idToken"),tf(Gl(),Yl(),"accessToken",!0)]),ef(Ao.prototype,{Ka:{name:"setCustomParameters",j:[Wl("customOAuthParameters")]}}),rf(Ao,"credential",No,[tf(Gl(),Wl(),"token"),Gl("secret",!0)]),ef(bo.prototype,{Ca:{name:"addScope",j:[Gl("scope")]},credential:{name:"credential",j:[tf(Gl(),tf(Wl(),Yl()),"optionsOrIdToken"),tf(Gl(),Yl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Wl("customOAuthParameters")]}}),ef(po.prototype,{w:{name:"toJSON",j:[Gl(null,!0)]}}),ef(ho.prototype,{w:{name:"toJSON",j:[Gl(null,!0)]}}),rf(Mo,"credential",Vo,[Gl("verificationId"),Gl("verificationCode")]),ef(Mo.prototype,{gb:{name:"verifyPhoneNumber",j:[tf(Gl(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Jl(t.session,ao)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Jl(t.session,so)&&Zl(t.multiFactorHint):t.session&&t.multiFactorUid?Jl(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),ef(Oo.prototype,{w:{name:"toJSON",j:[Gl(null,!0)]}}),ef(T.prototype,{toJSON:{name:"toJSON",j:[Gl(null,!0)]}}),ef(Go.prototype,{toJSON:{name:"toJSON",j:[Gl(null,!0)]}}),ef($o.prototype,{toJSON:{name:"toJSON",j:[Gl(null,!0)]}}),ef(ih.prototype,{toJSON:{name:"toJSON",j:[Gl(null,!0)]}}),ef(eh.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),ef(hh.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Gl("displayName",!0)]},bd:{name:"unenroll",j:[tf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Zl},Gl(),"multiFactorInfoIdentifier")]}}),ef(zl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rf(wi,"parseLink",ki,[Gl("link")]),rf(kl,"assertion",(function(t){return new uh(t)}),[Xl("phone")]),function(){if(void 0===Fe||!Fe.INTERNAL||!Fe.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:sl,AuthCredential:uo,Error:T};rf(t,"EmailAuthProvider",Co,[]),rf(t,"FacebookAuthProvider",wo,[]),rf(t,"GithubAuthProvider",Eo,[]),rf(t,"GoogleAuthProvider",So,[]),rf(t,"TwitterAuthProvider",Ao,[]),rf(t,"OAuthProvider",bo,[Gl("providerId")]),rf(t,"SAMLAuthProvider",yo,[Gl("providerId")]),rf(t,"PhoneAuthProvider",Mo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof sl)}}]),rf(t,"RecaptchaVerifier",zl,[tf(Gl(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Wl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Fe.app.App)}}]),rf(t,"ActionCodeURL",wi,[]),rf(t,"PhoneMultiFactorGenerator",kl,[]),Fe.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new sl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),Fe.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Fe.registerVersion("@firebase/auth","0.16.8"),Fe.INTERNAL.extendNamespace({User:wh})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Ue=function(t,e){return(Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function je(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Be,ze="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ke=Ke||{},$e=ze||self;function Ge(){}function He(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function We(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Qe="closure_uid_"+(1e9*Math.random()>>>0),Ye=0;function Xe(t,e,n){return t.call.apply(t.bind,arguments)}function Je(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ze(t,e,n){return(Ze=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xe:Je).apply(null,arguments)}function tn(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function en(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function nn(){this.s=this.s,this.o=this.o}var rn={};nn.prototype.s=!1,nn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Qe)&&t[Qe]||(t[Qe]=++Ye)}(this);delete rn[t]}},nn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var on=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},an=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function sn(t){return Array.prototype.concat.apply([],arguments)}function un(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function cn(t){return/^[\s\xa0]*$/.test(t)}var hn,ln=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function fn(t,e){return-1!=t.indexOf(e)}function dn(t,e){return t<e?-1:t>e?1:0}t:{var pn=$e.navigator;if(pn){var vn=pn.userAgent;if(vn){hn=vn;break t}}hn=""}function gn(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function mn(t){var e={};for(var n in t)e[n]=t[n];return e}var yn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bn(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<yn.length;o++)n=yn[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wn(t){return wn[" "](t),t}wn[" "]=Ge;var In,En,Tn=fn(hn,"Opera"),Sn=fn(hn,"Trident")||fn(hn,"MSIE"),_n=fn(hn,"Edge"),An=_n||Sn,Nn=fn(hn,"Gecko")&&!(fn(hn.toLowerCase(),"webkit")&&!fn(hn,"Edge"))&&!(fn(hn,"Trident")||fn(hn,"MSIE"))&&!fn(hn,"Edge"),kn=fn(hn.toLowerCase(),"webkit")&&!fn(hn,"Edge");function Dn(){var t=$e.document;return t?t.documentMode:void 0}t:{var Cn="",xn=(En=hn,Nn?/rv:([^\);]+)(\)|;)/.exec(En):_n?/Edge\/([\d\.]+)/.exec(En):Sn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(En):kn?/WebKit\/(\S+)/.exec(En):Tn?/(?:Version)[ \/]?(\S+)/.exec(En):void 0);if(xn&&(Cn=xn?xn[1]:""),Sn){var Pn=Dn();if(null!=Pn&&Pn>parseFloat(Cn)){In=String(Pn);break t}}In=Cn}var On,Rn={};function Ln(){return function(t){var e=Rn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){for(var t=0,e=ln(String(In)).split("."),n=ln("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=dn(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||dn(0==o[2].length,0==a[2].length)||dn(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}))}if($e.document&&Sn){var Mn=Dn();On=Mn||(parseInt(In,10)||void 0)}else On=void 0;var Vn=On,Fn=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$e.addEventListener("test",Ge,e),$e.removeEventListener("test",Ge,e)}catch(t){}return t}();function qn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Un(t,e){if(qn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Nn){t:{try{wn(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:jn[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Un.Z.h.call(this)}}qn.prototype.h=function(){this.defaultPrevented=!0},en(Un,qn);var jn={2:"touch",3:"pen",4:"mouse"};Un.prototype.h=function(){Un.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Bn="closure_listenable_"+(1e6*Math.random()|0),zn=0;function Kn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++zn,this.ca=this.fa=!1}function $n(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Gn(t){this.src=t,this.g={},this.h=0}function Hn(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=on(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&($n(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Wn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Gn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=Wn(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new Kn(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Qn="closure_lm_"+(1e6*Math.random()|0),Yn={};function Xn(t,e,n,r,i){if(r&&r.once)return Zn(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Xn(t,e[o],n,r,i);return null}return n=ar(n),t&&t[Bn]?t.N(e,n,We(r)?!!r.capture:!!r,i):Jn(t,e,n,!1,r,i)}function Jn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=We(i)?!!i.capture:!!i,s=ir(t);if(s||(t[Qn]=s=new Gn(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}var e=rr;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Fn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(nr(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Zn(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Zn(t,e[o],n,r,i);return null}return n=ar(n),t&&t[Bn]?t.O(e,n,We(r)?!!r.capture:!!r,i):Jn(t,e,n,!0,r,i)}function tr(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)tr(t,e[o],n,r,i);else r=We(r)?!!r.capture:!!r,n=ar(n),t&&t[Bn]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=Wn(o=t.g[e],n,r,i))&&($n(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=ir(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Wn(e,n,r,i)),(n=-1<t?e[t]:null)&&er(n))}function er(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Bn])Hn(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(nr(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ir(e))?(Hn(n,t),0==n.h&&(n.src=null,e[Qn]=null)):$n(t)}}}function nr(t){return t in Yn?Yn[t]:Yn[t]="on"+t}function rr(t,e){if(t.ca)t=!0;else{e=new Un(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&er(t),t=n.call(r,e)}return t}function ir(t){return(t=t[Qn])instanceof Gn?t:null}var or="__closure_events_fn_"+(1e9*Math.random()>>>0);function ar(t){return"function"==typeof t?t:(t[or]||(t[or]=function(e){return t.handleEvent(e)}),t[or])}function sr(){nn.call(this),this.i=new Gn(this),this.P=this,this.I=null}function ur(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new qn(e,t);else if(e instanceof qn)e.target=e.target||t;else{var i=e;bn(e=new qn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=cr(a,r,!0,e)&&i}if(i=cr(a=e.g=t,r,!0,e)&&i,i=cr(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=cr(a=e.g=n[o],r,!1,e)&&i}function cr(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Hn(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}en(sr,nn),sr.prototype[Bn]=!0,sr.prototype.removeEventListener=function(t,e,n,r){tr(this,t,e,n,r)},sr.prototype.M=function(){if(sr.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)$n(n[r]);delete e.g[t],e.h--}}this.I=null},sr.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},sr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var hr=$e.JSON.stringify;function lr(){var t=br,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var fr,dr=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=pr.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),pr=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new vr}),(function(t){return t.reset()})),vr=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function gr(t){$e.setTimeout((function(){throw t}),0)}function mr(t,e){fr||function(){var t=$e.Promise.resolve(void 0);fr=function(){t.then(wr)}}(),yr||(fr(),yr=!0),br.add(t,e)}var yr=!1,br=new dr;function wr(){for(var t;t=lr();){try{t.h.call(t.g)}catch(t){gr(t)}var e=pr;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}yr=!1}function Ir(t,e){sr.call(this),this.h=t||1,this.g=e||$e,this.j=Ze(this.kb,this),this.l=Date.now()}function Er(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Tr(t,e,n){if("function"==typeof t)n&&(t=Ze(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ze(t.handleEvent,t)}return 2147483647<Number(e)?-1:$e.setTimeout(t,e||0)}function Sr(t){t.g=Tr((function(){t.g=null,t.i&&(t.i=!1,Sr(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}en(Ir,sr),(Be=Ir.prototype).da=!1,Be.S=null,Be.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ur(this,"tick"),this.da&&(Er(this),this.start()))}},Be.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Be.M=function(){Ir.Z.M.call(this),Er(this),delete this.g};var _r=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ue(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Sr(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(nn);function Ar(t){nn.call(this),this.h=t,this.g={}}en(Ar,nn);var Nr=[];function kr(t,e,n,r){Array.isArray(n)||(n&&(Nr[0]=n.toString()),n=Nr);for(var i=0;i<n.length;i++){var o=Xn(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Dr(t){gn(t.g,(function(t,e){this.g.hasOwnProperty(e)&&er(t)}),t),t.g={}}function Cr(){this.g=!0}function xr(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return hr(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Ar.prototype.M=function(){Ar.Z.M.call(this),Dr(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cr.prototype.Aa=function(){this.g=!1},Cr.prototype.info=function(){};var Pr={},Or=null;function Rr(){return Or=Or||new sr}function Lr(t){qn.call(this,Pr.Ma,t)}function Mr(t){var e=Rr();ur(e,new Lr(e,t))}function Vr(t,e){qn.call(this,Pr.STAT_EVENT,t),this.stat=e}function Fr(t){var e=Rr();ur(e,new Vr(e,t))}function qr(t,e){qn.call(this,Pr.Na,t),this.size=e}function Ur(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return $e.setTimeout((function(){t()}),e)}Pr.Ma="serverreachability",en(Lr,qn),Pr.STAT_EVENT="statevent",en(Vr,qn),Pr.Na="timingevent",en(qr,qn);var jr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Br={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zr(){}function Kr(t){return t.h||(t.h=t.i())}function $r(){}zr.prototype.h=null;var Gr,Hr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Wr(){qn.call(this,"d")}function Qr(){qn.call(this,"c")}function Yr(){}function Xr(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Ar(this),this.P=Zr,t=An?125:void 0,this.W=new Ir(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Jr}function Jr(){this.i=null,this.g="",this.h=!1}en(Wr,qn),en(Qr,qn),en(Yr,zr),Yr.prototype.g=function(){return new XMLHttpRequest},Yr.prototype.i=function(){return{}},Gr=new Yr;var Zr=45e3,ti={},ei={};function ni(t,e,n){t.K=1,t.v=_i(bi(e)),t.s=n,t.U=!0,ri(t,null)}function ri(t,e){t.F=Date.now(),si(t),t.A=bi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Fi(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Jr,t.g=Uo(t.l,n?e:null,!t.s),0<t.O&&(t.L=new _r(Ze(t.Ia,t,t.g),t.O)),kr(t.V,t.g,"readystatechange",t.gb),e=t.H?mn(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Mr(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var h=c[0];c=c[1];var l=h.split("_");a=2<=l.length&&"type"==l[1]?a+(h+"=")+c+"&":a+(h+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function ii(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function oi(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=ai(t,n))==ei){4==e&&(t.o=4,Fr(14),i=!1),xr(t.j,t.m,null,"[Incomplete Response]");break}if(r==ti){t.o=4,Fr(15),xr(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}xr(t.j,t.m,r,null),fi(t,r)}ii(t)&&r!=ei&&r!=ti&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Fr(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Po(e),e.L=!0,Fr(11))):(xr(t.j,t.m,n,"[Invalid Chunked Response]"),li(t),hi(t))}function ai(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ei:(n=Number(e.substring(n,r)),isNaN(n)?ti:(r+=1)+n>e.length?ei:(e=e.substr(r,n),t.C=r+n,e))}function si(t){t.Y=Date.now()+t.P,ui(t,t.P)}function ui(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ur(Ze(t.eb,t),e)}function ci(t){t.B&&($e.clearTimeout(t.B),t.B=null)}function hi(t){0==t.l.G||t.I||Lo(t.l,t)}function li(t){ci(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Er(t.W),Dr(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function fi(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||$i(n.i,t)))if(n.I=t.N,!t.J&&$i(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Ro(n),To(n)}xo(n),Fr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ur(Ze(n.ab,n),6e3));if(1>=Ki(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Vo(n,11)}else if((t.J||n.g==t)&&Ro(n),!cn(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var h=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var l=r.i;!l.g&&(fn(h,"spdy")||fn(h,"quic")||fn(h,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Gi(l,l.h),l.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Si(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=qo(r,r.H?r.la:null,r.W),d.J){Hi(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(ci(p),si(p)),r.g=d}else Co(r);0<n.l.length&&Ao(n)}else"stop"!=o[0]&&"close"!=o[0]||Vo(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Vo(n,7):Eo(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Mr(4)}catch(o){}}function di(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(He(t)||"string"==typeof t)an(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(He(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(He(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function pi(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof pi)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function vi(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];gi(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)gi(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function gi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Be=Xr.prototype).setTimeout=function(t){this.P=t},Be.gb=function(t){t=t.target;var e=this.L;e&&3==mo(t)?e.l():this.Ia(t)},Be.Ia=function(t){try{if(t==this.g)t:{var e=mo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||An||this.g&&(this.h.h||this.g.ga()||yo(this.g)))){this.I||4!=e||7==n||Mr(8==n||0>=r?3:2),ci(this);var i=this.g.ba();this.N=i;e:if(ii(this)){var o=yo(this.g);t="";var a=o.length,s=4==mo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){li(this),hi(this);var u="";break e}this.h.i=new $e.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cn(c)){var l=c;break e}}l=null}if(!(i=l)){this.i=!1,this.o=3,Fr(12),li(this),hi(this);break t}xr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fi(this,i)}this.U?(oi(this,e,u),An&&this.i&&3==e&&(kr(this.V,this.W,"tick",this.fb),this.W.start())):(xr(this.j,this.m,u,null),fi(this,u)),4==e&&li(this),this.i&&!this.I&&(4==e?Lo(this.l,this):(this.i=!1,si(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Fr(12)):(this.o=0,Fr(13)),li(this),hi(this)}}}catch(e){}},Be.fb=function(){if(this.g){var t=mo(this.g),e=this.g.ga();this.C<e.length&&(ci(this),oi(this,t,e),this.i&&4!=t&&si(this))}},Be.cancel=function(){this.I=!0,li(this)},Be.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Mr(3),Fr(17)),li(this),this.o=2,hi(this)):ui(this,this.Y-t)},(Be=pi.prototype).R=function(){vi(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Be.T=function(){return vi(this),this.g.concat()},Be.get=function(t,e){return gi(this.h,t)?this.h[t]:e},Be.set=function(t,e){gi(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Be.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var mi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yi(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof yi){this.g=void 0!==e?e:t.g,wi(this,t.j),this.s=t.s,Ii(this,t.i),Ei(this,t.m),this.l=t.l,e=t.h;var n=new Ri;n.i=e.i,e.g&&(n.g=new pi(e.g),n.h=e.h),Ti(this,n),this.o=t.o}else t&&(n=String(t).match(mi))?(this.g=!!e,wi(this,n[1]||"",!0),this.s=Ai(n[2]||""),Ii(this,n[3]||"",!0),Ei(this,n[4]),this.l=Ai(n[5]||"",!0),Ti(this,n[6]||"",!0),this.o=Ai(n[7]||"")):(this.g=!!e,this.h=new Ri(null,this.g))}function bi(t){return new yi(t)}function wi(t,e,n){t.j=n?Ai(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ii(t,e,n){t.i=n?Ai(e,!0):e}function Ei(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ti(t,e,n){e instanceof Ri?(t.h=e,function(t,e){e&&!t.j&&(Li(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Mi(this,e),Fi(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Ni(e,Pi)),t.h=new Ri(e,t.g))}function Si(t,e,n){t.h.set(e,n)}function _i(t){return Si(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ai(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ni(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ki),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ki(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}yi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ni(e,Di,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ni(e,Di,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ni(n,"/"==n.charAt(0)?xi:Ci,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ni(n,Oi)),t.join("")};var Di=/[#\/\?@]/g,Ci=/[#\?:]/g,xi=/[#\?]/g,Pi=/[#\?@]/g,Oi=/#/g;function Ri(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Li(t){t.g||(t.g=new pi,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Mi(t,e){Li(t),e=qi(t,e),gi(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,gi((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&vi(t)))}function Vi(t,e){return Li(t),e=qi(t,e),gi(t.g.h,e)}function Fi(t,e,n){Mi(t,e),0<n.length&&(t.i=null,t.g.set(qi(t,e),un(n)),t.h+=n.length)}function qi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Be=Ri.prototype).add=function(t,e){Li(this),this.i=null,t=qi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Be.forEach=function(t,e){Li(this),this.g.forEach((function(n,r){an(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Be.T=function(){Li(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Be.R=function(t){Li(this);var e=[];if("string"==typeof t)Vi(this,t)&&(e=sn(e,this.g.get(qi(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=sn(e,t[n])}return e},Be.set=function(t,e){return Li(this),this.i=null,Vi(this,t=qi(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Be.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Be.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var Ui=function(t,e){this.h=t,this.g=e};function ji(t){this.l=t||Bi,$e.PerformanceNavigationTiming?t=0<(t=$e.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!($e.g&&$e.g.Ea&&$e.g.Ea()&&$e.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bi=10;function zi(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ki(t){return t.h?1:t.g?t.g.size:0}function $i(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Gi(t,e){t.g?t.g.add(e):t.h=e}function Hi(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Wi(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=je(t.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return un(t.i)}function Qi(){}function Yi(){this.g=new Qi}function Xi(t,e,n){var r=n||"";try{di(t,(function(t,n){var i=t;We(t)&&(i=hr(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Ji(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}function Zi(t){this.l=t.$b||null,this.j=t.ib||!1}function to(t,e){sr.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=eo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ji.prototype.cancel=function(){var t,e;if(this.i=Wi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=je(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Qi.prototype.stringify=function(t){return $e.JSON.stringify(t,void 0)},Qi.prototype.parse=function(t){return $e.JSON.parse(t,void 0)},en(Zi,zr),Zi.prototype.g=function(){return new to(this.l,this.j)},Zi.prototype.i=function(t){return function(){return t}}({}),en(to,sr);var eo=0;function no(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function ro(t){t.readyState=4,t.l=null,t.j=null,t.A=null,io(t)}function io(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Be=to.prototype).open=function(t,e){if(this.readyState!=eo)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,io(this)},Be.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||$e).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ro(this)),this.readyState=eo},Be.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,io(this)),this.g&&(this.readyState=3,io(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$e.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;no(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Be.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ro(this):io(this),3==this.readyState&&no(this)}},Be.Ua=function(t){this.g&&(this.response=this.responseText=t,ro(this))},Be.Ta=function(t){this.g&&(this.response=t,ro(this))},Be.ha=function(){this.g&&ro(this)},Be.setRequestHeader=function(t,e){this.v.append(t,e)},Be.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Be.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(to.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var oo=$e.JSON.parse;function ao(t){sr.call(this),this.headers=new pi,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=so,this.K=this.L=!1}en(ao,sr);var so="",uo=/^https?$/i,co=["POST","PUT"];function ho(t){return"content-type"==t.toLowerCase()}function lo(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fo(t),vo(t)}function fo(t){t.D||(t.D=!0,ur(t,"complete"),ur(t,"error"))}function po(t){if(t.h&&void 0!==Ke&&(!t.C[1]||4!=mo(t)||2!=t.ba()))if(t.v&&4==mo(t))Tr(t.Fa,0,t);else if(ur(t,"readystatechange"),4==mo(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(mi)[1]||null;if(!o&&$e.self&&$e.self.location){var a=$e.self.location.protocol;o=a.substr(0,a.length-1)}i=!uo.test(o?o.toLowerCase():"")}e=i}if(e)ur(t,"complete"),ur(t,"success");else{t.m=6;try{var s=2<mo(t)?t.g.statusText:""}catch(t){s=""}t.j=s+" ["+t.ba()+"]",fo(t)}}finally{vo(t)}}}function vo(t,e){if(t.g){go(t);var n=t.g,r=t.C[0]?Ge:null;t.g=null,t.C=null,e||ur(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function go(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&($e.clearTimeout(t.A),t.A=null)}function mo(t){return t.g?t.g.readyState:0}function yo(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case so:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function bo(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return gn(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Si(t,e,n))}function wo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Io(t){this.za=0,this.l=[],this.h=new Cr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=wo("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=wo("baseRetryDelayMs",5e3,t),this.$a=wo("retryDelaySeedMs",1e4,t),this.Ya=wo("forwardChannelMaxRetries",2,t),this.ra=wo("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new ji(t&&t.concurrentRequestLimit),this.Ca=new Yi,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Eo(t){if(So(t),3==t.G){var e=t.V++,n=bi(t.F);Si(n,"SID",t.J),Si(n,"RID",e),Si(n,"TYPE","terminate"),ko(t,n),(e=new Xr(t,t.h,e,void 0)).K=2,e.v=_i(bi(n)),n=!1,$e.navigator&&$e.navigator.sendBeacon&&(n=$e.navigator.sendBeacon(e.v.toString(),"")),!n&&$e.Image&&((new Image).src=e.v,n=!0),n||(e.g=Uo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),si(e)}Fo(t)}function To(t){t.g&&(Po(t),t.g.cancel(),t.g=null)}function So(t){To(t),t.u&&($e.clearTimeout(t.u),t.u=null),Ro(t),t.i.cancel(),t.m&&("number"==typeof t.m&&$e.clearTimeout(t.m),t.m=null)}function _o(t,e){t.l.push(new Ui(t.Za++,e)),3==t.G&&Ao(t)}function Ao(t){zi(t.i)||t.m||(t.m=!0,mr(t.Ha,t),t.C=0)}function No(t,e){var n;n=e?e.m:t.V++;var r=bi(t.F);Si(r,"SID",t.J),Si(r,"RID",n),Si(r,"AID",t.U),ko(t,r),t.o&&t.s&&bo(r,t.o,t.s),n=new Xr(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Do(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Gi(t.i,n),ni(n,r,e)}function ko(t,e){t.j&&di({},(function(t,n){Si(e,n,t)}))}function Do(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Ze(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,h=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Xi(h,a,"req"+c+"_")}catch(t){r&&r(h)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Co(t){t.g||t.u||(t.Y=1,mr(t.Ga,t),t.A=0)}function xo(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=Ur(Ze(t.Ga,t),Mo(t,t.A)),t.A++,!0)}function Po(t){null!=t.B&&($e.clearTimeout(t.B),t.B=null)}function Oo(t){t.g=new Xr(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=bi(t.oa);Si(e,"RID","rpc"),Si(e,"SID",t.J),Si(e,"CI",t.N?"0":"1"),Si(e,"AID",t.U),ko(t,e),Si(e,"TYPE","xmlhttp"),t.o&&t.s&&bo(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=_i(bi(e)),n.s=null,n.U=!0,ri(n,t)}function Ro(t){null!=t.v&&($e.clearTimeout(t.v),t.v=null)}function Lo(t,e){var n=null;if(t.g==e){Ro(t),Po(t),t.g=null;var r=2}else{if(!$i(t.i,e))return;n=e.D,Hi(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;ur(r=Rr(),new qr(r,n,e,i)),Ao(t)}else Co(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ki(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Ur(Ze(t.Ha,t,e),Mo(t,t.C)),t.C++,0)))}(t,e)||2==r&&xo(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Vo(t,5);break;case 4:Vo(t,10);break;case 3:Vo(t,6);break;default:Vo(t,2)}}function Mo(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Vo(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Ze(t.jb,t);n||(n=new yi("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||wi(n,"https"),_i(n)),function(t,e){var n=new Cr;if($e.Image){var r=new Image;r.onload=tn(Ji,n,r,"TestLoadImage: loaded",!0,e),r.onerror=tn(Ji,n,r,"TestLoadImage: error",!1,e),r.onabort=tn(Ji,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=tn(Ji,n,r,"TestLoadImage: timeout",!1,e),$e.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Fr(2);t.G=0,t.j&&t.j.va(e),Fo(t),So(t)}function Fo(t){t.G=0,t.I=-1,t.j&&(0==Wi(t.i).length&&0==t.l.length||(t.i.i.length=0,un(t.l),t.l.length=0),t.j.ua())}function qo(t,e,n){var r=function(t){return t instanceof yi?bi(t):new yi(t,void 0)}(n);if(""!=r.i)e&&Ii(r,e+"."+r.i),Ei(r,r.m);else{var i=$e.location;r=function(t,e,n,r){var i=new yi(null,void 0);return t&&wi(i,t),e&&Ii(i,e),n&&Ei(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&gn(t.aa,(function(t,e){Si(r,e,t)})),e=t.D,n=t.sa,e&&n&&Si(r,e,n),Si(r,"VER",t.ma),ko(t,r),r}function Uo(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new ao(new Zi({ib:!0})):new ao(t.qa)).L=t.H,e}function jo(){}function Bo(){if(Sn&&!(10<=Number(Vn)))throw Error("Environmental error: no available transport.")}function zo(t,e){sr.call(this),this.g=new Io(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!cn(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cn(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new Go(this)}function Ko(t){Wr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function $o(){Qr.call(this),this.status=1}function Go(t){this.g=t}(Be=ao.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gr.g(),this.C=this.u?Kr(this.u):Kr(Gr),this.g.onreadystatechange=Ze(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void lo(this,t)}t=n||"";var i=new pi(this.headers);r&&di(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=ho,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=$e.FormData&&t instanceof $e.FormData,!(0<=on(co,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{go(this),0<this.B&&((this.K=function(t){return Sn&&Ln()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ze(this.pa,this)):this.A=Tr(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){lo(this,t)}},Be.pa=function(){void 0!==Ke&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ur(this,"timeout"),this.abort(8))},Be.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ur(this,"complete"),ur(this,"abort"),vo(this))},Be.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vo(this,!0)),ao.Z.M.call(this)},Be.Fa=function(){this.s||(this.F||this.v||this.l?po(this):this.cb())},Be.cb=function(){po(this)},Be.ba=function(){try{return 2<mo(this)?this.g.status:-1}catch(t){return-1}},Be.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},Be.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),oo(e)}},Be.Da=function(){return this.m},Be.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Be=Io.prototype).ma=8,Be.G=1,Be.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(t){}},Be.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Xr(this,this.h,t,void 0),n=this.s;if(this.P&&(n?bn(n=mn(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Do(this,e,r),Si(i=bi(this.F),"RID",t),Si(i,"CVER",22),this.D&&Si(i,"X-HTTP-Session-Id",this.D),ko(this,i),this.o&&n&&bo(i,this.o,n),Gi(this.i,e),this.Ra&&Si(i,"TYPE","init"),this.ja?(Si(i,"$req",r),Si(i,"SID","null"),e.$=!0,ni(e,i,null)):ni(e,i,r),this.G=2}}else 3==this.G&&(t?No(this,t):0==this.l.length||zi(this.i)||No(this))},Be.Ga=function(){if(this.u=null,Oo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ur(Ze(this.bb,this),t)}},Be.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fr(10),To(this),Oo(this))},Be.ab=function(){null!=this.v&&(this.v=null,To(this),xo(this),Fr(19))},Be.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Fr(2)):(this.h.info("Failed to ping google.com"),Fr(1))},(Be=jo.prototype).xa=function(){},Be.wa=function(){},Be.va=function(){},Be.ua=function(){},Be.Oa=function(){},Bo.prototype.g=function(t,e){return new zo(t,e)},en(zo,sr),zo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),mr(Ze(t.hb,t,e))),Fr(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=qo(t,null,t.W),Ao(t)},zo.prototype.close=function(){Eo(this.g)},zo.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,_o(this.g,e)}else this.v?((e={}).__data__=hr(t),_o(this.g,e)):_o(this.g,t)},zo.prototype.M=function(){this.g.j=null,delete this.j,Eo(this.g),delete this.g,zo.Z.M.call(this)},en(Ko,Wr),en($o,Qr),en(Go,jo),Go.prototype.xa=function(){ur(this.g,"a")},Go.prototype.wa=function(t){ur(this.g,new Ko(t))},Go.prototype.va=function(t){ur(this.g,new $o(t))},Go.prototype.ua=function(){ur(this.g,"b")},Bo.prototype.createWebChannel=Bo.prototype.g,zo.prototype.send=zo.prototype.u,zo.prototype.open=zo.prototype.m,zo.prototype.close=zo.prototype.close,jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,Br.COMPLETE="complete",$r.EventType=Hr,Hr.OPEN="a",Hr.CLOSE="b",Hr.ERROR="c",Hr.MESSAGE="d",sr.prototype.listen=sr.prototype.N,ao.prototype.listenOnce=ao.prototype.O,ao.prototype.getLastError=ao.prototype.La,ao.prototype.getLastErrorCode=ao.prototype.Da,ao.prototype.getStatus=ao.prototype.ba,ao.prototype.getResponseJson=ao.prototype.Qa,ao.prototype.getResponseText=ao.prototype.ga,ao.prototype.send=ao.prototype.ea;var Ho=jr,Wo=Br,Qo=Pr,Yo=10,Xo=11,Jo=Zi,Zo=$r,ta=ao,ea=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();ea.o=-1;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var na={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ra=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return zt(e,t),e}(Error),ia=new Te("@firebase/firestore");function oa(){return ia.logLevel}function aa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ia.logLevel<=ge.DEBUG){var r=e.map(ca);ia.debug.apply(ia,Qt(["Firestore (8.8.1): "+t],r))}}function sa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ia.logLevel<=ge.ERROR){var r=e.map(ca);ia.error.apply(ia,Qt(["Firestore (8.8.1): "+t],r))}}function ua(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ia.logLevel<=ge.WARN){var r=e.map(ca);ia.warn.apply(ia,Qt(["Firestore (8.8.1): "+t],r))}}function ca(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ha(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+t;throw sa(e),new Error(e)}function la(t,e){t||ha()}function fa(t,e){return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function da(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var pa=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=da(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function va(t,e){return t<e?-1:t>e?1:0}function ga(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ma(t){return t+"\0"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ya=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ra(na.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ra(na.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ra(na.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ra(na.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?va(this.nanoseconds,t.nanoseconds):va(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ba=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new ya(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function wa(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ia(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ea(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ta=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ha(),void 0===n?n=t.length-e:n>t.length-e&&ha(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Sa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zt(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new ra(na.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Ta),_a=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Aa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zt(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return _a.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ra(na.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new ra(na.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ra(na.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ra(na.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Ta),Na=function(){function t(t){this.fields=t,t.sort(Aa.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ga(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),ka=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return va(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ka.EMPTY_BYTE_STRING=new ka("");var Da=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(t){if(la(!!t),"string"==typeof t){var e=0,n=Da.exec(t);if(la(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:xa(t.seconds),nanos:xa(t.nanos)}}function xa(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Pa(t){return"string"==typeof t?ka.fromBase64String(t):ka.fromUint8Array(t)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Oa(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ra(t){var e=t.mapValue.fields.__previous_value__;return Oa(e)?Ra(e):e}function La(t){var e=Ca(t.mapValue.fields.__local_write_time__.timestampValue);return new ya(e.seconds,e.nanos)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ma(t){return null==t}function Va(t){return 0===t&&1/t==-1/0}function Fa(t){return"number"==typeof t&&Number.isInteger(t)&&!Va(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var qa=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Sa.fromString(e))},t.fromName=function(e){return new t(Sa.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Sa.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Sa.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Sa(e.slice()))},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ua(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oa(t)?4:10:ha()}function ja(t,e){var n=Ua(t);if(n!==Ua(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return La(t).isEqual(La(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ca(t.timestampValue),r=Ca(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Pa(t.bytesValue).isEqual(Pa(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return xa(t.geoPointValue.latitude)===xa(e.geoPointValue.latitude)&&xa(t.geoPointValue.longitude)===xa(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return xa(t.integerValue)===xa(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=xa(t.doubleValue),r=xa(e.doubleValue);return n===r?Va(n)===Va(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ga(t.arrayValue.values||[],e.arrayValue.values||[],ja);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(wa(n)!==wa(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ja(n[i],r[i])))return!1;return!0}(t,e);default:return ha()}}function Ba(t,e){return void 0!==(t.values||[]).find((function(t){return ja(t,e)}))}function za(t,e){var n=Ua(t),r=Ua(e);if(n!==r)return va(n,r);switch(n){case 0:return 0;case 1:return va(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=xa(t.integerValue||t.doubleValue),r=xa(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ka(t.timestampValue,e.timestampValue);case 4:return Ka(La(t),La(e));case 5:return va(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Pa(t),r=Pa(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=va(n[i],r[i]);if(0!==o)return o}return va(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=va(xa(t.latitude),xa(e.latitude));return 0!==n?n:va(xa(t.longitude),xa(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=za(n[i],r[i]);if(o)return o}return va(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=va(r[a],o[a]);if(0!==s)return s;var u=za(n[r[a]],i[o[a]]);if(0!==u)return u}return va(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ha()}}function Ka(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return va(t,e);var n=Ca(t),r=Ca(e),i=va(n.seconds,r.seconds);return 0!==i?i:va(n.nanos,r.nanos)}function $a(t){return Ga(t)}function Ga(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ca(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Pa(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,qa.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ga(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Ga(t.fields[o])}return e+"}"}(t.mapValue):ha();var e,n}function Ha(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Wa(t){return!!t&&"integerValue"in t}function Qa(t){return!!t&&"arrayValue"in t}function Ya(t){return!!t&&"nullValue"in t}function Xa(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ja(t){return!!t&&"mapValue"in t}function Za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Ia(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Za(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Za(t.arrayValue.values[r]);return n}return Object.assign({},t)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ts=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Ja(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Za(e)},t.prototype.setAll=function(t){var e=this,n=Aa.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Za(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Ja(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return ja(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Ja(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Ia(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(Za(this.value))},t}();function es(t){var e=[];return Ia(t.fields,(function(t,n){var r=new Aa([t]);if(Ja(n)){var i=es(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new Na(e)
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var ns=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,ba.min(),ts.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ts.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ts.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ts.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ts.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),rs=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function is(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new rs(t,e,n,r,i,o,a)}function os(t){var e=fa(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+$a(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Ma(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ys(e.startAt)),e.endAt&&(n+="|ub:",n+=ys(e.endAt)),e.h=n}return e.h}function as(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ws(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ja(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Es(t.startAt,e.startAt)&&Es(t.endAt,e.endAt)}function ss(t){return qa.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var us=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return zt(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new cs(t,n,r):"array-contains"===n?new ds(t,r):"in"===n?new ps(t,r):"not-in"===n?new vs(t,r):"array-contains-any"===n?new gs(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new hs(t,n):new ls(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(za(e,this.value)):null!==e&&Ua(this.value)===Ua(e)&&this.m(za(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ha()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),cs=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=qa.fromName(r.referenceValue),i}return zt(e,t),e.prototype.matches=function(t){var e=qa.comparator(t.key,this.key);return this.m(e)},e}(us),hs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=fs("in",n),r}return zt(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(us),ls=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=fs("not-in",n),r}return zt(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(us);function fs(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return qa.fromName(t.referenceValue)}))}var ds=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return zt(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Qa(e)&&Ba(e.arrayValue,this.value)},e}(us),ps=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return zt(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Ba(this.value.arrayValue,e)},e}(us),vs=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return zt(e,t),e.prototype.matches=function(t){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Ba(this.value.arrayValue,e)},e}(us),gs=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return zt(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Qa(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ba(e.value.arrayValue,t)}))},e}(us),ms=function(t,e){this.position=t,this.before=e};function ys(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return $a(t)})).join(",")}var bs=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ws(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Is(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?qa.comparator(qa.fromName(a.referenceValue),n.key):za(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Es(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ja(t.position[n],e.position[n]))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ts=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Ss(t,e,n,r,i,o,a,s){return new Ts(t,e,n,r,i,o,a,s)}function _s(t){return new Ts(t)}function As(t){return!Ma(t.limit)&&"F"===t.limitType}function Ns(t){return!Ma(t.limit)&&"L"===t.limitType}function ks(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ds(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Cs(t){return null!==t.collectionGroup}function xs(t){var e=fa(t);if(null===e.p){e.p=[];var n=Ds(e),r=ks(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new bs(n)),e.p.push(new bs(Aa.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new bs(Aa.keyField(),u))}}}return e.p}function Ps(t){var e=fa(t);if(!e.T)if("F"===e.limitType)e.T=is(e.path,e.collectionGroup,xs(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=xs(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new bs(o.field,a))}var s=e.endAt?new ms(e.endAt.position,!e.endAt.before):null,u=e.startAt?new ms(e.startAt.position,!e.startAt.before):null;e.T=is(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function Os(t,e,n){return new Ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rs(t,e){return as(Ps(t),Ps(e))&&t.limitType===e.limitType}function Ls(t){return os(Ps(t))+"|lt:"+t.limitType}function Ms(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+$a(e.value);var e})).join(", ")+"]"),Ma(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ys(t.startAt)),t.endAt&&(e+=", endAt: "+ys(t.endAt)),"Target("+e+")"}(Ps(t))+"; limitType="+t.limitType+")"}function Vs(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):qa.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Is(t.startAt,xs(t),e)||t.endAt&&Is(t.endAt,xs(t),e))}(t,e)}function Fs(t){return function(e,n){for(var r=!1,i=0,o=xs(t);i<o.length;i++){var a=o[i],s=qs(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function qs(t,e,n){var r=t.field.isKeyField()?qa.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?za(r,i):ha()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ha()}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Us(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Va(e)?"-0":e}}function js(t){return{integerValue:""+t}}function Bs(t,e){return Fa(e)?js(e):Us(t,e)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var zs=function(){this._=void 0};function Ks(t,e,n){return t instanceof Hs?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ws?Qs(t,e):t instanceof Ys?Xs(t,e):function(t,e){var n=Gs(t,e),r=Zs(n)+Zs(t.A);return Wa(n)&&Wa(t.A)?js(r):Us(t.R,r)}(t,e)}function $s(t,e,n){return t instanceof Ws?Qs(t,e):t instanceof Ys?Xs(t,e):n}function Gs(t,e){return t instanceof Js?Wa(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Hs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zt(e,t),e}(zs),Ws=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return zt(e,t),e}(zs);function Qs(t,e){for(var n=tu(e),r=function(t){n.some((function(e){return ja(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ys=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return zt(e,t),e}(zs);function Xs(t,e){for(var n=tu(e),r=function(t){n=n.filter((function(e){return!ja(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Js=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return zt(e,t),e}(zs);function Zs(t){return xa(t.integerValue||t.doubleValue)}function tu(t){return Qa(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var eu=function(t,e){this.field=t,this.transform=e},nu=function(t,e){this.version=t,this.transformResults=e},ru=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function iu(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var ou=function(){};function au(t,e,n){t instanceof lu?function(t,e,n){var r=t.value.clone(),i=pu(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof fu?function(t,e,n){if(iu(t.precondition,e)){var r=pu(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(du(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function su(t,e,n){t instanceof lu?function(t,e,n){if(iu(t.precondition,e)){var r=t.value.clone(),i=vu(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(hu(e),r).setHasLocalMutations()}}(t,e,n):t instanceof fu?function(t,e,n){if(iu(t.precondition,e)){var r=vu(t.fieldTransforms,n,e),i=e.data;i.setAll(du(t)),i.setAll(r),e.convertToFoundDocument(hu(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){iu(t.precondition,e)&&e.convertToNoDocument(ba.min())}(t,e)}function uu(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Gs(o.transform,a||null);null!=s&&(null==n&&(n=ts.empty()),n.set(o.field,s))}return n||null}function cu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ga(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ws&&e instanceof Ws||t instanceof Ys&&e instanceof Ys?ga(t.elements,e.elements,ja):t instanceof Js&&e instanceof Js?ja(t.A,e.A):t instanceof Hs&&e instanceof Hs}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function hu(t){return t.isFoundDocument()?t.version:ba.min()}var lu=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return zt(e,t),e}(ou),fu=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return zt(e,t),e}(ou);function du(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function pu(t,e,n){var r=new Map;la(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,$s(a,s,n[i]))}return r}function vu(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Ks(s,u,e))}return r}var gu,mu,yu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return zt(e,t),e}(ou),bu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return zt(e,t),e}(ou),wu=function(t){this.count=t};function Iu(t){switch(t){case na.OK:return ha();case na.CANCELLED:case na.UNKNOWN:case na.DEADLINE_EXCEEDED:case na.RESOURCE_EXHAUSTED:case na.INTERNAL:case na.UNAVAILABLE:case na.UNAUTHENTICATED:return!1;case na.INVALID_ARGUMENT:case na.NOT_FOUND:case na.ALREADY_EXISTS:case na.PERMISSION_DENIED:case na.FAILED_PRECONDITION:case na.ABORTED:case na.OUT_OF_RANGE:case na.UNIMPLEMENTED:case na.DATA_LOSS:return!0;default:return ha()}}function Eu(t){if(void 0===t)return sa("GRPC error has no .code"),na.UNKNOWN;switch(t){case gu.OK:return na.OK;case gu.CANCELLED:return na.CANCELLED;case gu.UNKNOWN:return na.UNKNOWN;case gu.DEADLINE_EXCEEDED:return na.DEADLINE_EXCEEDED;case gu.RESOURCE_EXHAUSTED:return na.RESOURCE_EXHAUSTED;case gu.INTERNAL:return na.INTERNAL;case gu.UNAVAILABLE:return na.UNAVAILABLE;case gu.UNAUTHENTICATED:return na.UNAUTHENTICATED;case gu.INVALID_ARGUMENT:return na.INVALID_ARGUMENT;case gu.NOT_FOUND:return na.NOT_FOUND;case gu.ALREADY_EXISTS:return na.ALREADY_EXISTS;case gu.PERMISSION_DENIED:return na.PERMISSION_DENIED;case gu.FAILED_PRECONDITION:return na.FAILED_PRECONDITION;case gu.ABORTED:return na.ABORTED;case gu.OUT_OF_RANGE:return na.OUT_OF_RANGE;case gu.UNIMPLEMENTED:return na.UNIMPLEMENTED;case gu.DATA_LOSS:return na.DATA_LOSS;default:return ha()}}(mu=gu||(gu={}))[mu.OK=0]="OK",mu[mu.CANCELLED=1]="CANCELLED",mu[mu.UNKNOWN=2]="UNKNOWN",mu[mu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mu[mu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mu[mu.NOT_FOUND=5]="NOT_FOUND",mu[mu.ALREADY_EXISTS=6]="ALREADY_EXISTS",mu[mu.PERMISSION_DENIED=7]="PERMISSION_DENIED",mu[mu.UNAUTHENTICATED=16]="UNAUTHENTICATED",mu[mu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mu[mu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mu[mu.ABORTED=10]="ABORTED",mu[mu.OUT_OF_RANGE=11]="OUT_OF_RANGE",mu[mu.UNIMPLEMENTED=12]="UNIMPLEMENTED",mu[mu.INTERNAL=13]="INTERNAL",mu[mu.UNAVAILABLE=14]="UNAVAILABLE",mu[mu.DATA_LOSS=15]="DATA_LOSS";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Tu=function(){function t(t,e){this.comparator=t,this.root=e||_u.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_u.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_u.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Su(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Su(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Su(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Su(this.root,t,this.comparator,!0)},t}(),Su=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),_u=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ha();if(this.right.isRed())throw ha();var t=this.left.check();if(t!==this.right.check())throw ha();return t+(this.isRed()?0:1)},t}();_u.EMPTY=null,_u.RED=!0,_u.BLACK=!1,_u.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ha()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ha()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ha()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ha()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ha()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new _u(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Au=function(){function t(t){this.comparator=t,this.data=new Tu(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Nu(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Nu(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Nu=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ku=new Tu(qa.comparator);function Du(){return ku}var Cu=new Tu(qa.comparator);function xu(){return Cu}var Pu=new Tu(qa.comparator);var Ou=new Au(qa.comparator);function Ru(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ou,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Lu=new Au(va);function Mu(){return Lu}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Vu=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ba.min(),r,Mu(),Du(),Ru())},t}(),Fu=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ka.EMPTY_BYTE_STRING,n,Ru(),Ru(),Ru())},t}(),qu=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Uu=function(t,e){this.targetId=t,this.V=e},ju=function(t,e,n,r){void 0===n&&(n=ka.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Bu=function(){function t(){this.S=0,this.D=$u(),this.C=ka.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Ru(),e=Ru(),n=Ru();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ha()}})),new Fu(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=$u()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),zu=function(){function t(t){this.W=t,this.G=new Map,this.H=Du(),this.J=Ku(),this.Y=new Au(va)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:ha()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(ss(i))if(0===n){var o=new qa(i.path);this.tt(e,o,ns.newNoDocument(o,ba.min()))}else la(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&ss(o.target)){var a=new qa(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,ns.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Ru();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Vu(t,n,this.Y,this.H,r);return this.H=Du(),this.J=Ku(),this.Y=new Au(va),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Bu,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Au(va),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||aa("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Bu),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Ku(){return new Tu(qa.comparator)}function $u(){return new Tu(qa.comparator)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gu={asc:"ASCENDING",desc:"DESCENDING"},Hu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wu=function(t,e){this.databaseId=t,this.I=e};function Qu(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yu(t,e){return t.I?e.toBase64():e.toUint8Array()}function Xu(t,e){return Qu(t,e.toTimestamp())}function Ju(t){return la(!!t),ba.fromTimestamp(function(t){var e=Ca(t);return new ya(e.seconds,e.nanos)}(t))}function Zu(t,e){return function(t){return new Sa(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function tc(t){var e=Sa.fromString(t);return la(Tc(e)),e}function ec(t,e){return Zu(t.databaseId,e.path)}function nc(t,e){var n=tc(e);if(n.get(1)!==t.databaseId.projectId)throw new ra(na.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ra(na.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qa(ac(n))}function rc(t,e){return Zu(t.databaseId,e)}function ic(t){var e=tc(t);return 4===e.length?Sa.emptyPath():ac(e)}function oc(t){return new Sa(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ac(t){return la(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function sc(t,e,n){return{name:ec(t,e),fields:n.value.mapValue.fields}}function uc(t,e){var n;if(e instanceof lu)n={update:sc(t,e.key,e.value)};else if(e instanceof yu)n={delete:ec(t,e.key)};else if(e instanceof fu)n={update:sc(t,e.key,e.data),updateMask:Ec(e.fieldMask)};else{if(!(e instanceof bu))return ha();n={verify:ec(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Hs)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ws)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ys)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Js)return{fieldPath:e.field.canonicalString(),increment:n.A};throw ha()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Xu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ha()}(t,e.precondition)),n}function cc(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ru.updateTime(Ju(t.updateTime)):void 0!==t.exists?ru.exists(t.exists):ru.none()}(e.currentDocument):ru.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)la("REQUEST_TIME"===e.setToServerValue),n=new Hs;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Ws(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Ys(i)}else"increment"in e?n=new Js(t,e.increment):ha();var o=Aa.fromServerFormat(e.fieldPath);return new eu(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=nc(t,e.update.name),o=new ts({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Na(e.map((function(t){return Aa.fromServerFormat(t)})))}(e.updateMask);return new fu(i,o,a,n,r)}return new lu(i,o,n,r)}if(e.delete){var s=nc(t,e.delete);return new yu(s,n)}if(e.verify){var u=nc(t,e.verify);return new bu(u,n)}return ha()}function hc(t,e){return{documents:[rc(t,e.path)]}}function lc(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=rc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rc(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Xa(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NAN"}};if(Ya(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Xa(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NOT_NAN"}};if(Ya(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(t.field),op:mc(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:yc(t.field),direction:gc(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||Ma(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=pc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=pc(e.endAt)),n}function fc(t){var e=ic(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){la(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=dc(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new bs(bc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Ma(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=vc(n.startAt));var h=null;return n.endAt&&(h=vc(n.endAt)),Ss(e,i,s,a,u,"F",c,h)}function dc(t){return t?void 0!==t.unaryFilter?[Ic(t)]:void 0!==t.fieldFilter?[wc(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return dc(t)})).reduce((function(t,e){return t.concat(e)})):ha():[]}function pc(t){return{before:t.before,values:t.position}}function vc(t){var e=!!t.before,n=t.values||[];return new ms(n,e)}function gc(t){return Gu[t]}function mc(t){return Hu[t]}function yc(t){return{fieldPath:t.canonicalString()}}function bc(t){return Aa.fromServerFormat(t.fieldPath)}function wc(t){return us.create(bc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ha()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ic(t){switch(t.unaryFilter.op){case"IS_NAN":var e=bc(t.unaryFilter.field);return us.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=bc(t.unaryFilter.field);return us.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bc(t.unaryFilter.field);return us.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bc(t.unaryFilter.field);return us.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ha()}}function Ec(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Tc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Sc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ac(e)),e=_c(t.get(n),e);return Ac(e)}function _c(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Ac(t){return t+""}function Nc(t){var e=t.length;if(la(e>=2),2===e)return la(""===t.charAt(0)&&""===t.charAt(1)),Sa.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&ha(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:ha()}o=a+2}return new Sa(r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var kc=function(t,e){this.seconds=t,this.nanoseconds=e},Dc=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Dc.store="owner",Dc.key="owner";var Cc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Cc.store="mutationQueues",Cc.keyPath="userId";var xc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};xc.store="mutations",xc.keyPath="batchId",xc.userMutationsIndex="userMutationsIndex",xc.userMutationsKeyPath=["userId","batchId"];var Pc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Sc(e)]},t.key=function(t,e,n){return[t,Sc(e),n]},t}();Pc.store="documentMutations",Pc.PLACEHOLDER=new Pc;var Oc=function(t,e){this.path=t,this.readTime=e},Rc=function(t,e){this.path=t,this.version=e},Lc=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Lc.store="remoteDocuments",Lc.readTimeIndex="readTimeIndex",Lc.readTimeIndexPath="readTime",Lc.collectionReadTimeIndex="collectionReadTimeIndex",Lc.collectionReadTimeIndexPath=["parentPath","readTime"];var Mc=function(t){this.byteSize=t};Mc.store="remoteDocumentGlobal",Mc.key="remoteDocumentGlobalKey";var Vc=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Vc.store="targets",Vc.keyPath="targetId",Vc.queryTargetsIndexName="queryTargetsIndex",Vc.queryTargetsKeyPath=["canonicalId","targetId"];var Fc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Fc.store="targetDocuments",Fc.keyPath=["targetId","path"],Fc.documentTargetsIndex="documentTargetsIndex",Fc.documentTargetsKeyPath=["path","targetId"];var qc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};qc.key="targetGlobalKey",qc.store="targetGlobal";var Uc=function(t,e){this.collectionId=t,this.parent=e};Uc.store="collectionParents",Uc.keyPath=["collectionId","parent"];var jc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};jc.store="clientMetadata",jc.keyPath="clientId";var Bc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Bc.store="bundles",Bc.keyPath="bundleId";var zc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};zc.store="namedQueries",zc.keyPath="name";var Kc=Qt(Qt([],Qt(Qt([],Qt(Qt([],Qt(Qt([],[Cc.store,xc.store,Pc.store,Lc.store,Vc.store,Dc.store,qc.store,Fc.store]),[jc.store])),[Mc.store])),[Uc.store])),[Bc.store,zc.store]),$c="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gc=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Hc=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Wc=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ha(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Qc=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Hc,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Jc(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=rh(e.target.error);n.ft.reject(new Jc(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Jc(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(aa("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new th(e)},t}(),Yc=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Zt())&&sa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return aa("SimpleDb","Removing database:",t),eh(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Zt(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return $t(this,void 0,void 0,(function(){var e,n=this;return Gt(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(aa("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Jc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ra(na.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Jc(t,n))},i.onupgradeneeded=function(t){aa("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){aa("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return $t(this,void 0,void 0,(function(){var i,o,a,s,u;return Gt(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,h;return Gt(this,(function(l){switch(l.label){case 0:++o,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=l.sent(),e=Qc.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Wc.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(l.sent(),a),u)];case 4:return c=l.sent(),h="FirebaseError"!==c.name&&o<3,aa("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),s.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Xc=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return eh(this.Pt.delete())},t}(),Jc=function(t){function e(e,n){var r=this;return(r=t.call(this,na.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return zt(e,t),e}(ra);function Zc(t){return"IndexedDbTransactionError"===t.name}var th=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(aa("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(aa("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),eh(n)},t.prototype.add=function(t){return aa("SimpleDb","ADD",this.store.name,t,t),eh(this.store.add(t))},t.prototype.get=function(t){var e=this;return eh(this.store.get(t)).next((function(n){return void 0===n&&(n=null),aa("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return aa("SimpleDb","DELETE",this.store.name,t),eh(this.store.delete(t))},t.prototype.count=function(){return aa("SimpleDb","COUNT",this.store.name),eh(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){aa("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Wc((function(n,r){e.onerror=function(t){var e=rh(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Wc((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Xc(i),a=e(i.primaryKey,i.value,o);if(a instanceof Wc){var s=a.catch((function(t){return o.done(),Wc.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Wc.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function eh(t){return new Wc((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=rh(t.target.error);n(e)}}))}var nh=!1;function rh(t){var e=Yc._t(Zt());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ra("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nh||(nh=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ih=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return zt(e,t),e}(Gc);function oh(t,e){var n=fa(t);return Yc.It(n.Mt,e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ah=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&au(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&su(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&su(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ba.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ru())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ga(this.mutations,t.mutations,(function(t,e){return cu(t,e)}))&&ga(this.baseMutations,t.baseMutations,(function(t,e){return cu(t,e)}))},t}(),sh=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){la(e.mutations.length===r.length);for(var i=Pu,o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),uh=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=ba.min()),void 0===o&&(o=ba.min()),void 0===a&&(a=ka.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),ch=function(t){this.Lt=t};function hh(t,e){if(e.document)return function(t,e,n){var r=nc(t,e.name),i=Ju(e.updateTime),o=new ts({mapValue:{fields:e.fields}}),a=ns.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=qa.fromSegments(e.noDocument.path),r=vh(e.noDocument.readTime),i=ns.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=qa.fromSegments(e.unknownDocument.path);return r=vh(e.unknownDocument.version),ns.newUnknownDocument(o,r)}return ha()}function lh(t,e,n){var r=fh(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:ec(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Qu(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Lc(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=ph(e.version);return a=e.hasCommittedMutations,new Lc(null,new Oc(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),h=ph(e.version);return new Lc(new Rc(c,h),null,null,!0,r,i)}return ha()}function fh(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function dh(t){var e=new ya(t[0],t[1]);return ba.fromTimestamp(e)}function ph(t){var e=t.toTimestamp();return new kc(e.seconds,e.nanoseconds)}function vh(t){var e=new ya(t.seconds,t.nanoseconds);return ba.fromTimestamp(e)}function gh(t,e){for(var n=(e.baseMutations||[]).map((function(e){return cc(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return cc(t.Lt,e)})),s=ya.fromMillis(e.localWriteTimeMs);return new ah(e.batchId,s,n,a)}function mh(t){var e,n,r=vh(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?vh(t.lastLimboFreeSnapshotVersion):ba.min();return void 0!==t.query.documents?(la(1===(n=t.query).documents.length),e=Ps(_s(ic(n.documents[0])))):e=function(t){return Ps(fc(t))}(t.query),new uh(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ka.fromBase64String(t.resumeToken))}function yh(t,e){var n,r=ph(e.snapshotVersion),i=ph(e.lastLimboFreeSnapshotVersion);n=ss(e.target)?hc(t.Lt,e.target):lc(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Vc(e.targetId,os(e.target),r,o,e.sequenceNumber,i,n)}function bh(t){var e=fc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Os(e,e.limit,"L"):e}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var wh=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Ih(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:vh(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Ih(t).put({bundleId:(n=e).id,createTime:ph(Ju(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Eh(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:bh(e.bundledQuery),readTime:vh(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Eh(t).put(function(t){return{name:t.name,readTime:ph(Ju(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ih(t){return oh(t,Bc.store)}function Eh(t){return oh(t,zc.store)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Th=function(){function t(){this.Bt=new Sh}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Wc.resolve()},t.prototype.getCollectionParents=function(t,e){return Wc.resolve(this.Bt.getEntries(e))},t}(),Sh=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Au(Sa.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Au(Sa.comparator)).toArray()},t}(),_h=function(){function t(){this.qt=new Sh}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Sc(i)};return Ah(t).put(o)}return Wc.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ma(e),""],!1,!0);return Ah(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Nc(o.parent))}return n}))},t}();function Ah(t){return oh(t,Uc.store)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Nh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kh=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Dh(t,e,n){var r=t.store(xc.store),i=t.store(Pc.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){la(1===s)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],d=Pc.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Wc.waitFor(o).next((function(){return c}))}function Ch(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ha();e=t.noDocument}return JSON.stringify(e).length}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */kh.DEFAULT_COLLECTION_PERCENTILE=10,kh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kh.DEFAULT=new kh(41943040,kh.DEFAULT_COLLECTION_PERCENTILE,kh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kh.DISABLED=new kh(-1,0,0);var xh=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return la(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oh(t).$t({index:xc.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Rh(t),a=Oh(t);return a.add({}).next((function(s){la("number"==typeof s);for(var u=new ah(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return uc(t.Lt,e)})),i=n.mutations.map((function(e){return uc(t.Lt,e)}));return new xc(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),h=[],l=new Au((function(t,e){return va(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Pc.key(i.userId,p.key.path,s);l=l.add(p.key.path.popLast()),h.push(a.put(c)),h.push(o.put(v,Pc.PLACEHOLDER))}return l.forEach((function(e){h.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Wc.waitFor(h).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Oh(t).get(e).next((function(t){return t?(la(t.userId===n.userId),gh(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Wc.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Oh(t).$t({index:xc.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(la(e.batchId>=r),o=gh(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Oh(t).$t({index:xc.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Oh(t).Nt(xc.userMutationsIndex,n).next((function(t){return t.map((function(t){return gh(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Pc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Rh(t).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],h=Nc(u);if(s===n.userId&&e.path.isEqual(h))return Oh(t).get(c).next((function(t){if(!t)throw ha();la(t.userId===n.userId),o.push(gh(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Au(va),i=[];return e.forEach((function(e){var o=Pc.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Rh(t).$t({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Nc(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Wc.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Pc.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Au(va);return Rh(t).$t({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],h=Nc(u);a===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Oh(t).get(e).next((function(t){if(null===t)throw ha();la(t.userId===n.userId),r.push(gh(n.R,t))})))})),Wc.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Dh(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Wc.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Wc.resolve();var r=IDBKeyRange.lowerBound(Pc.prefixForUser(e.userId)),i=[];return Rh(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Nc(t[1]);i.push(o)}else r.done()})).next((function(){la(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Ph(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Lh(t).get(this.userId).next((function(t){return t||new Cc(e.userId,-1,"")}))},t}();function Ph(t,e,n){var r=Pc.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Rh(t).$t({range:o,kt:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Oh(t){return oh(t,xc.store)}function Rh(t){return oh(t,Pc.store)}function Lh(t){return oh(t,Cc.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Mh=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Vh=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Mh(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return ba.fromTimestamp(new ya(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Fh(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return la(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Fh(t).$t((function(a,s){var u=mh(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Wc.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Fh(t).$t((function(t,n){var r=mh(n);e(r)}))},t.prototype.Xt=function(t){return qh(t).get(qc.key).next((function(t){return la(null!==t),t}))},t.prototype.Zt=function(t,e){return qh(t).put(qc.key,e)},t.prototype.te=function(t,e){return Fh(t).put(yh(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=os(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Fh(t).$t({range:r,index:Vc.queryTargetsIndexName},(function(t,n,r){var o=mh(n);as(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Uh(t);return e.forEach((function(e){var a=Sc(e.path);i.push(o.put(new Fc(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),Wc.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Uh(t);return Wc.forEach(e,(function(e){var o=Sc(e.path);return Wc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Uh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Uh(t),i=Ru();return r.$t({range:n,kt:!0},(function(t,e,n){var r=Nc(t[1]),o=new qa(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Sc(e.path),r=IDBKeyRange.bound([n],[ma(n)],!1,!0),i=0;return Uh(t).$t({index:Fc.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Fh(t).get(e).next((function(t){return t?mh(t):null}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Fh(t){return oh(t,Vc.store)}function qh(t){return oh(t,qc.store)}function Uh(t){return oh(t,Fc.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function jh(t){return $t(this,void 0,void 0,(function(){return Gt(this,(function(e){if(t.code!==na.FAILED_PRECONDITION||t.message!==$c)throw t;return aa("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Bh(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=va(n,i);return 0===a?va(r,o):a}var zh=function(){function t(t){this.ne=t,this.buffer=new Au(Bh),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Bh(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Kh=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;aa("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return $t(e,void 0,void 0,(function(){var e;return Gt(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Zc(e=n.sent())?(aa("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,jh(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),$h=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Wc.resolve(ea.o);var r=new zh(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(aa("LruGarbageCollector","Garbage collection skipped; disabled"),Wc.resolve(Nh)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(aa("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Nh):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(aa("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),oa()<=ge.DEBUG&&aa("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-h)+"ms"),Wc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Gh=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new $h(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Hh(t,n)},t.prototype.removeReference=function(t,e,n){return Hh(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Hh(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Lh(t).Ot((function(r){return Ph(t,r,e).next((function(t){return t&&(n=!0),Wc.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),Uh(t).delete([0,Sc(a.path)])}))}));i.push(u)}})).next((function(){return Wc.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Hh(t,e)},t.prototype.we=function(t,e){var n,r=Uh(t),i=ea.o;return r.$t({index:Fc.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==ea.o&&e(new qa(Nc(n)),i),i=s,n=a):i=ea.o})).next((function(){i!==ea.o&&e(new qa(Nc(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Hh(t,e){return Uh(t).put(function(t,e){return new Fc(0,Sc(t.path),e)}(e,t.currentSequenceNumber))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Wh=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Ia(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return Ea(this.inner)},t}(),Qh=function(){function t(){this.changes=new Wh((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ba.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ns.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Wc.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Yh=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Zh(t).put(tl(e),n)},t.prototype.removeEntry=function(t,e){var n=Zh(t),r=tl(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Zh(t).get(tl(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Zh(t).get(tl(e)).next((function(t){return{document:n.ye(e,t),size:Ch(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Du();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Du(),i=new Tu(qa.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Ch(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Wc.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Zh(t).$t({range:r},(function(t,e,r){for(var a=qa.fromSegments(t);o&&qa.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Du(),o=e.path.length+1,a={};if(n.isEqual(ba.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=fh(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Lc.collectionReadTimeIndex}return Zh(t).$t(a,(function(t,n,a){if(t.length===o){var s=hh(r.R,n);e.path.isPrefixOf(s.key.path)?Vs(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Xh(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Jh(t).get(Mc.key).next((function(t){return la(!!t),t}))},t.prototype.me=function(t,e){return Jh(t).put(Mc.key,e)},t.prototype.ye=function(t,e){if(e){var n=hh(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(ba.min()))return n}return ns.newInvalidDocument(t)},t}(),Xh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Wh((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return zt(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Au((function(t,e){return va(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=lh(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Ch(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var h=lh(e.Ie.R,ns.newNoDocument(o,ba.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,h))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Wc.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Qh);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Jh(t){return oh(t,Mc.store)}function Zh(t){return oh(t,Lc.store)}function tl(t){return t.path.toArray()}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var el=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;la(n<r&&n>=0&&r<=11);var o=new Qc("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Dc.store)}(t),function(t){t.createObjectStore(Cc.store,{keyPath:Cc.keyPath}),t.createObjectStore(xc.store,{keyPath:xc.keyPath,autoIncrement:!0}).createIndex(xc.userMutationsIndex,xc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Pc.store)}(t),nl(t),function(t){t.createObjectStore(Lc.store)}(t));var a=Wc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Fc.store),t.deleteObjectStore(Vc.store),t.deleteObjectStore(qc.store)}(t),nl(t)),a=a.next((function(){return function(t){var e=t.store(qc.store),n=new qc(0,0,ba.min().toTimestamp(),0);return e.put(qc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(xc.store).Nt().next((function(n){t.deleteObjectStore(xc.store),t.createObjectStore(xc.store,{keyPath:xc.keyPath,autoIncrement:!0}).createIndex(xc.userMutationsIndex,xc.userMutationsKeyPath,{unique:!0});var r=e.store(xc.store),i=n.map((function(t){return r.put(t)}));return Wc.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(jc.store,{keyPath:jc.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Mc.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Lc.store);e.createIndex(Lc.readTimeIndex,Lc.readTimeIndexPath,{unique:!1}),e.createIndex(Lc.collectionReadTimeIndex,Lc.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(Bc.store,{keyPath:Bc.keyPath})}(t),function(t){t.createObjectStore(zc.store,{keyPath:zc.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(Lc.store).$t((function(t,n){e+=Ch(n)})).next((function(){var n=new Mc(e);return t.store(Mc.store).put(Mc.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Cc.store),r=t.store(xc.store);return n.Nt().next((function(n){return Wc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(xc.userMutationsIndex,i).next((function(r){return Wc.forEach(r,(function(r){la(r.userId===n.userId);var i=gh(e.R,r);return Dh(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Fc.store),n=t.store(Lc.store);return t.store(qc.store).get(qc.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new Sa(n),a=function(t){return[0,Sc(t)]}(o);r.push(e.get(a).next((function(n){return n?Wc.resolve():function(n){return e.put(new Fc(0,Sc(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Wc.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Uc.store,{keyPath:Uc.keyPath});var n=e.store(Uc.store),r=new Sh,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Sc(i)})}};return e.store(Lc.store).$t({kt:!0},(function(t,e){var n=new Sa(t);return i(n.popLast())})).next((function(){return e.store(Pc.store).$t({kt:!0},(function(t,e){t[0];var n=t[1];t[2];var r=Nc(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Vc.store);return n.$t((function(t,r){var i=mh(r),o=yh(e.R,i);return n.put(o)}))},t}();function nl(t){t.createObjectStore(Fc.store,{keyPath:Fc.keyPath}).createIndex(Fc.documentTargetsIndex,Fc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Vc.store,{keyPath:Vc.keyPath}).createIndex(Vc.queryTargetsIndexName,Vc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(qc.store)}var rl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",il=function(){function t(e,n,r,i,o,a,s,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new ra(na.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gh(this,i),this.Le=n+"main",this.R=new ch(u),this.Be=new Yc(this.Le,11,new el(this.R)),this.qe=new Vh(this.referenceDelegate,this.R),this.Ut=new _h,this.Ue=function(t,e){return new Yh(t,e)}(this.R,this.Ut),this.Ke=new wh,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===h&&sa("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ra(na.FAILED_PRECONDITION,rl);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new ea(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return $t(e,void 0,void 0,(function(){return Gt(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return $t(e,void 0,void 0,(function(){return Gt(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return $t(e,void 0,void 0,(function(){return Gt(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return al(e).put(new jc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Zc(e))return aa("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return aa("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return ol(t).get(Dc.key).next((function(t){return Wc.resolve(e.tn(t))}))},t.prototype.en=function(t){return al(t).delete(this.clientId)},t.prototype.nn=function(){return $t(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Gt(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=oh(t,jc.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Wc.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)r=n[e],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Wc.resolve(!0):ol(t).get(Dc.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new ra(na.FAILED_PRECONDITION,rl);return!1}}return!(!e.networkEnabled||!e.inForeground)||al(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&aa("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return $t(this,void 0,void 0,(function(){var t=this;return Gt(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Dc.store,jc.store],(function(e){var n=new ih(e,ea.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return al(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return xh.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;aa("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Kc,(function(o){return i=new ih(o,r.Ne?r.Ne.next():ea.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw sa("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new ra(na.FAILED_PRECONDITION,$c);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return ol(t).get(Dc.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ra(na.FAILED_PRECONDITION,rl)}))},t.prototype.Ze=function(t){var e=new Dc(this.clientId,this.allowTabSynchronization,Date.now());return ol(t).put(Dc.key,e)},t.yt=function(){return Yc.yt()},t.prototype.Xe=function(t){var e=this,n=ol(t);return n.get(Dc.key).next((function(t){return e.tn(t)?(aa("IndexedDbPersistence","Releasing primary lease."),n.delete(Dc.key)):Wc.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(sa("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),!te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return aa("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return sa("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){sa("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ol(t){return oh(t,Dc.store)}function al(t){return oh(t,jc.store)}function sl(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var ul=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return qa.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Cs(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new qa(e)).next((function(t){var e=xu();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=xu();return this.Ut.getCollectionParents(t,i).next((function(a){return Wc.forEach(a,(function(a){var s=function(t,e){return new Ts(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,h=r.get(c);null==h&&(h=ns.newInvalidDocument(c),r=r.insert(c,h)),su(u,h,o.localWriteTime),h.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Vs(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Ru(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof fu&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),cl=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ru(),i=Ru(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),hl=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ba.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(As(e)||Ns(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(oa()<=ge.DEBUG&&aa("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ms(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Au(Fs(t));return e.forEach((function(e,r){Vs(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return oa()<=ge.DEBUG&&aa("QueryEngine","Using full collection scan to execute query:",Ms(e)),this.Sn.getDocumentsMatchingQuery(t,e,ba.min())},t}(),ll=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Tu(va),this.kn=new Wh((function(t){return os(t)}),as),this.$n=ba.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new ul(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function fl(t,e,n,r){return new ll(t,e,n,r)}function dl(t,e){return $t(this,void 0,void 0,(function(){var n,r,i,o;return Gt(this,(function(a){switch(a.label){case 0:return n=fa(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new ul(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=Ru(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function pl(t,e){var n=fa(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Wc.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);la(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function vl(t){var e=fa(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function gl(t,e){var n=fa(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return la(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=Du();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(function(t,e,n,r,i){var o=Ru();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Du();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ba.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):aa("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(ba.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return Wc.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.Fn=i,t}))}function ml(t,e){var n=fa(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function yl(t,e){var n=fa(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,Wc.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new uh(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function bl(t,e,n){return $t(this,void 0,void 0,(function(){var r,i,o,a;return Gt(this,(function(s){switch(s.label){case 0:r=fa(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Zc(a=s.sent()))throw a;return aa("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function wl(t,e,n){var r=fa(t),i=ba.min(),o=Ru();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=fa(t),i=r.kn.get(n);return void 0!==i?Wc.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Ps(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:ba.min(),n?o:Ru())})).next((function(t){return{documents:t,Bn:o}}))}))}function Il(t,e){var n=fa(t),r=fa(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function El(t){var e=fa(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=fa(t),i=Du(),o=fh(n),a=Zh(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Lc.readTimeIndex,range:s},(function(t,e){var n=hh(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:dh(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function Tl(t){return $t(this,void 0,void 0,(function(){var e;return Gt(this,(function(n){return[2,(e=fa(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Zh(t),n=ba.min();return e.$t({index:Lc.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=dh(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Sl=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Wc.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Ju(n.createTime)}),Wc.resolve()},t.prototype.getNamedQuery=function(t,e){return Wc.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:bh(t.bundledQuery),readTime:Ju(t.readTime)}}(e)),Wc.resolve()},t}(),_l=function(){function t(){this.Wn=new Au(Al.Gn),this.zn=new Au(Al.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Al(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Al(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new qa(new Sa([])),r=new Al(n,t),i=new Al(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new qa(new Sa([])),n=new Al(e,t),r=new Al(e,t+1),i=Ru();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Al(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Al=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return qa.comparator(t.key,e.key)||va(t.ns,e.ns)},t.Hn=function(t,e){return va(t.ns,e.ns)||qa.comparator(t.key,e.key)},t}(),Nl=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Au(Al.Gn)}return t.prototype.checkEmpty=function(t){return Wc.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new ah(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Al(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Wc.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Wc.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return Wc.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Wc.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Wc.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Al(e,0),i=new Al(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Wc.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Au(va);return e.forEach((function(t){var e=new Al(t,0),i=new Al(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Wc.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;qa.isDocumentKey(i)||(i=i.child(""));var o=new Al(new qa(i),0),a=new Au(va);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),Wc.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;la(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Wc.forEach(e.mutations,(function(i){var o=new Al(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Al(e,0),r=this.rs.firstAfterOrEqual(n);return Wc.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,Wc.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),kl=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Tu(qa.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Wc.resolve(n?n.document.clone():ns.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Du();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():ns.newInvalidDocument(t))})),Wc.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Du(),i=new qa(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,h=u.readTime;if(!e.path.isPrefixOf(s.path))break;h.compareTo(n)<=0||Vs(e,c)&&(r=r.insert(c.key,c.clone()))}return Wc.resolve(r)},t.prototype.fs=function(t,e){return Wc.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Dl(this)},t.prototype.getSize=function(t){return Wc.resolve(this.size)},t}(),Dl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return zt(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Wc.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Qh),Cl=function(){function t(t){this.persistence=t,this.ds=new Wh((function(t){return os(t)}),as),this.lastRemoteSnapshotVersion=ba.min(),this.highestTargetId=0,this.ws=0,this._s=new _l,this.targetCount=0,this.ys=Mh.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Wc.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Wc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Wc.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Wc.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Wc.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Mh(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Wc.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Wc.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Wc.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Wc.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Wc.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Wc.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Wc.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Wc.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Wc.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Wc.resolve(n)},t.prototype.containsKey=function(t,e){return Wc.resolve(this._s.containsKey(e))},t}(),xl=function(){function t(t,e){var n=this;this.gs={},this.Ne=new ea(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Cl(this),this.Ut=new Th,this.Ue=function(t,e){return new kl(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new ch(e),this.Ke=new Sl(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Nl(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;aa("MemoryPersistence","Starting transaction:",t);var i=new Pl(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Wc.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Pl=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return zt(e,t),e}(Gc),Ol=function(){function t(t){this.persistence=t,this.As=new _l,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ha()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Wc.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Wc.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Wc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wc.forEach(this.vs,(function(r){var i=qa.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Wc.or([function(){return Wc.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Rl=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ll(t,e){return"firestore_clients_"+t+"_"+e}function Ml(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Vl(t,e){return"firestore_targets_"+t+"_"+e}Rl.UNAUTHENTICATED=new Rl(null),Rl.GOOGLE_CREDENTIALS=new Rl("google-credentials-uid"),Rl.FIRST_PARTY=new Rl("first-party-uid");var Fl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ra(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(sa("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ql=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ra(i.error.code,i.error.message)),o?new t(e,i.state,r):(sa("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ul=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Mu(),a=0;i&&a<r.activeTargetIds.length;++a)i=Fa(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(sa("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),jl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(sa("SharedClientState","Failed to parse online state: "+e),null)},t}(),Bl=function(){function t(){this.activeTargetIds=Mu()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),zl=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Tu(va),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Ll(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Bl),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return $t(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,h,l=this;return Gt(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Ll(this.persistenceKey,r)))&&(o=Ul.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)h=c[u],this.Fs(h);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Vl(this.persistenceKey,t));if(n){var r=ql.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Vl(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return aa("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){aa("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){aa("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(aa("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void sa("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return $t(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Gt(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=ea.o;if(null!=t)try{var n=JSON.parse(t);la("number"==typeof n),e=n}catch(t){sa("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ea.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Fl(this.currentUser,t,e,n),i=Ml(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Ml(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Vl(this.persistenceKey,t),i=new ql(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Ul.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Fl.Vs(new Rl(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return ql.Vs(r,e)},t.prototype.js=function(t){return jl.Vs(t)},t.prototype.ii=function(t){return $t(this,void 0,void 0,(function(){return Gt(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(aa("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Mu();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Kl=function(){function t(){this.li=new Bl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Bl,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),$l=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Gl=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){aa("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){aa("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Hl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Wl=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Ql=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return zt(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new ta;a.listenOnce(Wo.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Ho.NO_ERROR:var e=a.getResponseJson();aa("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Ho.TIMEOUT:aa("Connection",'RPC "'+t+'" timed out'),o(new ra(na.DEADLINE_EXCEEDED,"Request time out"));break;case Ho.HTTP_ERROR:var n=a.getStatus();if(aa("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(na).indexOf(e)>=0?e:na.UNKNOWN}(r.status);o(new ra(s,r.message))}else o(new ra(na.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ra(na.UNAVAILABLE,"Connection failed."));break;default:ha()}}finally{aa("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.Oi=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Bo,o=Rr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Jo({})),this.Fi(a.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())||"object"==typeof navigator&&"ReactNative"===navigator.product||Zt().indexOf("Electron/")>=0||function(){var t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Zt().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");aa("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,h=!1,l=new Wl({Ei:function(t){h?aa("Connection","Not sending because WebChannel is closed:",t):(c||(aa("Connection","Opening WebChannel transport."),u.open(),c=!0),aa("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,Zo.EventType.OPEN,(function(){h||aa("Connection","WebChannel transport opened.")})),f(u,Zo.EventType.CLOSE,(function(){h||(h=!0,aa("Connection","WebChannel transport closed"),l.Vi())})),f(u,Zo.EventType.ERROR,(function(t){h||(h=!0,ua("Connection","WebChannel transport errored:",t),l.Vi(new ra(na.UNAVAILABLE,"The operation could not be completed")))})),f(u,Zo.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];la(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){aa("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=gu[t];if(void 0!==e)return Eu(e)}(o),s=i.message;void 0===a&&(a=na.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),h=!0,l.Vi(new ra(a,s)),u.close()}else aa("Connection","WebChannel received:",n),l.Si(n)}})),f(o,Qo.STAT_EVENT,(function(t){t.stat===Yo?aa("Connection","Detected buffering proxy"):t.stat===Xo&&aa("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);aa("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return aa("RestConnection","Received: ",t),t}),(function(e){throw ua("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=Hl[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Yl(){return"undefined"!=typeof window?window:null}function Xl(){return"undefined"!=typeof document?document:null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Jl(t){return new Wu(t,!0)}var Zl=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&aa("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),tf=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Zl(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return $t(this,void 0,void 0,(function(){return Gt(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return $t(this,void 0,void 0,(function(){return Gt(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return $t(this,void 0,void 0,(function(){return Gt(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===na.RESOURCE_EXHAUSTED?(sa(e.toString()),sa("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===na.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new ra(na.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return $t(t,void 0,void 0,(function(){return Gt(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return aa("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(aa("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ef=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return zt(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ha()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(la(void 0===e||"string"==typeof e),ka.fromBase64String(e||"")):(la(void 0===e||e instanceof Uint8Array),ka.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?na.UNKNOWN:Eu(t.code);return new ra(e,t.message||"")}(s);n=new ju(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=nc(t,r.document.name),o=Ju(r.document.updateTime);var s=new ts({mapValue:{fields:r.document.fields}}),u=(a=ns.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new qu(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=nc(t,r.document),o=r.readTime?Ju(r.readTime):ba.min(),s=ns.newNoDocument(i,o),a=r.removedTargetIds||[],n=new qu([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=nc(t,r.document),o=r.removedTargetIds||[],n=new qu([],o,i,null);else{if(!("filter"in e))return ha();e.filter;var h=e.filter;h.targetId,r=h.count||0,i=new wu(r),o=h.targetId,n=new Uu(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return ba.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ba.min():e.readTime?Ju(e.readTime):ba.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=oc(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=ss(r)?{documents:hc(t,r)}:{query:lc(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Yu(t,e.resumeToken):e.snapshotVersion.compareTo(ba.min())>0&&(n.readTime=Qu(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ha()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=oc(this.R),e.removeTarget=t,this.cr(e)},e}(tf),nf=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return zt(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(la(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(la(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Ju(t.updateTime):Ju(e);return n.isEqual(ba.min())&&(n=Ju(e)),new nu(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ju(t.commitTime);return this.listener.Tr(n,e)}return la(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=oc(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return uc(e.R,t)}))};this.cr(n)},e}(tf),rf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return zt(e,t),e.prototype.br=function(){if(this.Rr)throw new ra(na.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===na.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ra(na.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===na.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ra(na.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),of=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(sa(e),this.Vr=!1):aa("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),af=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return $t(o,void 0,void 0,(function(){return Gt(this,(function(t){switch(t.label){case 0:return vf(this)?(aa("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return $t(this,void 0,void 0,(function(){var e;return Gt(this,(function(n){switch(n.label){case 0:return(e=fa(t)).Or.add(4),[4,uf(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,sf(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new of(n,r)};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function sf(t){return $t(this,void 0,void 0,(function(){var e,n;return Gt(this,(function(r){switch(r.label){case 0:if(!vf(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function uf(t){return $t(this,void 0,void 0,(function(){var e,n;return Gt(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function cf(t,e){var n=fa(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),pf(n)?df(n):Cf(n).er()&&lf(n,e))}function hf(t,e){var n=fa(t),r=Cf(n);n.$r.delete(e),r.er()&&ff(n,e),0===n.$r.size&&(r.er()?r.ir():vf(n)&&n.Br.set("Unknown"))}function lf(t,e){t.qr.U(e.targetId),Cf(t).mr(e)}function ff(t,e){t.qr.U(e),Cf(t).yr(e)}function df(t){t.qr=new zu({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Cf(t).start(),t.Br.Sr()}function pf(t){return vf(t)&&!Cf(t).tr()&&t.$r.size>0}function vf(t){return 0===fa(t).Or.size}function gf(t){t.qr=void 0}function mf(t){return $t(this,void 0,void 0,(function(){return Gt(this,(function(e){return t.$r.forEach((function(e,n){lf(t,e)})),[2]}))}))}function yf(t,e){return $t(this,void 0,void 0,(function(){return Gt(this,(function(n){return gf(t),pf(t)?(t.Br.Nr(e),df(t)):t.Br.set("Unknown"),[2]}))}))}function bf(t,e,n){return $t(this,void 0,void 0,(function(){var r,i,o;return Gt(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof ju&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return $t(this,void 0,void 0,(function(){var n,r,i,o;return Gt(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),aa("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,wf(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof qu?t.qr.X(e):e instanceof Uu?t.qr.rt(e):t.qr.et(e),n.isEqual(ba.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,vl(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(ka.EMPTY_BYTE_STRING,n.snapshotVersion)),ff(t,e);var r=new uh(n.target,e,1,n.sequenceNumber);lf(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return aa("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,wf(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function wf(t,e,n){return $t(this,void 0,void 0,(function(){var r=this;return Gt(this,(function(i){switch(i.label){case 0:if(!Zc(e))throw e;return t.Or.add(1),[4,uf(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return vl(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return $t(r,void 0,void 0,(function(){return Gt(this,(function(e){switch(e.label){case 0:return aa("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,sf(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function If(t,e){return e().catch((function(n){return wf(t,n,e)}))}function Ef(t){return $t(this,void 0,void 0,(function(){var e,n,r,i,o;return Gt(this,(function(a){switch(a.label){case 0:e=fa(t),n=xf(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return vf(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,ml(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=xf(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,wf(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Tf(e)&&Sf(e),[2]}}))}))}function Tf(t){return vf(t)&&!xf(t).tr()&&t.kr.length>0}function Sf(t){xf(t).start()}function _f(t){return $t(this,void 0,void 0,(function(){return Gt(this,(function(e){return xf(t).Ar(),[2]}))}))}function Af(t){return $t(this,void 0,void 0,(function(){var e,n,r,i;return Gt(this,(function(o){for(e=xf(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function Nf(t,e,n){return $t(this,void 0,void 0,(function(){var r,i;return Gt(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=sh.from(r,e,n),[4,If(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Ef(t)];case 2:return o.sent(),[2]}}))}))}function kf(t,e){return $t(this,void 0,void 0,(function(){return Gt(this,(function(n){switch(n.label){case 0:return e&&xf(t).pr?[4,function(t,e){return $t(this,void 0,void 0,(function(){var n,r;return Gt(this,(function(i){switch(i.label){case 0:return Iu(r=e.code)&&r!==na.ABORTED?(n=t.kr.shift(),xf(t).sr(),[4,If(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Ef(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Tf(t)&&Sf(t),[2]}}))}))}function Df(t,e){return $t(this,void 0,void 0,(function(){var n;return Gt(this,(function(r){switch(r.label){case 0:return n=fa(t),e?(n.Or.delete(2),[4,sf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,uf(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Cf(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=fa(t);return r.br(),new ef(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:mf.bind(null,t),Ri:yf.bind(null,t),_r:bf.bind(null,t)}),t.Mr.push((function(n){return $t(e,void 0,void 0,(function(){return Gt(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),pf(t)?df(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),gf(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function xf(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=fa(t);return r.br(),new nf(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:_f.bind(null,t),Ri:kf.bind(null,t),Ir:Af.bind(null,t),Tr:Nf.bind(null,t)}),t.Mr.push((function(n){return $t(e,void 0,void 0,(function(){return Gt(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Ef(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(aa("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Pf=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ra(na.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Of(t,e){if(sa("AsyncQueue",e+": "+t),Zc(t))return new ra(na.UNAVAILABLE,e+": "+t);throw t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Rf=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||qa.comparator(e.key,n.key)}:function(t,e){return qa.comparator(t.key,e.key)},this.keyedMap=xu(),this.sortedSet=new Tu(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Lf=function(){function t(){this.Qr=new Tu(qa.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):ha():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Mf=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Rf.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Vf=function(){this.Wr=void 0,this.listeners=[]},Ff=function(){this.queries=new Wh((function(t){return Ls(t)}),Rs),this.onlineState="Unknown",this.Gr=new Set};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function qf(t,e){return $t(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Gt(this,(function(c){switch(c.label){case 0:if(n=fa(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Vf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Of(s,"Initialization of query '"+Ms(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&zf(n),[2]}}))}))}function Uf(t,e){return $t(this,void 0,void 0,(function(){var n,r,i,o,a;return Gt(this,(function(s){return n=fa(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function jf(t,e){for(var n=fa(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Hr(a)&&(r=!0);u.Wr=a}}r&&zf(n)}function Bf(t,e,n){var r=fa(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function zf(t){t.Gr.forEach((function(t){t.next()}))}var Kf=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Mf(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Mf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),$f=function(t){this.key=t},Gf=function(t){this.key=t},Hf=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ru(),this.mutatedKeys=Ru(),this.lo=Fs(t),this.fo=new Rf(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Lf,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=As(this.query)&&i.size===this.query.limit?i.last():null,c=Ns(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var h=i.get(t),l=Vs(n.query,e)?e:null,f=!!h&&n.mutatedKeys.has(h.key),d=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;h&&l?h.data.isEqual(l.data)?f!==d&&(r.track({type:3,doc:l}),p=!0):n.yo(h,l)||(r.track({type:2,doc:l}),p=!0,(u&&n.lo(l,u)>0||c&&n.lo(l,c)<0)&&(s=!0)):!h&&l?(r.track({type:0,doc:l}),p=!0):h&&!l&&(r.track({type:1,doc:h}),p=!0,(u||c)&&(s=!0)),p&&(l?(a=a.add(l),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),As(this.query)||Ns(this.query))for(;a.size>this.query.limit;){var h=As(this.query)?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ha()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Mf(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Lf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ru(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Gf(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new $f(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ru();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Mf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Wf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Qf=function(t){this.key=t,this.bo=!1},Yf=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Wh((function(t){return Ls(t)}),Rs),this.Vo=new Map,this.So=new Set,this.Do=new Tu(qa.comparator),this.Co=new Map,this.No=new _l,this.xo={},this.Fo=new Map,this.ko=Mh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xf(t,e){return $t(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Gt(this,(function(u){switch(u.label){case 0:return n=Ad(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,yl(n.localStore,Ps(e))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Jf(n,e,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&cf(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Jf(t,e,n,r){return $t(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Gt(this,(function(h){switch(h.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return $t(this,void 0,void 0,(function(){var i,o,a;return Gt(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,wl(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(ld(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,wl(t.localStore,e,!0)];case 1:return i=h.sent(),o=new Hf(e,i.Bn),a=o._o(i.documents),s=Fu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),ld(t,n,u.To),c=new Wf(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Zf(t,e){return $t(this,void 0,void 0,(function(){var n,r,i;return Gt(this,(function(o){switch(o.label){case 0:return n=fa(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Rs(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,bl(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),hf(n.remoteStore,r.targetId),cd(n,r.targetId)})).catch(jh)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return cd(n,r.targetId),[4,bl(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function td(t,e,n){return $t(this,void 0,void 0,(function(){var r,i,o,a;return Gt(this,(function(s){switch(s.label){case 0:r=Nd(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=fa(t),i=ya.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Ru());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],h=uu(c,n.get(c.key));null!=h&&a.push(new fu(c.key,h,es(h.value.mapValue),ru.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Tu(va)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,pd(r,i.changes)];case 3:return s.sent(),[4,Ef(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Of(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function ed(t,e){return $t(this,void 0,void 0,(function(){var n,r;return Gt(this,(function(i){switch(i.label){case 0:n=fa(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,gl(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(la(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?la(r.bo):t.removedDocuments.size>0&&(la(r.bo),r.bo=!1))})),[4,pd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,jh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function nd(t,e,n){var r=fa(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=fa(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&zf(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rd(t,e,n){return $t(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Gt(this,(function(c){switch(c.label){case 0:return(r=fa(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new Tu(qa.comparator)).insert(o,ns.newNoDocument(o,ba.min())),s=Ru().add(o),u=new Vu(ba.min(),new Map,new Au(va),a,s),[4,ed(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),dd(r),[3,4];case 2:return[4,bl(r.localStore,e,!1).then((function(){return cd(r,e,n)})).catch(jh)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function id(t,e){return $t(this,void 0,void 0,(function(){var n,r,i;return Gt(this,(function(o){switch(o.label){case 0:n=fa(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,pl(n.localStore,e)];case 2:return i=o.sent(),ud(n,r,null),sd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,pd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,jh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function od(t,e,n){return $t(this,void 0,void 0,(function(){var r,i;return Gt(this,(function(o){switch(o.label){case 0:r=fa(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=fa(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return la(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),ud(r,e,n),sd(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,pd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,jh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ad(t,e){return $t(this,void 0,void 0,(function(){var n,r,i,o,a;return Gt(this,(function(s){switch(s.label){case 0:vf((n=fa(t)).remoteStore)||aa("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=fa(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Of(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function sd(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function ud(t,e,n){var r=fa(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function cd(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||hd(t,e)}))}function hd(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(hf(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),dd(t))}function ld(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof $f?(t.No.addReference(o.key,e),fd(t,o)):o instanceof Gf?(aa("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||hd(t,o.key)):ha()}}function fd(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(aa("SyncEngine","New document in limbo: "+n),t.So.add(r),dd(t))}function dd(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new qa(Sa.fromString(e)),r=t.ko.next();t.Co.set(r,new Qf(n)),t.Do=t.Do.insert(n,r),cf(t.remoteStore,new uh(Ps(_s(n.path)),r,2,ea.o))}}function pd(t,e,n){return $t(this,void 0,void 0,(function(){var r,i,o,a;return Gt(this,(function(s){switch(s.label){case 0:return r=fa(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.Oo(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=cl.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return $t(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,h;return Gt(this,(function(l){switch(l.label){case 0:n=fa(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Wc.forEach(e,(function(e){return Wc.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Wc.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Zc(r=l.sent()))throw r;return aa("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,h=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,h));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function vd(t,e){return $t(this,void 0,void 0,(function(){var n,r;return Gt(this,(function(i){switch(i.label){case 0:return(n=fa(t)).currentUser.isEqual(e)?[3,3]:(aa("SyncEngine","User change. New user:",e.toKey()),[4,dl(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new ra(na.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,pd(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function gd(t,e){var n=fa(t),r=n.Co.get(e);if(r&&r.bo)return Ru().add(r.key);var i=Ru(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function md(t,e){return $t(this,void 0,void 0,(function(){var n,r,i;return Gt(this,(function(o){switch(o.label){case 0:return[4,wl((n=fa(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&ld(n,e.targetId,i.To),i)]}}))}))}function yd(t){return $t(this,void 0,void 0,(function(){var e;return Gt(this,(function(n){return[2,El((e=fa(t)).localStore).then((function(t){return pd(e,t)}))]}))}))}function bd(t,e,n,r){return $t(this,void 0,void 0,(function(){var i,o;return Gt(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=fa(t),r=fa(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):Wc.resolve(null)}))}))}((i=fa(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ef(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ud(i,e,r||null),sd(i,e),function(t,e){fa(fa(t)._n).Gt(e)}(i.localStore,e)):ha(),a.label=4;case 4:return[4,pd(i,o)];case 5:return a.sent(),[3,7];case 6:aa("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function wd(t,e){return $t(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Gt(this,(function(h){switch(h.label){case 0:return Ad(n=fa(t)),Nd(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Id(n,r.toArray())]);case 1:return i=h.sent(),n.$o=!0,[4,Df(n.remoteStore,!0)];case 2:for(h.sent(),o=0,a=i;o<a.length;o++)s=a[o],cf(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return cd(n,e),bl(n.localStore,e,!0)})),hf(n.remoteStore,e)})),[4,c]);case 4:return h.sent(),[4,Id(n,u)];case 5:return h.sent(),function(t){var e=fa(t);e.Co.forEach((function(t,n){hf(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Tu(qa.comparator)}(n),n.$o=!1,[4,Df(n.remoteStore,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}}))}))}function Id(t,e,n){return $t(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,h,l,f,d,p,v;return Gt(this,(function(g){switch(g.label){case 0:n=fa(t),r=[],i=[],o=0,a=e,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,yl(n.localStore,Ps(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),h=0,l=c,g.label=3;case 3:return h<l.length?(f=l[h],d=n.Po.get(f),[4,md(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Il(n.localStore,s)];case 8:return v=g.sent(),[4,yl(n.localStore,v)];case 9:return u=g.sent(),[4,Jf(n,Ed(v),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Ed(t){return Ss(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Td(t){var e=fa(t);return fa(fa(e.localStore).persistence).fn()}function Sd(t,e,n,r){return $t(this,void 0,void 0,(function(){var i,o,a;return Gt(this,(function(s){switch(s.label){case 0:return(i=fa(t)).$o?(aa("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,El(i.localStore)];case 3:return o=s.sent(),a=Vu.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,pd(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,bl(i.localStore,e,!0)];case 6:return s.sent(),cd(i,e,r),[3,8];case 7:ha(),s.label=8;case 8:return[2]}}))}))}function _d(t,e,n){return $t(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,h,l,f;return Gt(this,(function(d){switch(d.label){case 0:if(!(r=Ad(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(aa("SyncEngine","Adding an already active target "+a),[3,5]):[4,Il(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,yl(r.localStore,s)];case 3:return u=d.sent(),[4,Jf(r,Ed(s),u.targetId,!1)];case 4:d.sent(),cf(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Gt(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,bl(r.localStore,t,!1).then((function(){hf(r.remoteStore,t),cd(r,t)})).catch(jh)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,l=n,d.label=7;case 7:return h<l.length?(f=l[h],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Ad(t){var e=fa(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ed.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rd.bind(null,e),e.vo._r=jf.bind(null,e.eventManager),e.vo.Mo=Bf.bind(null,e.eventManager),e}function Nd(t){var e=fa(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=id.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=od.bind(null,e),e}var kd=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return $t(this,void 0,void 0,(function(){return Gt(this,(function(e){switch(e.label){case 0:return this.R=Jl(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return fl(this.persistence,new hl,t.initialUser,this.R)},t.prototype.qo=function(t){return new xl(Ol.bs,this.R)},t.prototype.Bo=function(t){return new Kl},t.prototype.terminate=function(){return $t(this,void 0,void 0,(function(){return Gt(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Dd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return zt(e,t),e.prototype.initialize=function(e){return $t(this,void 0,void 0,(function(){return Gt(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Tl(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,Nd(this.Qo.syncEngine)];case 4:return n.sent(),[4,Ef(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ko=function(t){return fl(this.persistence,new hl,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Kh(e,t.asyncQueue)},e.prototype.qo=function(t){var e=sl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?kh.withCacheSize(this.cacheSizeBytes):kh.DEFAULT;return new il(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Yl(),Xl(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Kl},e}(kd),Cd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return zt(e,t),e.prototype.initialize=function(e){return $t(this,void 0,void 0,(function(){var n,r=this;return Gt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof zl?(this.sharedClientState.syncEngine={ui:bd.bind(null,n),ai:Sd.bind(null,n),hi:_d.bind(null,n),fn:Td.bind(null,n),ci:yd.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return $t(r,void 0,void 0,(function(){return Gt(this,(function(e){switch(e.label){case 0:return[4,wd(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Yl();if(!zl.yt(e))throw new ra(na.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new zl(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Dd),xd=function(){function t(){}return t.prototype.initialize=function(t,e){return $t(this,void 0,void 0,(function(){var n=this;return Gt(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return nd(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=vd.bind(null,this.syncEngine),[4,Df(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Ff},t.prototype.createDatastore=function(t){var e,n=Jl(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new Ql(e));return function(t,e,n){return new rf(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return nd(a.syncEngine,t,0)},o=Gl.yt()?new Gl:new $l,new af(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Yf(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return $t(this,void 0,void 0,(function(){var e;return Gt(this,(function(n){switch(n.label){case 0:return e=fa(t),aa("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,uf(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Pd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Od=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return $t(this,void 0,void 0,(function(){var e,n=this;return Gt(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ra(na.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return $t(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Gt(this,(function(u){switch(u.label){case 0:return n=fa(t),r=oc(n.R)+"/documents",i={documents:e.map((function(t){return ec(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){la(!!e.found),e.found.name,e.found.updateTime;var n=nc(t,e.found.name),r=Ju(e.found.updateTime),i=new ts({mapValue:{fields:e.found.fields}});return ns.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){la(!!e.missing),la(!!e.readTime);var n=nc(t,e.missing),r=Ju(e.readTime);return ns.newNoDocument(n,r)}(t,e):ha()}(n.R,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());la(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new yu(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return $t(this,void 0,void 0,(function(){var t,e=this;return Gt(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=qa.fromPath(n);e.mutations.push(new bu(r,e.precondition(r)))})),[4,function(t,e){return $t(this,void 0,void 0,(function(){var n,r,i;return Gt(this,(function(o){switch(o.label){case 0:return n=fa(t),r=oc(n.R)+"/documents",i={writes:e.map((function(t){return uc(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ha();e=ba.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ra(na.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ru.updateTime(e):ru.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ba.min()))throw new ra(na.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ru.updateTime(e)}return ru.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Rd=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Zl(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return $t(t,void 0,void 0,(function(){var t,e,n=this;return Gt(this,(function(r){return t=new Od(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Ma(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Iu(e)}return!1},t}(),Ld=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Rl.UNAUTHENTICATED,this.clientId=pa.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return $t(r,void 0,void 0,(function(){return Gt(this,(function(e){switch(e.label){case 0:return aa("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return $t(this,void 0,void 0,(function(){return Gt(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ra(na.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Hc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return $t(t,void 0,void 0,(function(){var t,n;return Gt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Of(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Md(t,e){return $t(this,void 0,void 0,(function(){var n,r,i=this;return Gt(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),aa("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return $t(i,void 0,void 0,(function(){return Gt(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,dl(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Vd(t,e){return $t(this,void 0,void 0,(function(){var n,r;return Gt(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Fd(t)];case 1:return n=i.sent(),aa("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return $t(this,void 0,void 0,(function(){var n,r;return Gt(this,(function(i){switch(i.label){case 0:return(n=fa(t)).asyncQueue.verifyOperationInProgress(),aa("RemoteStore","RemoteStore received new credentials"),r=vf(n),n.Or.add(3),[4,uf(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,sf(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function Fd(t){return $t(this,void 0,void 0,(function(){return Gt(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(aa("FirestoreClient","Using default OfflineComponentProvider"),[4,Md(t,new kd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function qd(t){return $t(this,void 0,void 0,(function(){return Gt(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(aa("FirestoreClient","Using default OnlineComponentProvider"),[4,Vd(t,new xd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Ud(t){return Fd(t).then((function(t){return t.persistence}))}function jd(t){return Fd(t).then((function(t){return t.localStore}))}function Bd(t){return qd(t).then((function(t){return t.remoteStore}))}function zd(t){return qd(t).then((function(t){return t.syncEngine}))}function Kd(t){return $t(this,void 0,void 0,(function(){var e,n;return Gt(this,(function(r){switch(r.label){case 0:return[4,qd(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Xf.bind(null,e.syncEngine),n.onUnlisten=Zf.bind(null,e.syncEngine),n)]}}))}))}function $d(t,e,n){var r=this;void 0===n&&(n={});var i=new Hc;return t.asyncQueue.enqueueAndForget((function(){return $t(r,void 0,void 0,(function(){var r;return Gt(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Pd({next:function(o){e.enqueueAndForget((function(){return Uf(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new ra(na.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new ra(na.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Kf(_s(n.path),o,{includeMetadataChanges:!0,so:!0});return qf(t,a)},[4,Kd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Gd(t,e,n){var r=this;void 0===n&&(n={});var i=new Hc;return t.asyncQueue.enqueueAndForget((function(){return $t(r,void 0,void 0,(function(){var r;return Gt(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Pd({next:function(n){e.enqueueAndForget((function(){return Uf(t,a)})),n.fromCache&&"server"===r.source?i.reject(new ra(na.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Kf(n,o,{includeMetadataChanges:!0,so:!0});return qf(t,a)},[4,Kd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Hd=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Wd=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Qd=new Map,Yd=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Xd=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(Rl.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Jd=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Zd=function(){function t(t){var e=this;this.currentUser=Rl.UNAUTHENTICATED,this.oc=new Hc,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){aa("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(aa("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(aa("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(la("string"==typeof n.accessToken),new Yd(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return $t(n,void 0,void 0,(function(){return Gt(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return la(null===t||"string"==typeof t),new Rl(t)},t}(),tp=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Rl.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),ep=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new tp(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(Rl.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function np(t,e,n){if(!n)throw new ra(na.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function rp(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ra(na.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ip(t,e,n,r){if(!0===e&&!0===r)throw new ra(na.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function op(t){if(!qa.isDocumentKey(t))throw new ra(na.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ap(t){if(qa.isDocumentKey(t))throw new ra(na.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function sp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ha()}function up(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ra(na.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=sp(t);throw new ra(na.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function cp(t,e){if(e<=0)throw new ra(na.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var hp=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ra(na.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ra(na.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ip("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),lp=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hp({}),this._settingsFrozen=!1,t instanceof Wd?(this._databaseId=t,this._credentials=new Xd):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ra(na.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wd(t.options.projectId)}(t),this._credentials=new Zd(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ra(na.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ra(na.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hp(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Xd;switch(t.type){case"gapi":var e=t.client;return la(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ep(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ra(na.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=Qd.get(this))&&(aa("ComponentProvider","Removing Datastore"),Qd.delete(this),t.terminate()),Promise.resolve();var t},t}(),fp=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new pp(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),dp=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),pp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,_s(r))||this)._path=r,i.type="collection",i}return zt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new fp(this.firestore,null,new qa(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(dp);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function vp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=ce(t),np("collection","path",e),t instanceof lp)return ap(n=Sa.fromString.apply(Sa,Qt([e],r))),new pp(t,null,n);if(!(t instanceof fp||t instanceof pp))throw new ra(na.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ap(n=Sa.fromString.apply(Sa,Qt([t.path],r)).child(Sa.fromString(e))),new pp(t.firestore,null,n)}function gp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=ce(t),1===arguments.length&&(e=pa.u()),np("doc","path",e),t instanceof lp)return op(n=Sa.fromString.apply(Sa,Qt([e],r))),new fp(t,null,new qa(n));if(!(t instanceof fp||t instanceof pp))throw new ra(na.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return op(n=t._path.child(Sa.fromString.apply(Sa,Qt([e],r)))),new fp(t.firestore,t instanceof pp?t.converter:null,new qa(n))}function mp(t,e){return t=ce(t),e=ce(e),(t instanceof fp||t instanceof pp)&&(e instanceof fp||e instanceof pp)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function yp(t,e){return t=ce(t),e=ce(e),t instanceof dp&&e instanceof dp&&t.firestore===e.firestore&&Rs(t._query,e._query)&&t.converter===e.converter
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var bp=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Zl(this,"async_queue_retry"),this.Ic=function(){var e=Xl();e&&aa("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Xl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Xl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Hc;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return $t(this,void 0,void 0,(function(){var t,e=this;return Gt(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Zc(t=n.sent()))throw t;return aa("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,sa("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Pf.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&ha()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return $t(this,void 0,void 0,(function(){var t;return Gt(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function wp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ip=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new bp,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return zt(e,t),e.prototype._terminate=function(){return this._firestoreClient||Tp(this),this._firestoreClient.terminate()},e}(lp);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ep(t){return t._firestoreClient||Tp(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Tp(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Hd(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Ld(t._credentials,t._queue,r)}function Sp(t,e,n){var r=this,i=new Hc;return t.asyncQueue.enqueue((function(){return $t(r,void 0,void 0,(function(){var r;return Gt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Md(t,n)];case 1:return o.sent(),[4,Vd(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===na.FAILED_PRECONDITION||t.code===na.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function _p(t){if(t._initialized||t._terminated)throw new ra(na.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ap=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ra(na.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Aa(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Np=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ka.fromBase64String(e))}catch(e){throw new ra(na.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ka.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),kp=function(t){this._methodName=t},Dp=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ra(na.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ra(na.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return va(this._lat,t._lat)||va(this._long,t._long)},t}(),Cp=/^__.*__$/,xp=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new fu(t,this.data,this.fieldMask,e,this.fieldTransforms):new lu(t,this.data,e,this.fieldTransforms)},t}(),Pp=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new fu(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Op(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ha()}}var Rp=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return tv(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Op(this.Nc)&&Cp.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Lp=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Jl(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Rp({Nc:t,methodName:e,qc:n,path:Aa.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Mp(t){var e=t._freezeSettings(),n=Jl(t._databaseId);return new Lp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vp(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Yp("Data must be an object, but it was:",a,r);var s,u,c=Wp(r,a);if(o.merge)s=new Na(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var h=[],l=0,f=o.mergeFields;l<f.length;l++){var d=Xp(e,f[l],n);if(!a.contains(d))throw new ra(na.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");ev(h,d)||h.push(d)}s=new Na(h),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new xp(new ts(c),s,u)}var Fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zt(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(kp);function qp(t,e,n){return new Rp({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Up=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zt(e,t),e.prototype._toFieldTransform=function(t){return new eu(t.path,new Hs)},e.prototype.isEqual=function(t){return t instanceof e},e}(kp),jp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return zt(e,t),e.prototype._toFieldTransform=function(t){var e=qp(this,t,!0),n=this.Kc.map((function(t){return Hp(t,e)})),r=new Ws(n);return new eu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(kp),Bp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return zt(e,t),e.prototype._toFieldTransform=function(t){var e=qp(this,t,!0),n=this.Kc.map((function(t){return Hp(t,e)})),r=new Ys(n);return new eu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(kp),zp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return zt(e,t),e.prototype._toFieldTransform=function(t){var e=new Js(t.R,Bs(t.R,this.Qc));return new eu(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(kp);function Kp(t,e,n,r){var i=t.Uc(1,e,n);Yp("Data must be an object, but it was:",i,r);var o=[],a=ts.empty();Ia(r,(function(t,r){var s=Zp(e,t,n);r=ce(r);var u=i.Oc(s);if(r instanceof Fp)o.push(s);else{var c=Hp(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Na(o);return new Pp(a,s,i.fieldTransforms)}function $p(t,e,n,r,i,o){var a=t.Uc(1,e,n),s=[Xp(e,r,n)],u=[i];if(o.length%2!=0)throw new ra(na.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Xp(e,o[c])),u.push(o[c+1]);for(var h=[],l=ts.empty(),f=s.length-1;f>=0;--f)if(!ev(h,s[f])){var d=s[f],p=u[f];p=ce(p);var v=a.Oc(d);if(p instanceof Fp)h.push(d);else{var g=Hp(p,v);null!=g&&(h.push(d),l.set(d,g))}}var m=new Na(h);return new Pp(l,m,a.fieldTransforms)}function Gp(t,e,n,r){return void 0===r&&(r=!1),Hp(n,t.Uc(r?4:3,e))}function Hp(t,e){if(Qp(t=ce(t)))return Yp("Unsupported field value:",e,t),Wp(t,e);if(t instanceof kp)return function(t,e){if(!Op(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Hp(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=ce(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Bs(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ya.fromDate(t);return{timestampValue:Qu(e.R,n)}}if(t instanceof ya)return n=new ya(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Qu(e.R,n)};if(t instanceof Dp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Np)return{bytesValue:Yu(e.R,t._byteString)};if(t instanceof fp){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Zu(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+sp(t))}(t,e)}function Wp(t,e){var n={};return Ea(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(t,(function(t,r){var i=Hp(r,e.Fc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Qp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ya||t instanceof Dp||t instanceof Np||t instanceof fp||t instanceof kp)}function Yp(t,e,n){if(!Qp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=sp(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function Xp(t,e,n){if((e=ce(e))instanceof Ap)return e._internalPath;if("string"==typeof e)return Zp(t,e);throw tv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Jp=new RegExp("[~\\*/\\[\\]]");function Zp(t,e,n){if(e.search(Jp)>=0)throw tv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ap.bind.apply(Ap,Qt([void 0],e.split(".")))))._internalPath}catch(r){throw tv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function tv(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new ra(na.INVALID_ARGUMENT,(s+=". ")+t+u)}function ev(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var nv=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new fp(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new rv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(iv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),rv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zt(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(nv);function iv(t,e){return"string"==typeof e?Zp(t,e):e instanceof Ap?e._internalPath:e._delegate._internalPath}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ov=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),av=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return zt(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new sv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(iv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(nv),sv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zt(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(av),uv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ov(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new sv(n._firestore,n._userDataWriter,r.key,r,new ov(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ra(na.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new sv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new ov(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new sv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new ov(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:cv(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function cv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ha()}}function hv(t,e){return t instanceof av&&e instanceof av?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof uv&&e instanceof uv&&t._firestore===e._firestore&&yp(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function lv(t){if(Ns(t)&&0===t.explicitOrderBy.length)throw new ra(na.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fv=function(){};function dv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var pv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return zt(e,t),e.prototype._apply=function(t){var e=Mp(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ra(na.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Iv(a,o);for(var u=[],c=0,h=a;c<h.length;c++){var l=h[c];u.push(wv(r,t,l))}s={arrayValue:{values:u}}}else s=wv(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Iv(a,o),s=Gp(n,"where",a,"in"===o||"not-in"===o);var f=us.create(i,o,s);return function(t,e){if(e.g()){var n=Ds(t);if(null!==n&&!n.isEqual(e.field))throw new ra(na.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ks(t);null!==r&&Ev(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new ra(na.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new ra(na.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new dp(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(fv),vv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return zt(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ra(na.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ra(na.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new bs(e,n);return function(t,e){if(null===ks(t)){var n=Ds(t);null!==n&&Ev(t,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new dp(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Ts(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(fv),gv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return zt(e,t),e.prototype._apply=function(t){return new dp(t.firestore,t.converter,Os(t._query,this.Hc,this.Jc))},e}(fv),mv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return zt(e,t),e.prototype._apply=function(t){var e=bv(t,this.type,this.Yc,this.Xc);return new dp(t.firestore,t.converter,function(t,e){return new Ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(fv),yv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return zt(e,t),e.prototype._apply=function(t){var e=bv(t,this.type,this.Yc,this.Xc);return new dp(t.firestore,t.converter,function(t,e){return new Ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(fv);function bv(t,e,n,r){if(n[0]=ce(n[0]),n[0]instanceof nv)return function(t,e,n,r,i){if(!r)throw new ra(na.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=xs(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Ha(e,r.key));else{var c=r.data.field(u.field);if(Oa(c))throw new ra(na.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.canonicalString();throw new ra(na.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ms(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Mp(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new ra(na.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new ra(na.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Cs(t)&&-1!==c.indexOf("/"))throw new ra(na.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(Sa.fromString(c));if(!qa.isDocumentKey(h))throw new ra(na.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var l=new qa(h);s.push(Ha(e,l))}else{var f=Gp(n,r,c);s.push(f)}}return new ms(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function wv(t,e,n){if("string"==typeof(n=ce(n))){if(""===n)throw new ra(na.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cs(e)&&-1!==n.indexOf("/"))throw new ra(na.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Sa.fromString(n));if(!qa.isDocumentKey(r))throw new ra(na.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ha(t,new qa(r))}if(n instanceof fp)return Ha(t,n._key);throw new ra(na.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+sp(n)+".")}function Iv(t,e){if(!Array.isArray(t)||0===t.length)throw new ra(na.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ra(na.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ev(t,e,n){if(!n.isEqual(e))throw new ra(na.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Tv=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Ua(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xa(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Pa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ha()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Ia(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Dp(xa(t.latitude),xa(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Ra(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(La(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ca(t);return new ya(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Sa.fromString(t);la(Tc(n));var r=new Wd(n.get(1),n.get(3)),i=new qa(n.popFirst(5));return r.isEqual(e)||sa("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Sv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var _v=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return zt(e,t),e.prototype.convertBytes=function(t){return new Np(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new fp(this.firestore,null,e)},e}(Tv),Av=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Mp(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Nv(t,this._firestore),i=Sv(r.converter,e,n),o=Vp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ru.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Nv(t,this._firestore);return o="string"==typeof(e=ce(e))||e instanceof Ap?$p(this._dataReader,"WriteBatch.update",a._key,e,n,r):Kp(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,ru.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Nv(t,this._firestore);return this._mutations=this._mutations.concat(new yu(e._key,ru.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ra(na.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Nv(t,e){if((t=ce(t)).firestore!==e)throw new ra(na.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var kv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return zt(e,t),e.prototype.convertBytes=function(t){return new Np(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new fp(this.firestore,null,e)},e}(Tv);function Dv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=up(t,fp);var o=up(t.firestore,Ip),a=Mp(o);return xv(o,[("string"==typeof(e=ce(e))||e instanceof Ap?$p(a,"updateDoc",t._key,e,n,r):Kp(a,"updateDoc",t._key,e)).toMutation(t._key,ru.exists(!0))])}function Cv(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=ce(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||wp(i[s])||(a=i[s],s++);var u,c,h,l={includeMetadataChanges:a.includeMetadataChanges};if(wp(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof fp)c=up(t.firestore,Ip),h=_s(t._key.path),u={next:function(e){i[s]&&i[s](Pv(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=up(t,dp);c=up(d.firestore,Ip),h=d._query;var p=new kv(c);u={next:function(t){i[s]&&i[s](new uv(c,p,d,t))},error:i[s+1],complete:i[s+2]},lv(t._query)}return function(t,e,n,r){var i=this,o=new Pd(r),a=new Kf(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return $t(i,void 0,void 0,(function(){var e;return Gt(this,(function(n){switch(n.label){case 0:return e=qf,[4,Kd(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return $t(i,void 0,void 0,(function(){var e;return Gt(this,(function(n){switch(n.label){case 0:return e=Uf,[4,Kd(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Ep(c),h,l,u)}function xv(t,e){return function(t,e){var n=this,r=new Hc;return t.asyncQueue.enqueueAndForget((function(){return $t(n,void 0,void 0,(function(){var n;return Gt(this,(function(i){switch(i.label){case 0:return n=td,[4,zd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Ep(t),e)}function Pv(t,e,n){var r=n.docs.get(e._key),i=new kv(t);return new av(t,i,e._key,r,new ov(n.hasPendingWrites,n.fromCache),e.converter)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ov=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return zt(e,t),e.prototype.get=function(e){var n=this,r=Nv(e,this._firestore),i=new kv(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new av(n._firestore,i,r._key,t._document,new ov(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Mp(t)}return t.prototype.get=function(t){var e=this,n=Nv(t,this._firestore),r=new _v(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return ha();var i=t[0];if(i.isFoundDocument())return new nv(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new nv(e._firestore,r,n._key,null,n.converter);throw ha()}))},t.prototype.set=function(t,e,n){var r=Nv(t,this._firestore),i=Sv(r.converter,e,n),o=Vp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Nv(t,this._firestore);return o="string"==typeof(e=ce(e))||e instanceof Ap?$p(this._dataReader,"Transaction.update",a._key,e,n,r):Kp(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=Nv(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Rv(){if("undefined"==typeof Uint8Array)throw new ra(na.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Lv(){if("undefined"==typeof atob)throw new ra(na.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Mv=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Lv(),new t(Np.fromBase64String(e))},t.fromUint8Array=function(e){return Rv(),new t(Np.fromUint8Array(e))},t.prototype.toBase64=function(){return Lv(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Rv(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Vv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){_p(t=up(t,Ip));var n=Ep(t),r=t._freezeSettings(),i=new xd;return Sp(n,i,new Dd(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){_p(t=up(t,Ip));var e=Ep(t),n=t._freezeSettings(),r=new xd;return Sp(e,r,new Cd(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new ra(na.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Hc;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return $t(e,void 0,void 0,(function(){var e;return Gt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return $t(this,void 0,void 0,(function(){var e;return Gt(this,(function(n){switch(n.label){case 0:return Yc.yt()?(e=t+"main",[4,Yc.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(sl(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Fv=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Wd||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||ua("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=up(t,lp))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&ua("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Kt({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yt.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),Yt.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new ra(na.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Jd(new Yd(o,new Rl(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return $t(e,void 0,void 0,(function(){var e,n;return Gt(this,(function(r){switch(r.label){case 0:return[4,Ud(t)];case 1:return e=r.sent(),[4,Bd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=fa(t);return e.Or.delete(0),sf(e)}(n))]}}))}))}))}(Ep(up(this._delegate,Ip)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return $t(e,void 0,void 0,(function(){var e,n;return Gt(this,(function(r){switch(r.label){case 0:return[4,Ud(t)];case 1:return e=r.sent(),[4,Bd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return $t(this,void 0,void 0,(function(){var e;return Gt(this,(function(n){switch(n.label){case 0:return(e=fa(t)).Or.add(0),[4,uf(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Ep(up(this._delegate,Ip)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ip("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Hc;return t.asyncQueue.enqueueAndForget((function(){return $t(e,void 0,void 0,(function(){var e;return Gt(this,(function(r){switch(r.label){case 0:return e=ad,[4,zd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Ep(up(this._delegate,Ip)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Pd(e);return t.asyncQueue.enqueueAndForget((function(){return $t(n,void 0,void 0,(function(){var e;return Gt(this,(function(n){switch(n.label){case 0:return e=function(t,e){fa(t).Gr.add(e),e.next()},[4,Kd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return $t(n,void 0,void 0,(function(){var e;return Gt(this,(function(n){switch(n.label){case 0:return e=function(t,e){fa(t).Gr.delete(e)},[4,Kd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Ep(t=up(t,Ip)),wp(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new ra(na.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Jv(this,vp(this._delegate,t))}catch(t){throw Kv(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new zv(this,gp(this._delegate,t))}catch(t){throw Kv(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Qv(this,function(t,e){if(t=up(t,lp),np("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ra(na.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new dp(t,null,function(t){return new Ts(Sa.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Kv(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Hc;return t.asyncQueue.enqueueAndForget((function(){return $t(n,void 0,void 0,(function(){var n;return Gt(this,(function(i){switch(i.label){case 0:return[4,function(t){return qd(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new Rd(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Ep(t),(function(n){return e(new Ov(t,n))}))}(this._delegate,(function(n){return t(new Uv(e,n))}))},t.prototype.batch=function(){var t=this;return Ep(this._delegate),new jv(new Av(this._delegate,(function(e){return xv(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new ra(na.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new ra(na.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),qv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return zt(e,t),e.prototype.convertBytes=function(t){return new Mv(new Np(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return zv.eu(e,this.firestore,null)},e}(Tv);var Uv=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new qv(t)}return t.prototype.get=function(t){var e=this,n=Zv(t);return this._delegate.get(n).then((function(t){return new Hv(e._firestore,new av(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Zv(t);return n?(rp("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Zv(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Qt([a,e,n],i)),this},t.prototype.delete=function(t){var e=Zv(t);return this._delegate.delete(e),this},t}(),jv=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Zv(t);return n?(rp("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Zv(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Qt([a,e,n],i)),this},t.prototype.delete=function(t){var e=Zv(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Bv=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new sv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Wv(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new qv(e),n),i.set(n,o)),o},t}();Bv.su=new WeakMap;var zv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new qv(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new ra(na.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new fp(n._delegate,r,new qa(e)))},t.eu=function(e,n,r){return new t(n,new fp(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Jv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Jv(this.firestore,vp(this._delegate,t))}catch(t){throw Kv(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=ce(t))instanceof fp&&mp(this._delegate,t)},t.prototype.set=function(t,e){e=rp("DocumentReference.set",e);try{return function(t,e,n){t=up(t,fp);var r=up(t.firestore,Ip),i=Sv(t.converter,e,n);return xv(r,[Vp(Mp(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ru.none())])}(this._delegate,t,e)}catch(t){throw Kv(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Dv(this._delegate,t):Dv.apply(void 0,Qt([this._delegate,t,e],n))}catch(t){throw Kv(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return xv(up((t=this._delegate).firestore,Ip),[new yu(t._key,ru.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$v(e),i=Gv(e,(function(e){return new Hv(t.firestore,new av(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Cv(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=up(t,fp);var e=up(t.firestore,Ip),n=Ep(e),r=new kv(e);return function(t,e){var n=this,r=new Hc;return t.asyncQueue.enqueueAndForget((function(){return $t(n,void 0,void 0,(function(){var n;return Gt(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return $t(this,void 0,void 0,(function(){var r,i;return Gt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=fa(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ra(na.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Of(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,jd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new av(e,r,t._key,n,new ov(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=up(t,fp);var e=up(t.firestore,Ip);return $d(Ep(e),t._key,{source:"server"}).then((function(n){return Pv(e,t,n)}))}(this._delegate):function(t){t=up(t,fp);var e=up(t.firestore,Ip);return $d(Ep(e),t._key).then((function(n){return Pv(e,t,n)}))}(this._delegate)).then((function(t){return new Hv(e.firestore,new av(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Bv.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Kv(t,e,n){return t.message=t.message.replace(e,n),t}function $v(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!wp(r))return r}return{}}function Gv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=wp(t[0])?t[0]:wp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Hv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new zv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return hv(this._delegate,t._delegate)},t}(),Wv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zt(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Hv),Qv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new qv(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,dv(this._delegate,function(t,e,n){var r=e,i=iv("where",t);return new pv(i,r,n)}(e,n,r)))}catch(e){throw Kv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,dv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=iv("orderBy",t);return new vv(r,n)}(e,n)))}catch(e){throw Kv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,dv(this._delegate,function(t){return cp("limit",t),new gv("limit",t,"F")}(e)))}catch(e){throw Kv(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,dv(this._delegate,function(t){return cp("limitToLast",t),new gv("limitToLast",t,"L")}(e)))}catch(e){throw Kv(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,dv(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mv("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw Kv(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,dv(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mv("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw Kv(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,dv(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yv("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw Kv(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,dv(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yv("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw Kv(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return yp(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=up(t,dp);var e=up(t.firestore,Ip),n=Ep(e),r=new kv(e);return function(t,e){var n=this,r=new Hc;return t.asyncQueue.enqueueAndForget((function(){return $t(n,void 0,void 0,(function(){var n;return Gt(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return $t(this,void 0,void 0,(function(){var r,i,o,a,s;return Gt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,wl(t,e,!0)];case 1:return s=u.sent(),r=new Hf(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Of(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,jd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new uv(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=up(t,dp);var e=up(t.firestore,Ip),n=Ep(e),r=new kv(e);return Gd(n,t._query,{source:"server"}).then((function(n){return new uv(e,r,t,n)}))}(this._delegate):function(t){t=up(t,dp);var e=up(t.firestore,Ip),n=Ep(e),r=new kv(e);return lv(t._query),Gd(n,t._query).then((function(n){return new uv(e,r,t,n)}))}(this._delegate)).then((function(t){return new Xv(e.firestore,new uv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$v(e),i=Gv(e,(function(e){return new Xv(t.firestore,new uv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Cv(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Bv.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),Yv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Wv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Xv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Qv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Wv(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Yv(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Wv(n._firestore,r))}))},t.prototype.isEqual=function(t){return hv(this._delegate,t._delegate)},t}(),Jv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return zt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new zv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new zv(this.firestore,void 0===t?gp(this._delegate):gp(this._delegate,t))}catch(t){throw Kv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=up(t.firestore,Ip),r=gp(t),i=Sv(t.converter,e);return xv(n,[Vp(Mp(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ru.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new zv(e.firestore,t)}))},e.prototype.isEqual=function(t){return mp(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Bv.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(Qv);function Zv(t){return up(t,fp)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var tg,eg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Ap.bind.apply(Ap,Qt([void 0],t)))}return t.documentId=function(){return new t(Aa.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=ce(t))instanceof Ap&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),ng=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Up("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Fp("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jp("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bp("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new zp("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),rg={Firestore:Fv,GeoPoint:Dp,Timestamp:ya,Blob:Mv,Transaction:Uv,WriteBatch:jv,DocumentReference:zv,DocumentSnapshot:Hv,Query:Qv,QueryDocumentSnapshot:Wv,QuerySnapshot:Xv,CollectionReference:Jv,FieldPath:eg,FieldValue:ng,setLogLevel:function(t){var e;e=t,ia.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new he("firestore",(function(t){return function(t,e){return new Fv(t,new Ip(t,e),new Vv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},rg)))})(tg=Fe),tg.registerVersion("@firebase/firestore","2.3.10");Fe.initializeApp({apiKey:"AIzaSyB4hl9a1RPB_MmuqPm_zNmO49Y20qSf9e4",authDomain:"stoked-sun-304807.firebaseapp.com",projectId:"stoked-sun-304807",storageBucket:"stoked-sun-304807.appspot.com",messagingSenderId:"622344556987",appId:"1:622344556987:web:2018a94371c8eeef90f49e",measurementId:"G-9WXYEFVCQ0"}),Fe.auth();const ig=Fe.firestore(),og=Fe.firestore.FieldValue;function ag(t,e,n){const r=t.slice();return r[17]=e[n].question_id,r[18]=e[n].selection,r[19]=e[n].answer,r[21]=n,r}function sg(t){let e,n,r,o,a,s,u,c,h,l,f,d,p,v,g,m,y,b,N,x,L,M,U,j,B,z,K,$,G,H,W,Q,Y,X,J,Z,tt,et,nt,rt,it,ot,at,st,ut,ct,ht=20!=t[3]&&ug(t),lt=t[5]&&cg(),ft=t[6],dt=[];for(let e=0;e<ft.length;e+=1)dt[e]=hg(ag(t,ft,e));let pt=0==t[6].length&&lg();return{c(){e=S("nav"),n=S("div"),r=S("span"),o=_("Join Quiz"),a=A(),s=S("div"),ht&&ht.c(),u=A(),c=S("button"),h=S("i"),l=_("arrow_forward_ios"),f=_("Next"),d=A(),p=S("div"),v=S("div"),g=S("div"),m=S("h4"),y=_("Quiz Attempted"),b=A(),N=S("div"),x=S("input"),L=A(),M=S("label"),U=_("Your Name"),j=A(),lt&&lt.c(),B=A(),z=S("div"),K=S("div"),$=S("canvas"),G=A(),H=S("span"),W=A(),Q=S("ul");for(let t=0;t<dt.length;t+=1)dt[t].c();Y=A(),pt&&pt.c(),X=A(),J=S("a"),Z=S("i"),tt=_("home"),et=_("Take me Home"),nt=A(),rt=S("div"),it=S("button"),ot=S("i"),at=_("check"),st=_("Submit Result"),this.h()},l(t){e=P(t,"NAV",{class:!0});var i=C(e);n=P(i,"DIV",{class:!0});var w=C(n);r=P(w,"SPAN",{class:!0});var I=C(r);o=O(I,"Join Quiz"),I.forEach(E),w.forEach(E),i.forEach(E),a=R(t),s=P(t,"DIV",{class:!0});var T=C(s);ht&&ht.l(T),u=R(T),c=P(T,"BUTTON",{id:!0,class:!0});var S=C(c);h=P(S,"I",{class:!0});var _=C(h);l=O(_,"arrow_forward_ios"),_.forEach(E),f=O(S,"Next"),S.forEach(E),T.forEach(E),d=R(t),p=P(t,"DIV",{class:!0,style:!0});var A=C(p);v=P(A,"DIV",{class:!0});var k=C(v);g=P(k,"DIV",{class:!0});var D=C(g);m=P(D,"H4",{});var V=C(m);y=O(V,"Quiz Attempted"),V.forEach(E),b=R(D),N=P(D,"DIV",{class:!0});var F=C(N);x=P(F,"INPUT",{id:!0,type:!0,class:!0}),L=R(F),M=P(F,"LABEL",{class:!0,for:!0});var q=C(M);U=O(q,"Your Name"),q.forEach(E),F.forEach(E),D.forEach(E),j=R(k),lt&&lt.l(k),B=R(k),z=P(k,"DIV",{class:!0,style:!0});var ut=C(z);K=P(ut,"DIV",{class:!0,style:!0});var ct=C(K);$=P(ct,"CANVAS",{id:!0,width:!0,height:!0}),C($).forEach(E),G=R(ct),H=P(ct,"SPAN",{id:!0,class:!0}),C(H).forEach(E),ct.forEach(E),W=R(ut),Q=P(ut,"UL",{class:!0});var ft=C(Q);for(let t=0;t<dt.length;t+=1)dt[t].l(ft);Y=R(ft),pt&&pt.l(ft),ft.forEach(E),X=R(ut),J=P(ut,"A",{href:!0,class:!0});var vt=C(J);Z=P(vt,"I",{class:!0});var gt=C(Z);tt=O(gt,"home"),gt.forEach(E),et=O(vt,"Take me Home"),vt.forEach(E),ut.forEach(E),nt=R(k),rt=P(k,"DIV",{class:!0});var mt=C(rt);it=P(mt,"BUTTON",{class:!0});var yt=C(it);ot=P(yt,"I",{class:!0});var bt=C(ot);at=O(bt,"check"),bt.forEach(E),st=O(yt,"Submit Result"),yt.forEach(E),mt.forEach(E),k.forEach(E),A.forEach(E),this.h()},h(){D(r,"class","brand-logo"),D(n,"class","nav-wrapper"),D(e,"class","svelte-vgnv3k"),D(h,"class","material-icons left"),D(c,"id","next"),D(c,"class","waves-effect waves-light btn-large but disabled svelte-vgnv3k"),D(s,"class","container svelte-vgnv3k"),D(x,"id","first_name"),D(x,"type","text"),D(x,"class","validate svelte-vgnv3k"),D(M,"class","label svelte-vgnv3k"),D(M,"for","first_name"),D(N,"class","input-field col s6 svelte-vgnv3k"),D(g,"class","p-one"),D($,"id","canvas"),D($,"width","300"),D($,"height","300"),D(H,"id","procent"),D(H,"class","svelte-vgnv3k"),D(K,"class","canvas-wrap svelte-vgnv3k"),F(K,"margin","0 auto"),D(Q,"class","collection svelte-vgnv3k"),D(Z,"class","material-icons left"),D(J,"href","/"),D(J,"class","waves-effect waves-light btn-large but2 svelte-vgnv3k"),D(z,"class","p-three"),F(z,"display","none"),D(ot,"class","material-icons left"),D(it,"class","join waves-effect waves-green but2 btn-flat svelte-vgnv3k"),q(it,"disabled",0==t[7].length||t[7].length>23||!t[7].replace(/\s/g,"").length),D(rt,"class","footer"),D(v,"class","model svelte-vgnv3k"),D(p,"class","back-drop svelte-vgnv3k"),F(p,"display","none")},m(i,E){I(i,e,E),w(e,n),w(n,r),w(r,o),I(i,a,E),I(i,s,E),ht&&ht.m(s,null),w(s,u),w(s,c),w(c,h),w(h,l),w(c,f),I(i,d,E),I(i,p,E),w(p,v),w(v,g),w(g,m),w(m,y),w(g,b),w(g,N),w(N,x),V(x,t[7]),w(N,L),w(N,M),w(M,U),w(v,j),lt&&lt.m(v,null),w(v,B),w(v,z),w(z,K),w(K,$),w(K,G),w(K,H),w(z,W),w(z,Q);for(let t=0;t<dt.length;t+=1)dt[t].m(Q,null);w(Q,Y),pt&&pt.m(Q,null),w(z,X),w(z,J),w(J,Z),w(Z,tt),w(J,et),w(v,nt),w(v,rt),w(rt,it),w(it,ot),w(ot,at),w(it,st),ut||(ct=[k(c,"click",t[8]),k(x,"input",t[12]),k(it,"click",t[9])],ut=!0)},p(t,e){if(20!=t[3]?ht?ht.p(t,e):(ht=ug(t),ht.c(),ht.m(s,u)):ht&&(ht.d(1),ht=null),128&e&&x.value!==t[7]&&V(x,t[7]),t[5]?lt||(lt=cg(),lt.c(),lt.m(v,B)):lt&&(lt.d(1),lt=null),68&e){let n;for(ft=t[6],n=0;n<ft.length;n+=1){const r=ag(t,ft,n);dt[n]?dt[n].p(r,e):(dt[n]=hg(r),dt[n].c(),dt[n].m(Q,Y))}for(;n<dt.length;n+=1)dt[n].d(1);dt.length=ft.length}0==t[6].length?pt||(pt=lg(),pt.c(),pt.m(Q,null)):pt&&(pt.d(1),pt=null),128&e&&q(it,"disabled",0==t[7].length||t[7].length>23||!t[7].replace(/\s/g,"").length)},d(t){t&&E(e),t&&E(a),t&&E(s),ht&&ht.d(),t&&E(d),t&&E(p),lt&&lt.d(),T(dt,t),pt&&pt.d(),ut=!1,i(ct)}}}function ug(t){let e,n,r,o,a,s,c,h,l,f,d,p,v,g,m,y,b,T,N,x,M,V,q,U,j,B,z,K,$,G,H,W,Q,Y,X,J,Z,tt,et,nt,rt,it,ot,at,st,ut,ct,ht,lt,ft,dt,pt,vt,gt=t[3]+1+"",mt=questions2[t[0][t[3]].question_id].question.replace("xxx",t[2].split(" ")[0])+"",yt=choices[t[0][t[3]].question_id].a+"",bt=choices[t[0][t[3]].question_id].b+"",wt=choices[t[0][t[3]].question_id].c+"",It=choices[t[0][t[3]].question_id].d+"";return{c(){e=S("h5"),n=_(gt),r=S("span"),o=_("/20"),a=_(". "),s=_(mt),c=A(),h=S("div"),l=S("img"),d=A(),p=S("img"),g=A(),m=S("img"),b=A(),T=S("img"),x=A(),M=S("p"),V=S("label"),q=S("input"),j=A(),B=S("span"),z=_(yt),K=A(),$=S("p"),G=S("label"),H=S("input"),Q=A(),Y=S("span"),X=_(bt),J=A(),Z=S("p"),tt=S("label"),et=S("input"),rt=A(),it=S("span"),ot=_(wt),at=A(),st=S("p"),ut=S("label"),ct=S("input"),lt=A(),ft=S("span"),dt=_(It),this.h()},l(t){e=P(t,"H5",{class:!0});var i=C(e);n=O(i,gt),r=P(i,"SPAN",{class:!0});var u=C(r);o=O(u,"/20"),u.forEach(E),a=O(i,". "),s=O(i,mt),i.forEach(E),c=R(t),h=P(t,"DIV",{class:!0});var f=C(h);l=P(f,"IMG",{alt:!0,src:!0,style:!0,class:!0}),d=R(f),p=P(f,"IMG",{alt:!0,src:!0,style:!0,class:!0}),g=R(f),m=P(f,"IMG",{alt:!0,src:!0,style:!0,class:!0}),b=R(f),T=P(f,"IMG",{alt:!0,src:!0,style:!0,class:!0}),f.forEach(E),x=R(t),M=P(t,"P",{});var v=C(M);V=P(v,"LABEL",{});var y=C(V);q=P(y,"INPUT",{class:!0,name:!0,type:!0}),j=R(y),B=P(y,"SPAN",{class:!0});var w=C(B);z=O(w,yt),w.forEach(E),y.forEach(E),v.forEach(E),K=R(t),$=P(t,"P",{});var I=C($);G=P(I,"LABEL",{});var S=C(G);H=P(S,"INPUT",{class:!0,name:!0,type:!0}),Q=R(S),Y=P(S,"SPAN",{class:!0});var _=C(Y);X=O(_,bt),_.forEach(E),S.forEach(E),I.forEach(E),J=R(t),Z=P(t,"P",{});var A=C(Z);tt=P(A,"LABEL",{});var N=C(tt);et=P(N,"INPUT",{class:!0,name:!0,type:!0}),rt=R(N),it=P(N,"SPAN",{class:!0});var k=C(it);ot=O(k,wt),k.forEach(E),N.forEach(E),A.forEach(E),at=R(t),st=P(t,"P",{});var D=C(st);ut=P(D,"LABEL",{});var L=C(ut);ct=P(L,"INPUT",{class:!0,name:!0,type:!0}),lt=R(L),ft=P(L,"SPAN",{class:!0});var F=C(ft);dt=O(F,It),F.forEach(E),L.forEach(E),D.forEach(E),this.h()},h(){D(r,"class","twenty svelte-vgnv3k"),D(e,"class","question  svelte-vgnv3k"),D(l,"alt",""),u(l.src,f=images[t[0][t[3]].question_id].a)||D(l,"src",f),F(l,"width","35%"),F(l,"height","auto"),D(l,"class","svelte-vgnv3k"),D(p,"alt",""),u(p.src,v=images[t[0][t[3]].question_id].b)||D(p,"src",v),F(p,"width","35%"),F(p,"height","auto"),D(p,"class","svelte-vgnv3k"),D(m,"alt",""),u(m.src,y=images[t[0][t[3]].question_id].c)||D(m,"src",y),F(m,"width","35%"),F(m,"height","auto"),D(m,"class","svelte-vgnv3k"),D(T,"alt",""),u(T.src,N=images[t[0][t[3]].question_id].d)||D(T,"src",N),F(T,"width","35%"),F(T,"height","auto"),D(T,"class","svelte-vgnv3k"),D(h,"class","imgstack svelte-vgnv3k"),q.checked=U="a"===t[4],D(q,"class","with-gap "),D(q,"name","group3"),D(q,"type","radio"),q.value="a",D(B,"class","radio  svelte-vgnv3k"),H.checked=W="b"===t[4],D(H,"class","with-gap "),D(H,"name","group3"),D(H,"type","radio"),H.value="b",D(Y,"class","radio  svelte-vgnv3k"),et.checked=nt="c"===t[4],D(et,"class","with-gap "),D(et,"name","group3"),D(et,"type","radio"),et.value="c",D(it,"class","radio  svelte-vgnv3k"),ct.checked=ht="d"===t[4],D(ct,"class","with-gap "),D(ct,"name","group3"),D(ct,"type","radio"),ct.value="d",D(ft,"class","radio  svelte-vgnv3k")},m(i,u){I(i,e,u),w(e,n),w(e,r),w(r,o),w(e,a),w(e,s),I(i,c,u),I(i,h,u),w(h,l),w(h,d),w(h,p),w(h,g),w(h,m),w(h,b),w(h,T),I(i,x,u),I(i,M,u),w(M,V),w(V,q),w(V,j),w(V,B),w(B,z),I(i,K,u),I(i,$,u),w($,G),w(G,H),w(G,Q),w(G,Y),w(Y,X),I(i,J,u),I(i,Z,u),w(Z,tt),w(tt,et),w(tt,rt),w(tt,it),w(it,ot),I(i,at,u),I(i,st,u),w(st,ut),w(ut,ct),w(ut,lt),w(ut,ft),w(ft,dt),pt||(vt=[k(q,"change",t[10]),k(H,"change",t[10]),k(et,"change",t[10]),k(ct,"change",t[10])],pt=!0)},p(t,e){8&e&&gt!==(gt=t[3]+1+"")&&L(n,gt),13&e&&mt!==(mt=questions2[t[0][t[3]].question_id].question.replace("xxx",t[2].split(" ")[0])+"")&&L(s,mt),9&e&&!u(l.src,f=images[t[0][t[3]].question_id].a)&&D(l,"src",f),9&e&&!u(p.src,v=images[t[0][t[3]].question_id].b)&&D(p,"src",v),9&e&&!u(m.src,y=images[t[0][t[3]].question_id].c)&&D(m,"src",y),9&e&&!u(T.src,N=images[t[0][t[3]].question_id].d)&&D(T,"src",N),16&e&&U!==(U="a"===t[4])&&(q.checked=U),9&e&&yt!==(yt=choices[t[0][t[3]].question_id].a+"")&&L(z,yt),16&e&&W!==(W="b"===t[4])&&(H.checked=W),9&e&&bt!==(bt=choices[t[0][t[3]].question_id].b+"")&&L(X,bt),16&e&&nt!==(nt="c"===t[4])&&(et.checked=nt),9&e&&wt!==(wt=choices[t[0][t[3]].question_id].c+"")&&L(ot,wt),16&e&&ht!==(ht="d"===t[4])&&(ct.checked=ht),9&e&&It!==(It=choices[t[0][t[3]].question_id].d+"")&&L(dt,It)},d(t){t&&E(e),t&&E(c),t&&E(h),t&&E(x),t&&E(M),t&&E(K),t&&E($),t&&E(J),t&&E(Z),t&&E(at),t&&E(st),pt=!1,i(vt)}}}function cg(t){let e,n,r;return{c(){e=S("div"),n=S("div"),r=_("Loading..."),this.h()},l(t){e=P(t,"DIV",{class:!0});var i=C(e);n=P(i,"DIV",{class:!0});var o=C(n);r=O(o,"Loading..."),o.forEach(E),i.forEach(E),this.h()},h(){D(n,"class","loader svelte-vgnv3k"),D(e,"class","p-two")},m(t,i){I(t,e,i),w(e,n),w(n,r)},d(t){t&&E(e)}}}function hg(t){let e,n,r,i,o,a,s,u,c,h,l,f,d,p,v,g,m,y=t[21]+1+"",b=questions2[t[17]].question.replace("xxx",t[2].split(" ")[0])+"",T=choices[t[17]][t[18]]+"",N=choices[t[17]][t[19]]+"";return{c(){e=S("li"),n=S("i"),r=_("insert_chart"),i=A(),o=S("span"),a=_(y),s=_(". "),u=_(b),c=A(),h=S("div"),l=S("span"),f=_("Your answer: "),d=_(T),p=A(),v=S("span"),g=_("Correct answer: "),m=_(N),this.h()},l(t){e=P(t,"LI",{class:!0});var w=C(e);n=P(w,"I",{class:!0});var I=C(n);r=O(I,"insert_chart"),I.forEach(E),i=R(w),o=P(w,"SPAN",{class:!0});var S=C(o);a=O(S,y),s=O(S,". "),u=O(S,b),S.forEach(E),c=R(w),h=P(w,"DIV",{style:!0});var _=C(h);l=P(_,"SPAN",{class:!0,"data-badge-caption":!0});var A=C(l);f=O(A,"Your answer: "),d=O(A,T),A.forEach(E),p=R(_),v=P(_,"SPAN",{class:!0,"data-badge-caption":!0});var k=C(v);g=O(k,"Correct answer: "),m=O(k,N),k.forEach(E),_.forEach(E),w.forEach(E),this.h()},h(){D(n,"class","material-icons circle blue"),D(o,"class","title"),D(l,"class","new badge red"),D(l,"data-badge-caption",""),D(v,"class","new badge green"),D(v,"data-badge-caption",""),F(h,"display","grid"),D(e,"class","collection-item avatar")},m(t,y){I(t,e,y),w(e,n),w(n,r),w(e,i),w(e,o),w(o,a),w(o,s),w(o,u),w(e,c),w(e,h),w(h,l),w(l,f),w(l,d),w(h,p),w(h,v),w(v,g),w(v,m)},p(t,e){68&e&&b!==(b=questions2[t[17]].question.replace("xxx",t[2].split(" ")[0])+"")&&L(u,b),64&e&&T!==(T=choices[t[17]][t[18]]+"")&&L(d,T),64&e&&N!==(N=choices[t[17]][t[19]]+"")&&L(m,N)},d(t){t&&E(e)}}}function lg(t){let e,n,r;return{c(){e=S("p"),n=S("em"),r=_("No wrong answers to display."),this.h()},l(t){e=P(t,"P",{style:!0});var i=C(e);n=P(i,"EM",{});var o=C(n);r=O(o,"No wrong answers to display."),o.forEach(E),i.forEach(E),this.h()},h(){F(e,"text-align","center"),F(e,"margin-top","5rem"),F(e,"color","crimson")},m(t,i){I(t,e,i),w(e,n),w(n,r)},d(t){t&&E(e)}}}function fg(e){let n,r=e[1]&&sg(e);return{c(){r&&r.c(),n=N()},l(t){r&&r.l(t),n=N()},m(t,e){r&&r.m(t,e),I(t,n,e)},p(t,[e]){t[1]?r?r.p(t,e):(r=sg(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&E(n)}}}function dg(){let t=document.querySelectorAll("input");for(let e=0;e<t.length;e++)if(t[e].checked)return t[e].value}function pg(t,e,n){let{quiz_id:r=""}=e,{answers:i=[]}=e,{quizJoined:o=!1}=e,{creator:a=""}=e,s=0,u="",c=!1,h=[],l=[],f="",d=20;return function(t){t=r.trim();let e=[(new Date).toString().substring(0,25).concat(t).replace("\\","")];if(null!=localStorage.getItem("storedJoin")){let t=JSON.parse(localStorage.getItem("storedJoin"));t.push(e),localStorage.setItem("storedJoin",JSON.stringify(t))}else localStorage.setItem("storedJoin",JSON.stringify(e))}(r),t.$$set=t=>{"quiz_id"in t&&n(11,r=t.quiz_id),"answers"in t&&n(0,i=t.answers),"quizJoined"in t&&n(1,o=t.quizJoined),"creator"in t&&n(2,a=t.creator)},[i,o,a,s,u,c,l,f,()=>{h.push({question_id:i[s].question_id,choice:dg()}),n(3,s++,s);let t=document.querySelector(".container");if(t.style.display="none",s>18){document.querySelector("#next").textContent="SUBMIT"}if(s>19){n(6,l=function(t,e){let n=[];for(let r=0;r<t.length;r++)t[r].choice!=e[r].choice&&(d--,n.push({question_id:t[r].question_id,selection:t[r].choice,answer:e[r].choice}));return n}(h,i)),document.querySelector(".back-drop").style.display="block",t.style.display="none"}else(function(t){return new Promise((e=>setTimeout(e,t)))})(500).then((()=>{t.style.display="block"}))},()=>{let t=!0;n(5,c=!0),document.querySelector(".p-one").style.display="none",document.querySelector(".join").classList.add("disabled");const e=ig.collection("quiz").doc(r.trim());e.get().then((i=>{if(i.data().players)for(let e=0;e<i.data().players.length;e++){let a=i.data().players[e];a.name!=f&&a.name!=f.trim().toLowerCase()||(M.toast({html:`Player: '${o=a.name.trim().toLowerCase(),o.charAt(0).toUpperCase()+o.slice(1)}' already exists in Quiz: '${r}'`,displayLength:5e3}),n(5,c=!1),t=!1,document.querySelector(".p-one").style.display="block",document.querySelector(".join").classList.remove("disabled"))}var o;t&&e.update({players:og.arrayUnion({name:f.trim().toLowerCase(),attempted:(new Date).toString().substring(0,25),score:d})}).then((()=>{M.toast({html:"You can see how others are doing in this quiz by 'Scoreboard' button on homepage",displayLength:5e3}),n(5,c=!1),document.querySelector(".p-three").style.display="block",function(t,e){let n=t/20*100;var r,i,o=document.getElementById("canvas"),a=document.getElementById("procent"),s=o.getContext("2d"),u=o.width/2,c=o.height/2,h=3.6*n;s.lineCap="round",r=0,i=setInterval((function(){r+=1,s.clearRect(0,0,o.width,o.height),a.innerHTML=t+'<span style="font-size: 25px;">/20</span>',s.beginPath(),s.arc(u,c,70,Math.PI/180*270,Math.PI/180*630),s.strokeStyle="#b1b1b1",s.lineWidth="10",s.stroke(),s.beginPath(),s.strokeStyle=e,s.lineWidth="10",s.arc(u,c,70,Math.PI/180*270,Math.PI/180*(270+r)),s.stroke(),r>=h&&clearInterval(i)}),5)}(d,"#9575cd")}))}))},function(t){n(4,u=t.currentTarget.value),document.querySelector("#next").classList.remove("disabled")},r,function(){f=this.value,n(7,f)}]}class vg extends gt{constructor(t){super(),vt(this,t,pg,fg,a,{quiz_id:11,answers:0,quizJoined:1,creator:2})}}function gg(t,e,n){const r=t.slice();return r[15]=e[n],r}function mg(t,e,n){const r=t.slice();return r[15]=e[n],r}function yg(t){let e,n,r,i,o,a;function s(e){t[10](e)}function u(e){t[11](e)}function c(e){t[12](e)}function h(e){t[13](e)}let l={};return void 0!==t[0]&&(l.quiz_id=t[0]),void 0!==t[2]&&(l.answers=t[2]),void 0!==t[1]&&(l.creator=t[1]),void 0!==t[4]&&(l.quizJoined=t[4]),e=new vg({props:l}),$.push((()=>ct(e,"quiz_id",s))),$.push((()=>ct(e,"answers",u))),$.push((()=>ct(e,"creator",c))),$.push((()=>ct(e,"quizJoined",h))),{c(){ht(e.$$.fragment)},l(t){lt(e.$$.fragment,t)},m(t,n){ft(e,t,n),a=!0},p(t,a){const s={};!n&&1&a&&(n=!0,s.quiz_id=t[0],X((()=>n=!1))),!r&&4&a&&(r=!0,s.answers=t[2],X((()=>r=!1))),!i&&2&a&&(i=!0,s.creator=t[1],X((()=>i=!1))),!o&&16&a&&(o=!0,s.quizJoined=t[4],X((()=>o=!1))),e.$set(s)},i(t){a||(at(e.$$.fragment,t),a=!0)},o(t){st(e.$$.fragment,t),a=!1},d(t){dt(e,t)}}}function bg(t){let e,n,r,o,a,s,u,c,h,l,f,d,p,v,g,m,y,b,T,N,x,M,U,j,B,z,K,$,G,H,W,Q,Y,X,J,Z,tt,et,nt,rt,it,ot,at,st,ut,ct,ht,lt,ft,dt,pt,vt,gt,mt,yt,bt,wt,It,Et,Tt,St,_t,At,Nt,kt,Dt,Ct,xt,Pt,Ot,Rt,Lt,Mt,Vt,Ft,qt,Ut,jt,Bt,zt,Kt,$t,Gt,Ht,Wt,Qt,Yt,Xt,Jt,Zt,te,ee,ne,re,ie,oe,ae,se,ue,ce,he,le,fe,de,pe,ve,ge,me,ye,be,we,Ie,Ee,Te,Se,_e,Ae,Ne,ke,De,Ce,xe,Pe,Oe,Re,Le=t[0].trim()+"",Me=t[3]&&wg();let Ve=function(t,e){return t[8]?Eg:Ig}(t)(t);let Fe=function(t,e){return t[9]?_g:Sg}(t)(t);return{c(){e=S("nav"),n=S("div"),r=S("a"),o=_("Put at stake"),a=A(),s=S("div"),u=S("a"),c=S("i"),h=_("add_circle"),l=_("Create a Quiz"),f=A(),d=S("button"),p=S("i"),v=_("extension"),g=_("Join a Quiz"),m=A(),y=S("a"),b=S("i"),T=_("sports_score"),N=_("Scoreboard"),x=A(),M=S("button"),U=S("i"),j=_("history"),B=_("View History"),z=A(),K=S("a"),$=S("i"),G=_("alternate_email"),H=_("About P"),W=S("span"),Q=_("a"),Y=_("S"),X=A(),J=S("div"),Z=S("div"),tt=S("div"),et=S("h4"),nt=_("Join Quiz"),rt=A(),it=S("div"),ot=S("input"),at=A(),st=S("label"),ut=_("Quiz ID"),ct=A(),Me&&Me.c(),ht=A(),lt=S("div"),ft=S("h3"),dt=_("Not Found"),pt=A(),vt=S("span"),gt=S("i"),mt=_("error_outline"),yt=A(),bt=S("p"),wt=_("No such Quiz with ID: "),It=S("strong"),Et=S("span"),Tt=_(Le),St=_(" found."),_t=A(),At=S("p"),Nt=_("Make sure you have entered the right ID"),kt=A(),Dt=S("a"),Ct=S("i"),xt=_("replay"),Pt=_("Retry"),Ot=A(),Rt=S("div"),Lt=S("h3"),Mt=_("Connection Timeout"),Vt=A(),Ft=S("span"),qt=S("i"),Ut=_("error_outline"),jt=A(),Bt=S("p"),zt=_("Make sure you are connected to the internet"),Kt=A(),$t=S("p"),Gt=_("Program will automatically reconnect once the connection is\n          established"),Ht=A(),Wt=S("a"),Qt=S("i"),Yt=_("replay"),Xt=_("Reload Page"),Jt=A(),Zt=S("div"),te=S("button"),ee=S("i"),ne=_("meeting_room"),re=_("Join"),ie=A(),oe=S("div"),ae=S("div"),se=S("div"),ue=S("h4"),ce=_("History"),he=A(),le=S("ul"),fe=S("li"),de=S("h5"),pe=_("Created Quizes"),ve=A(),Ve.c(),ge=A(),me=S("ul"),ye=S("li"),be=S("h5"),we=_("Joined Quizes"),Ie=A(),Fe.c(),Ee=A(),Te=S("div"),Se=S("button"),_e=S("i"),Ae=_("delete"),Ne=_("Clear History"),ke=A(),De=S("p"),Ce=_("Copyright  Put at Stake "),xe=_(t[5]),Pe=_("."),this.h()},l(i){e=P(i,"NAV",{});var w=C(e);n=P(w,"DIV",{class:!0});var I=C(n);r=P(I,"A",{href:!0,class:!0});var S=C(r);o=O(S,"Put at stake"),S.forEach(E),I.forEach(E),w.forEach(E),a=R(i),s=P(i,"DIV",{class:!0});var _=C(s);u=P(_,"A",{class:!0,href:!0});var A=C(u);c=P(A,"I",{class:!0});var k=C(c);h=O(k,"add_circle"),k.forEach(E),l=O(A,"Create a Quiz"),A.forEach(E),f=R(_),d=P(_,"BUTTON",{"data-target":!0,class:!0});var D=C(d);p=P(D,"I",{class:!0});var L=C(p);v=O(L,"extension"),L.forEach(E),g=O(D,"Join a Quiz"),D.forEach(E),m=R(_),y=P(_,"A",{class:!0,href:!0});var V=C(y);b=P(V,"I",{class:!0});var F=C(b);T=O(F,"sports_score"),F.forEach(E),N=O(V,"Scoreboard"),V.forEach(E),x=R(_),M=P(_,"BUTTON",{"data-target":!0,class:!0});var q=C(M);U=P(q,"I",{class:!0});var Oe=C(U);j=O(Oe,"history"),Oe.forEach(E),B=O(q,"View History"),q.forEach(E),z=R(_),K=P(_,"A",{class:!0,href:!0});var Re=C(K);$=P(Re,"I",{class:!0});var qe=C($);G=O(qe,"alternate_email"),qe.forEach(E),H=O(Re,"About P"),W=P(Re,"SPAN",{id:!0,class:!0});var Ue=C(W);Q=O(Ue,"a"),Ue.forEach(E),Y=O(Re,"S"),Re.forEach(E),_.forEach(E),X=R(i),J=P(i,"DIV",{id:!0,class:!0});var je=C(J);Z=P(je,"DIV",{class:!0});var Be=C(Z);tt=P(Be,"DIV",{class:!0});var ze=C(tt);et=P(ze,"H4",{});var Ke=C(et);nt=O(Ke,"Join Quiz"),Ke.forEach(E),rt=R(ze),it=P(ze,"DIV",{class:!0});var $e=C(it);ot=P($e,"INPUT",{placeholder:!0,id:!0,type:!0,class:!0}),at=R($e),st=P($e,"LABEL",{class:!0,for:!0});var Ge=C(st);ut=O(Ge,"Quiz ID"),Ge.forEach(E),$e.forEach(E),ze.forEach(E),ct=R(Be),Me&&Me.l(Be),ht=R(Be),lt=P(Be,"DIV",{class:!0,style:!0});var He=C(lt);ft=P(He,"H3",{});var We=C(ft);dt=O(We,"Not Found"),We.forEach(E),pt=R(He),vt=P(He,"SPAN",{style:!0});var Qe=C(vt);gt=P(Qe,"I",{class:!0});var Ye=C(gt);mt=O(Ye,"error_outline"),Ye.forEach(E),Qe.forEach(E),yt=R(He),bt=P(He,"P",{});var Xe=C(bt);wt=O(Xe,"No such Quiz with ID: "),It=P(Xe,"STRONG",{});var Je=C(It);Et=P(Je,"SPAN",{});var Ze=C(Et);Tt=O(Ze,Le),Ze.forEach(E),Je.forEach(E),St=O(Xe," found."),Xe.forEach(E),_t=R(He),At=P(He,"P",{style:!0});var tn=C(At);Nt=O(tn,"Make sure you have entered the right ID"),tn.forEach(E),kt=R(He),Dt=P(He,"A",{href:!0,class:!0});var en=C(Dt);Ct=P(en,"I",{class:!0});var nn=C(Ct);xt=O(nn,"replay"),nn.forEach(E),Pt=O(en,"Retry"),en.forEach(E),He.forEach(E),Ot=R(Be),Rt=P(Be,"DIV",{class:!0,style:!0});var rn=C(Rt);Lt=P(rn,"H3",{});var on=C(Lt);Mt=O(on,"Connection Timeout"),on.forEach(E),Vt=R(rn),Ft=P(rn,"SPAN",{style:!0});var an=C(Ft);qt=P(an,"I",{class:!0});var sn=C(qt);Ut=O(sn,"error_outline"),sn.forEach(E),an.forEach(E),jt=R(rn),Bt=P(rn,"P",{});var un=C(Bt);zt=O(un,"Make sure you are connected to the internet"),un.forEach(E),Kt=R(rn),$t=P(rn,"P",{style:!0});var cn=C($t);Gt=O(cn,"Program will automatically reconnect once the connection is\n          established"),cn.forEach(E),Ht=R(rn),Wt=P(rn,"A",{href:!0,class:!0});var hn=C(Wt);Qt=P(hn,"I",{class:!0});var ln=C(Qt);Yt=O(ln,"replay"),ln.forEach(E),Xt=O(hn,"Reload Page"),hn.forEach(E),rn.forEach(E),Be.forEach(E),Jt=R(je),Zt=P(je,"DIV",{class:!0});var fn=C(Zt);te=P(fn,"BUTTON",{class:!0});var dn=C(te);ee=P(dn,"I",{class:!0});var pn=C(ee);ne=O(pn,"meeting_room"),pn.forEach(E),re=O(dn,"Join"),dn.forEach(E),fn.forEach(E),je.forEach(E),ie=R(i),oe=P(i,"DIV",{id:!0,class:!0});var vn=C(oe);ae=P(vn,"DIV",{class:!0});var gn=C(ae);se=P(gn,"DIV",{class:!0});var mn=C(se);ue=P(mn,"H4",{});var yn=C(ue);ce=O(yn,"History"),yn.forEach(E),he=R(mn),le=P(mn,"UL",{class:!0});var bn=C(le);fe=P(bn,"LI",{class:!0});var wn=C(fe);de=P(wn,"H5",{});var In=C(de);pe=O(In,"Created Quizes"),In.forEach(E),wn.forEach(E),ve=R(bn),Ve.l(bn),bn.forEach(E),ge=R(mn),me=P(mn,"UL",{class:!0});var En=C(me);ye=P(En,"LI",{class:!0});var Tn=C(ye);be=P(Tn,"H5",{});var Sn=C(be);we=O(Sn,"Joined Quizes"),Sn.forEach(E),Tn.forEach(E),Ie=R(En),Fe.l(En),En.forEach(E),mn.forEach(E),gn.forEach(E),Ee=R(vn),Te=P(vn,"DIV",{class:!0});var _n=C(Te);Se=P(_n,"BUTTON",{class:!0});var An=C(Se);_e=P(An,"I",{class:!0});var Nn=C(_e);Ae=O(Nn,"delete"),Nn.forEach(E),Ne=O(An,"Clear History"),An.forEach(E),_n.forEach(E),vn.forEach(E),ke=R(i),De=P(i,"P",{style:!0});var kn=C(De);Ce=O(kn,"Copyright  Put at Stake "),xe=O(kn,t[5]),Pe=O(kn,"."),kn.forEach(E),this.h()},h(){D(r,"href","/"),D(r,"class","brand-logo svelte-1msgnfq"),D(n,"class","nav-wrapper"),D(c,"class","material-icons left"),D(u,"class","waves-effect waves-light btn-large but but1 svelte-1msgnfq"),D(u,"href","create"),D(p,"class","material-icons left"),D(d,"data-target","modal1"),D(d,"class","waves-effect waves-light btn-large modal-trigger but but2 svelte-1msgnfq"),D(b,"class","material-icons left"),D(y,"class","waves-effect waves-light btn-large but but3 svelte-1msgnfq"),D(y,"href","scoreboard"),D(U,"class","material-icons left"),D(M,"data-target","modal-history"),D(M,"class","waves-effect waves-light btn-large modal-trigger but but5 svelte-1msgnfq"),D($,"class","material-icons left"),D(W,"id","c-a"),D(W,"class","svelte-1msgnfq"),D(K,"class","waves-effect waves-light btn-large but but4 svelte-1msgnfq"),D(K,"href","about"),D(s,"class","container svelte-1msgnfq"),D(ot,"placeholder","Enter Quiz ID"),D(ot,"id","quiz_id"),D(ot,"type","text"),D(ot,"class","validate svelte-1msgnfq"),D(st,"class","label svelte-1msgnfq"),D(st,"for","quiz_id"),D(it,"class","input-field col s6 svelte-1msgnfq"),D(tt,"class","p-one"),D(gt,"class","material-icons left"),F(vt,"font-size","larger"),F(vt,"color","crimson"),F(vt,"text-align","center"),F(At,"text-align","center"),F(At,"border","solid 1px crimson"),F(At,"padding","8px 0 8px 0"),D(Ct,"class","material-icons left"),D(Dt,"href","/"),D(Dt,"class","waves-effect waves-light btn-large but but2 svelte-1msgnfq"),D(lt,"class","p-three"),F(lt,"display","none"),D(qt,"class","material-icons left"),F(Ft,"color","crimson"),F($t,"text-align","center"),F($t,"border","solid 1px crimson"),F($t,"padding","8px 0 8px 0"),D(Qt,"class","material-icons left"),D(Wt,"href","/"),D(Wt,"class","waves-effect waves-light btn-large but but2 svelte-1msgnfq"),D(Rt,"class","p-four"),F(Rt,"display","none"),D(Z,"class","modal-content"),D(ee,"class","material-icons left"),D(te,"class","join waves-effect waves-green btn-flat svelte-1msgnfq"),q(te,"disabled",0==t[0].length||t[0].trim().length>6||!t[0].replace(/\s/g,"").length),D(Zt,"class","modal-footer"),D(J,"id","modal1"),D(J,"class","modal"),D(fe,"class","collection-header"),D(le,"class","collection with-header cquiz"),D(ye,"class","collection-header"),D(me,"class","collection with-header jquiz"),D(se,"class","h-one"),D(ae,"class","modal-content"),D(_e,"class","material-icons left"),D(Se,"class","waves-effect waves-green btn-flat but delbut svelte-1msgnfq"),D(Te,"class","modal-footer"),D(oe,"id","modal-history"),D(oe,"class","modal"),F(De,"font-family","cabin"),F(De,"text-align","center"),F(De,"padding","5%"),F(De,"color","#bbb9b9")},m(i,E){I(i,e,E),w(e,n),w(n,r),w(r,o),I(i,a,E),I(i,s,E),w(s,u),w(u,c),w(c,h),w(u,l),w(s,f),w(s,d),w(d,p),w(p,v),w(d,g),w(s,m),w(s,y),w(y,b),w(b,T),w(y,N),w(s,x),w(s,M),w(M,U),w(U,j),w(M,B),w(s,z),w(s,K),w(K,$),w($,G),w(K,H),w(K,W),w(W,Q),w(K,Y),I(i,X,E),I(i,J,E),w(J,Z),w(Z,tt),w(tt,et),w(et,nt),w(tt,rt),w(tt,it),w(it,ot),V(ot,t[0]),w(it,at),w(it,st),w(st,ut),w(Z,ct),Me&&Me.m(Z,null),w(Z,ht),w(Z,lt),w(lt,ft),w(ft,dt),w(lt,pt),w(lt,vt),w(vt,gt),w(gt,mt),w(lt,yt),w(lt,bt),w(bt,wt),w(bt,It),w(It,Et),w(Et,Tt),w(bt,St),w(lt,_t),w(lt,At),w(At,Nt),w(lt,kt),w(lt,Dt),w(Dt,Ct),w(Ct,xt),w(Dt,Pt),w(Z,Ot),w(Z,Rt),w(Rt,Lt),w(Lt,Mt),w(Rt,Vt),w(Rt,Ft),w(Ft,qt),w(qt,Ut),w(Rt,jt),w(Rt,Bt),w(Bt,zt),w(Rt,Kt),w(Rt,$t),w($t,Gt),w(Rt,Ht),w(Rt,Wt),w(Wt,Qt),w(Qt,Yt),w(Wt,Xt),w(J,Jt),w(J,Zt),w(Zt,te),w(te,ee),w(ee,ne),w(te,re),I(i,ie,E),I(i,oe,E),w(oe,ae),w(ae,se),w(se,ue),w(ue,ce),w(se,he),w(se,le),w(le,fe),w(fe,de),w(de,pe),w(le,ve),Ve.m(le,null),w(se,ge),w(se,me),w(me,ye),w(ye,be),w(be,we),w(me,Ie),Fe.m(me,null),w(oe,Ee),w(oe,Te),w(Te,Se),w(Se,_e),w(_e,Ae),w(Se,Ne),I(i,ke,E),I(i,De,E),w(De,Ce),w(De,xe),w(De,Pe),Oe||(Re=[k(ot,"input",t[14]),k(te,"click",t[6]),k(Se,"click",t[7])],Oe=!0)},p(t,e){1&e&&ot.value!==t[0]&&V(ot,t[0]),t[3]?Me||(Me=wg(),Me.c(),Me.m(Z,ht)):Me&&(Me.d(1),Me=null),1&e&&Le!==(Le=t[0].trim()+"")&&L(Tt,Le),1&e&&q(te,"disabled",0==t[0].length||t[0].trim().length>6||!t[0].replace(/\s/g,"").length),Ve.p(t,e),Fe.p(t,e)},d(t){t&&E(e),t&&E(a),t&&E(s),t&&E(X),t&&E(J),Me&&Me.d(),t&&E(ie),t&&E(oe),Ve.d(),Fe.d(),t&&E(ke),t&&E(De),Oe=!1,i(Re)}}}function wg(t){let e,n,r;return{c(){e=S("div"),n=S("div"),r=_("Loading..."),this.h()},l(t){e=P(t,"DIV",{class:!0});var i=C(e);n=P(i,"DIV",{class:!0});var o=C(n);r=O(o,"Loading..."),o.forEach(E),i.forEach(E),this.h()},h(){D(n,"class","loader svelte-1msgnfq"),D(e,"class","p-two")},m(t,i){I(t,e,i),w(e,n),w(n,r)},d(t){t&&E(e)}}}function Ig(e){let n,r,i;return{c(){n=S("li"),r=S("em"),i=_("No data to display"),this.h()},l(t){n=P(t,"LI",{class:!0,style:!0});var e=C(n);r=P(e,"EM",{});var o=C(r);i=O(o,"No data to display"),o.forEach(E),e.forEach(E),this.h()},h(){D(n,"class","collection-item"),F(n,"color","crimson")},m(t,e){I(t,n,e),w(n,r),w(r,i)},p:t,d(t){t&&E(n)}}}function Eg(t){let e,n=t[8],r=[];for(let e=0;e<n.length;e+=1)r[e]=Tg(mg(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=N()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=N()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);I(t,e,n)},p(t,i){if(256&i){let o;for(n=t[8],o=0;o<n.length;o+=1){const a=mg(t,n,o);r[o]?r[o].p(a,i):(r[o]=Tg(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){T(r,t),t&&E(e)}}}function Tg(e){let n,r,i,o,a,s,u,c,h,l=e[15].toString().split(" ")[5]+"",f=e[15].toString().substring(0,24)+"";return{c(){n=S("li"),r=_("Quiz ID: "),i=S("strong"),o=_(l),a=S("br"),s=_("Created at: "),u=S("em"),c=_(f),h=A(),this.h()},l(t){n=P(t,"LI",{class:!0});var e=C(n);r=O(e,"Quiz ID: "),i=P(e,"STRONG",{});var d=C(i);o=O(d,l),d.forEach(E),a=P(e,"BR",{}),s=O(e,"Created at: "),u=P(e,"EM",{});var p=C(u);c=O(p,f),p.forEach(E),h=R(e),e.forEach(E),this.h()},h(){D(n,"class","collection-item")},m(t,e){I(t,n,e),w(n,r),w(n,i),w(i,o),w(n,a),w(n,s),w(n,u),w(u,c),w(n,h)},p:t,d(t){t&&E(n)}}}function Sg(e){let n,r,i;return{c(){n=S("li"),r=S("em"),i=_("No data to display"),this.h()},l(t){n=P(t,"LI",{class:!0,style:!0});var e=C(n);r=P(e,"EM",{});var o=C(r);i=O(o,"No data to display"),o.forEach(E),e.forEach(E),this.h()},h(){D(n,"class","collection-item"),F(n,"color","crimson")},m(t,e){I(t,n,e),w(n,r),w(r,i)},p:t,d(t){t&&E(n)}}}function _g(t){let e,n=t[9],r=[];for(let e=0;e<n.length;e+=1)r[e]=Ag(gg(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=N()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=N()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);I(t,e,n)},p(t,i){if(512&i){let o;for(n=t[9],o=0;o<n.length;o+=1){const a=gg(t,n,o);r[o]?r[o].p(a,i):(r[o]=Ag(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){T(r,t),t&&E(e)}}}function Ag(e){let n,r,i,o,a,s,u,c,h,l=e[15].toString().split(" ")[5]+"",f=e[15].toString().substring(0,24)+"";return{c(){n=S("li"),r=_("Quiz ID: "),i=S("strong"),o=_(l),a=S("br"),s=_("Joined at: "),u=S("em"),c=_(f),h=A(),this.h()},l(t){n=P(t,"LI",{class:!0});var e=C(n);r=O(e,"Quiz ID: "),i=P(e,"STRONG",{});var d=C(i);o=O(d,l),d.forEach(E),a=P(e,"BR",{}),s=O(e,"Joined at: "),u=P(e,"EM",{});var p=C(u);c=O(p,f),p.forEach(E),h=R(e),e.forEach(E),this.h()},h(){D(n,"class","collection-item")},m(t,e){I(t,n,e),w(n,r),w(n,i),w(i,o),w(n,a),w(n,s),w(n,u),w(u,c),w(n,h)},p:t,d(t){t&&E(n)}}}function Ng(t){let e,n,r,i=t[4]&&yg(t),o=!t[4]&&bg(t);return{c(){i&&i.c(),e=A(),o&&o.c(),n=N()},l(t){i&&i.l(t),e=R(t),o&&o.l(t),n=N()},m(t,a){i&&i.m(t,a),I(t,e,a),o&&o.m(t,a),I(t,n,a),r=!0},p(t,[r]){t[4]?i?(i.p(t,r),16&r&&at(i,1)):(i=yg(t),i.c(),at(i,1),i.m(e.parentNode,e)):i&&(it(),st(i,1,1,(()=>{i=null})),ot()),t[4]?o&&(o.d(1),o=null):o?o.p(t,r):(o=bg(t),o.c(),o.m(n.parentNode,n))},i(t){r||(at(i),r=!0)},o(t){st(i),r=!1},d(t){i&&i.d(t),t&&E(e),o&&o.d(t),t&&E(n)}}}function kg(t,e,n){let r=(new Date).getFullYear(),i="",o="",a=[],s=!1,u=!1;document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelectorAll(".modal");M.Modal.init(t)}));let c=JSON.parse(localStorage.getItem("storedCreate")),h=JSON.parse(localStorage.getItem("storedJoin"));return[i,o,a,s,u,r,()=>{n(3,s=!0),document.querySelector(".p-one").style.display="none",document.querySelector(".join").classList.add("disabled"),window.navigator.onLine||(n(3,s=!1),document.querySelector(".p-four").style.display="block"),ig.collection("quiz").doc(i.trim()).get().then((t=>{t.exists?(M.toast({html:`Joined Quiz: '${i.trim()}'`,displayLength:5e3}),n(3,s=!1),n(2,a=t.data().answers),n(1,o=t.data().creator),n(4,u=!0)):(n(3,s=!1),document.querySelector(".p-three").style.display="block")})).catch((t=>{console.log("Error getting document:",t)}))},()=>{localStorage.removeItem("storedCreate"),localStorage.removeItem("storedJoin"),window.location.href="/"},c,h,function(t){i=t,n(0,i)},function(t){a=t,n(2,a)},function(t){o=t,n(1,o)},function(t){u=t,n(4,u)},function(){i=this.value,n(0,i)}]}class Dg extends gt{constructor(t){super(),vt(this,t,kg,Ng,a,{})}}function Cg(t){let e,n,r,o,a,s,c,h,l,f,d,p,v,g,m,y,b,T,N,x,M,V,q,U,j,B,z,K,$,G,H,W,Q,Y,X,J,Z,tt,et,nt,rt,it,ot,at,st,ut,ct,ht,lt,ft,dt,pt,vt,gt=t[0]+1+"",mt=questions[t[2][t[0]]].question+"",yt=choices[t[2][t[0]]].a+"",bt=choices[t[2][t[0]]].b+"",wt=choices[t[2][t[0]]].c+"",It=choices[t[2][t[0]]].d+"";return{c(){e=S("h5"),n=_(gt),r=S("span"),o=_("/20"),a=_(". "),s=_(mt),c=A(),h=S("div"),l=S("img"),d=A(),p=S("img"),g=A(),m=S("img"),b=A(),T=S("img"),x=A(),M=S("p"),V=S("label"),q=S("input"),j=A(),B=S("span"),z=_(yt),K=A(),$=S("p"),G=S("label"),H=S("input"),Q=A(),Y=S("span"),X=_(bt),J=A(),Z=S("p"),tt=S("label"),et=S("input"),rt=A(),it=S("span"),ot=_(wt),at=A(),st=S("p"),ut=S("label"),ct=S("input"),lt=A(),ft=S("span"),dt=_(It),this.h()},l(t){e=P(t,"H5",{class:!0});var i=C(e);n=O(i,gt),r=P(i,"SPAN",{class:!0});var u=C(r);o=O(u,"/20"),u.forEach(E),a=O(i,". "),s=O(i,mt),i.forEach(E),c=R(t),h=P(t,"DIV",{class:!0});var f=C(h);l=P(f,"IMG",{alt:!0,src:!0,style:!0,class:!0}),d=R(f),p=P(f,"IMG",{alt:!0,src:!0,style:!0,class:!0}),g=R(f),m=P(f,"IMG",{alt:!0,src:!0,style:!0,class:!0}),b=R(f),T=P(f,"IMG",{alt:!0,src:!0,style:!0,class:!0}),f.forEach(E),x=R(t),M=P(t,"P",{});var v=C(M);V=P(v,"LABEL",{});var y=C(V);q=P(y,"INPUT",{class:!0,name:!0,type:!0}),j=R(y),B=P(y,"SPAN",{class:!0});var w=C(B);z=O(w,yt),w.forEach(E),y.forEach(E),v.forEach(E),K=R(t),$=P(t,"P",{});var I=C($);G=P(I,"LABEL",{});var S=C(G);H=P(S,"INPUT",{class:!0,name:!0,type:!0}),Q=R(S),Y=P(S,"SPAN",{class:!0});var _=C(Y);X=O(_,bt),_.forEach(E),S.forEach(E),I.forEach(E),J=R(t),Z=P(t,"P",{});var A=C(Z);tt=P(A,"LABEL",{});var N=C(tt);et=P(N,"INPUT",{class:!0,name:!0,type:!0}),rt=R(N),it=P(N,"SPAN",{class:!0});var k=C(it);ot=O(k,wt),k.forEach(E),N.forEach(E),A.forEach(E),at=R(t),st=P(t,"P",{});var D=C(st);ut=P(D,"LABEL",{});var L=C(ut);ct=P(L,"INPUT",{class:!0,name:!0,type:!0}),lt=R(L),ft=P(L,"SPAN",{class:!0});var F=C(ft);dt=O(F,It),F.forEach(E),L.forEach(E),D.forEach(E),this.h()},h(){D(r,"class","twenty svelte-hi0bs0"),D(e,"class","question  svelte-hi0bs0"),D(l,"alt",""),u(l.src,f=images[t[2][t[0]]].a)||D(l,"src",f),F(l,"width","35%"),F(l,"height","auto"),D(l,"class","svelte-hi0bs0"),D(p,"alt",""),u(p.src,v=images[t[2][t[0]]].b)||D(p,"src",v),F(p,"width","35%"),F(p,"height","auto"),D(p,"class","svelte-hi0bs0"),D(m,"alt",""),u(m.src,y=images[t[2][t[0]]].c)||D(m,"src",y),F(m,"width","35%"),F(m,"height","auto"),D(m,"class","svelte-hi0bs0"),D(T,"alt",""),u(T.src,N=images[t[2][t[0]]].d)||D(T,"src",N),F(T,"width","35%"),F(T,"height","auto"),D(T,"class","svelte-hi0bs0"),D(h,"class","imgstack svelte-hi0bs0"),q.checked=U="a"===t[1],D(q,"class","with-gap "),D(q,"name","group3"),D(q,"type","radio"),q.value="a",D(B,"class","radio  svelte-hi0bs0"),H.checked=W="b"===t[1],D(H,"class","with-gap "),D(H,"name","group3"),D(H,"type","radio"),H.value="b",D(Y,"class","radio  svelte-hi0bs0"),et.checked=nt="c"===t[1],D(et,"class","with-gap "),D(et,"name","group3"),D(et,"type","radio"),et.value="c",D(it,"class","radio  svelte-hi0bs0"),ct.checked=ht="d"===t[1],D(ct,"class","with-gap "),D(ct,"name","group3"),D(ct,"type","radio"),ct.value="d",D(ft,"class","radio  svelte-hi0bs0")},m(i,u){I(i,e,u),w(e,n),w(e,r),w(r,o),w(e,a),w(e,s),I(i,c,u),I(i,h,u),w(h,l),w(h,d),w(h,p),w(h,g),w(h,m),w(h,b),w(h,T),I(i,x,u),I(i,M,u),w(M,V),w(V,q),w(V,j),w(V,B),w(B,z),I(i,K,u),I(i,$,u),w($,G),w(G,H),w(G,Q),w(G,Y),w(Y,X),I(i,J,u),I(i,Z,u),w(Z,tt),w(tt,et),w(tt,rt),w(tt,it),w(it,ot),I(i,at,u),I(i,st,u),w(st,ut),w(ut,ct),w(ut,lt),w(ut,ft),w(ft,dt),pt||(vt=[k(q,"change",t[8]),k(H,"change",t[8]),k(et,"change",t[8]),k(ct,"change",t[8])],pt=!0)},p(t,e){1&e&&gt!==(gt=t[0]+1+"")&&L(n,gt),5&e&&mt!==(mt=questions[t[2][t[0]]].question+"")&&L(s,mt),5&e&&!u(l.src,f=images[t[2][t[0]]].a)&&D(l,"src",f),5&e&&!u(p.src,v=images[t[2][t[0]]].b)&&D(p,"src",v),5&e&&!u(m.src,y=images[t[2][t[0]]].c)&&D(m,"src",y),5&e&&!u(T.src,N=images[t[2][t[0]]].d)&&D(T,"src",N),2&e&&U!==(U="a"===t[1])&&(q.checked=U),5&e&&yt!==(yt=choices[t[2][t[0]]].a+"")&&L(z,yt),2&e&&W!==(W="b"===t[1])&&(H.checked=W),5&e&&bt!==(bt=choices[t[2][t[0]]].b+"")&&L(X,bt),2&e&&nt!==(nt="c"===t[1])&&(et.checked=nt),5&e&&wt!==(wt=choices[t[2][t[0]]].c+"")&&L(ot,wt),2&e&&ht!==(ht="d"===t[1])&&(ct.checked=ht),5&e&&It!==(It=choices[t[2][t[0]]].d+"")&&L(dt,It)},d(t){t&&E(e),t&&E(c),t&&E(h),t&&E(x),t&&E(M),t&&E(K),t&&E($),t&&E(J),t&&E(Z),t&&E(at),t&&E(st),pt=!1,i(vt)}}}function xg(t){let e,n,r;return{c(){e=S("div"),n=S("div"),r=_("Loading..."),this.h()},l(t){e=P(t,"DIV",{class:!0});var i=C(e);n=P(i,"DIV",{class:!0});var o=C(n);r=O(o,"Loading..."),o.forEach(E),i.forEach(E),this.h()},h(){D(n,"class","loader svelte-hi0bs0"),D(e,"class","p-two")},m(t,i){I(t,e,i),w(e,n),w(n,r)},d(t){t&&E(e)}}}function Pg(e){let n,r,a,s,u,c,h,l,f,d,p,v,g,m,y,b,T,N,x,M,U,j,B,z,K,$,G,H,W,Q,Y,X,J,Z,tt,et,nt,rt,it,ot,at,st,ut,ct,ht,lt,ft,dt,pt,vt,gt,mt,yt,bt,wt,It,Et,Tt,St,_t,At,Nt,kt,Dt,Ct,xt,Pt=20!=e[0]&&Cg(e),Ot=e[4]&&xg();return{c(){n=S("nav"),r=S("div"),a=S("span"),s=_("Create Quiz"),u=A(),c=S("div"),Pt&&Pt.c(),h=A(),l=S("button"),f=S("i"),d=_("arrow_forward_ios"),p=_("Next"),v=A(),g=S("div"),m=S("div"),y=S("div"),b=S("h4"),T=_("Create Quiz"),N=A(),x=S("div"),M=S("input"),U=A(),j=S("label"),B=_("Your Name"),z=A(),Ot&&Ot.c(),K=A(),$=S("div"),G=S("h3"),H=_("Quiz ID:"),W=A(),Q=S("h2"),Y=_(e[5]),X=A(),J=S("p"),Z=_("Your friends can join this quiz by using this Quiz ID. Copy it! You can\n        use the History button in homepage in case you forget this ID."),tt=A(),et=S("button"),nt=S("i"),rt=_("content_copy"),it=_("Copy Quiz ID"),ot=A(),at=S("div"),st=S("h3"),ut=_("Connection Timeout"),ct=A(),ht=S("span"),lt=S("i"),ft=_("error_outline"),dt=A(),pt=S("p"),vt=_("Make sure you are connected to the internet"),gt=A(),mt=S("p"),yt=_("Program will automatically reconnect once the connection is established"),bt=A(),wt=S("a"),It=S("i"),Et=_("replay"),Tt=_("Reload Page"),St=A(),_t=S("div"),At=S("button"),Nt=S("i"),kt=_("create"),Dt=_("Create"),this.h()},l(t){n=P(t,"NAV",{class:!0});var i=C(n);r=P(i,"DIV",{class:!0});var o=C(r);a=P(o,"SPAN",{class:!0});var w=C(a);s=O(w,"Create Quiz"),w.forEach(E),o.forEach(E),i.forEach(E),u=R(t),c=P(t,"DIV",{class:!0});var I=C(c);Pt&&Pt.l(I),h=R(I),l=P(I,"BUTTON",{id:!0,"data-target":!0,class:!0});var S=C(l);f=P(S,"I",{class:!0});var _=C(f);d=O(_,"arrow_forward_ios"),_.forEach(E),p=O(S,"Next"),S.forEach(E),I.forEach(E),v=R(t),g=P(t,"DIV",{id:!0,class:!0});var A=C(g);m=P(A,"DIV",{class:!0});var k=C(m);y=P(k,"DIV",{class:!0});var D=C(y);b=P(D,"H4",{});var L=C(b);T=O(L,"Create Quiz"),L.forEach(E),N=R(D),x=P(D,"DIV",{class:!0});var V=C(x);M=P(V,"INPUT",{placeholder:!0,id:!0,type:!0,class:!0}),U=R(V),j=P(V,"LABEL",{class:!0,for:!0});var F=C(j);B=O(F,"Your Name"),F.forEach(E),V.forEach(E),D.forEach(E),z=R(k),Ot&&Ot.l(k),K=R(k),$=P(k,"DIV",{class:!0,style:!0});var q=C($);G=P(q,"H3",{});var Ct=C(G);H=O(Ct,"Quiz ID:"),Ct.forEach(E),W=R(q),Q=P(q,"H2",{style:!0});var xt=C(Q);Y=O(xt,e[5]),xt.forEach(E),X=R(q),J=P(q,"P",{});var Rt=C(J);Z=O(Rt,"Your friends can join this quiz by using this Quiz ID. Copy it! You can\n        use the History button in homepage in case you forget this ID."),Rt.forEach(E),tt=R(q),et=P(q,"BUTTON",{class:!0});var Lt=C(et);nt=P(Lt,"I",{class:!0});var Mt=C(nt);rt=O(Mt,"content_copy"),Mt.forEach(E),it=O(Lt,"Copy Quiz ID"),Lt.forEach(E),q.forEach(E),ot=R(k),at=P(k,"DIV",{class:!0,style:!0});var Vt=C(at);st=P(Vt,"H3",{});var Ft=C(st);ut=O(Ft,"Connection Timeout"),Ft.forEach(E),ct=R(Vt),ht=P(Vt,"SPAN",{style:!0});var qt=C(ht);lt=P(qt,"I",{class:!0});var Ut=C(lt);ft=O(Ut,"error_outline"),Ut.forEach(E),qt.forEach(E),dt=R(Vt),pt=P(Vt,"P",{});var jt=C(pt);vt=O(jt,"Make sure you are connected to the internet"),jt.forEach(E),gt=R(Vt),mt=P(Vt,"P",{style:!0});var Bt=C(mt);yt=O(Bt,"Program will automatically reconnect once the connection is established"),Bt.forEach(E),bt=R(Vt),wt=P(Vt,"A",{href:!0,class:!0});var zt=C(wt);It=P(zt,"I",{class:!0});var Kt=C(It);Et=O(Kt,"replay"),Kt.forEach(E),Tt=O(zt,"Reload Page"),zt.forEach(E),Vt.forEach(E),k.forEach(E),St=R(A),_t=P(A,"DIV",{class:!0});var $t=C(_t);At=P($t,"BUTTON",{class:!0});var Gt=C(At);Nt=P(Gt,"I",{class:!0});var Ht=C(Nt);kt=O(Ht,"create"),Ht.forEach(E),Dt=O(Gt,"Create"),Gt.forEach(E),$t.forEach(E),A.forEach(E),this.h()},h(){D(a,"class","brand-logo"),D(r,"class","nav-wrapper"),D(n,"class","svelte-hi0bs0"),D(f,"class","material-icons left"),D(l,"id","next"),D(l,"data-target","modal1"),D(l,"class","waves-effect waves-light btn-large but disabled svelte-hi0bs0"),D(c,"class","container svelte-hi0bs0"),D(M,"placeholder","Type here"),D(M,"id","first_name"),D(M,"type","text"),D(M,"class","validate svelte-hi0bs0"),D(j,"class","label svelte-hi0bs0"),D(j,"for","first_name"),D(x,"class","input-field col s6 svelte-hi0bs0"),D(y,"class","p-one"),F(Q,"border","dashed 6px #26a69a"),F(Q,"text-align","center"),F(Q,"padding","15px 0 15px 0"),D(nt,"class","material-icons left"),D(et,"class","waves-effect waves-light btn-large but2 svelte-hi0bs0"),D($,"class","p-three"),F($,"display","none"),D(lt,"class","material-icons left"),F(ht,"font-size","larger"),F(ht,"color","crimson"),F(ht,"text-align","center"),F(mt,"text-align","center"),F(mt,"border","solid 1px crimson"),F(mt,"padding","8px 0 8px 0"),D(It,"class","material-icons left"),D(wt,"href","/"),D(wt,"class","waves-effect waves-light btn-large but2 svelte-hi0bs0"),D(at,"class","p-four"),F(at,"display","none"),D(m,"class","modal-content"),D(Nt,"class","material-icons left"),D(At,"class","create waves-effect waves-green btn-flat svelte-hi0bs0"),q(At,"disabled",0==e[3].length||e[3].length>23||!e[3].replace(/\s/g,"").length),D(_t,"class","modal-footer"),D(g,"id","modal1"),D(g,"class","modal")},m(t,i){I(t,n,i),w(n,r),w(r,a),w(a,s),I(t,u,i),I(t,c,i),Pt&&Pt.m(c,null),w(c,h),w(c,l),w(l,f),w(f,d),w(l,p),I(t,v,i),I(t,g,i),w(g,m),w(m,y),w(y,b),w(b,T),w(y,N),w(y,x),w(x,M),V(M,e[3]),w(x,U),w(x,j),w(j,B),w(m,z),Ot&&Ot.m(m,null),w(m,K),w(m,$),w($,G),w(G,H),w($,W),w($,Q),w(Q,Y),w($,X),w($,J),w(J,Z),w($,tt),w($,et),w(et,nt),w(nt,rt),w(et,it),w(m,ot),w(m,at),w(at,st),w(st,ut),w(at,ct),w(at,ht),w(ht,lt),w(lt,ft),w(at,dt),w(at,pt),w(pt,vt),w(at,gt),w(at,mt),w(mt,yt),w(at,bt),w(at,wt),w(wt,It),w(It,Et),w(wt,Tt),w(g,St),w(g,_t),w(_t,At),w(At,Nt),w(Nt,kt),w(At,Dt),Ct||(xt=[k(l,"click",e[9]),k(M,"input",e[10]),k(et,"click",(function(){o(Rg(e[5]))&&Rg(e[5]).apply(this,arguments)})),k(At,"click",e[7])],Ct=!0)},p(t,[n]){20!=(e=t)[0]?Pt?Pt.p(e,n):(Pt=Cg(e),Pt.c(),Pt.m(c,h)):Pt&&(Pt.d(1),Pt=null),8&n&&M.value!==e[3]&&V(M,e[3]),e[4]?Ot||(Ot=xg(),Ot.c(),Ot.m(m,K)):Ot&&(Ot.d(1),Ot=null),32&n&&L(Y,e[5]),8&n&&q(At,"disabled",0==e[3].length||e[3].length>23||!e[3].replace(/\s/g,"").length)},i:t,o:t,d(t){t&&E(n),t&&E(u),t&&E(c),Pt&&Pt.d(),t&&E(v),t&&E(g),Ot&&Ot.d(),Ct=!1,i(xt)}}}function Og(){let t=document.querySelectorAll("input");for(let e=0;e<t.length;e++)if(t[e].checked)return t[e].value}function Rg(t){t=document.createTextNode(t);var e=document,n=window,r=e.body;if(r.appendChild(t),r.createTextRange){(i=r.createTextRange()).moveToElementText(t),i.select(),e.execCommand("copy")}else{var i=e.createRange(),o=n.getSelection;i.selectNodeContents(t),o().removeAllRanges(),o().addRange(i),e.execCommand("copy"),o().removeAllRanges()}t.remove(),window.location.href="/"}function Lg(t,e,n){let r,i=0,o="",a=[],s=[],u="",c=!1;a=((t,e,n)=>{var r,i,o=[];for(let a=0;a<n;a++)do{r=Math.floor(Math.random()*(e-t+1))+t,(i=o.includes(r))||o.push(r)}while(i);return o})(0,59,20);const h=()=>{s.push({question_id:questions[a[i]].id,choice:Og()}),n(0,i++,i);let t=document.querySelector(".container");if(t.style.display="none",function(t){return new Promise((e=>setTimeout(e,t)))}(500).then((()=>{t.style.display="block"})),i>18){document.querySelector("#next").textContent="SUBMIT"}if(i>19){let t=document.querySelector("#next");t.classList.add("modal-trigger"),t.style.display="none",(e=".modal-overlay",new Promise((t=>{if(document.querySelector(e))return t(document.querySelector(e));const n=new MutationObserver((r=>{document.querySelector(e)&&(t(document.querySelector(e)),n.disconnect())}));n.observe(document.body,{childList:!0,subtree:!0})}))).then((t=>{t.style.pointerEvents="none"}))}var e};document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelectorAll(".modal");M.Modal.init(t)}));return[i,o,a,u,c,r,h,()=>{var t;n(4,c=!0),document.querySelector(".p-one").style.display="none",document.querySelector(".create").classList.add("disabled"),n(5,r=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<6;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}()),window.navigator.onLine||(n(4,c=!1),document.querySelector(".p-four").style.display="block"),ig.collection("quiz").doc(r).set({quiz_id:r,creator:(t=u.trim(),t.charAt(0).toUpperCase()+t.slice(1)),date_created:(new Date).toString().substring(0,25),answers:s}).then((()=>{n(4,c=!1),function(t){t=r.trim();let e=[(new Date).toString().substring(0,25).concat(t).replace("\\","")];if(null!=localStorage.getItem("storedCreate")){let t=JSON.parse(localStorage.getItem("storedCreate"));t.push(e),localStorage.setItem("storedCreate",JSON.stringify(t))}else localStorage.setItem("storedCreate",JSON.stringify(e))}(r),M.toast({html:`Quiz Created with ID: '${r}'`,displayLength:5e3}),document.querySelector(".p-four").style.display="none",document.querySelector(".p-three").style.display="block"})).catch((t=>{console.log(t)}))},function(t){n(1,o=t.currentTarget.value),document.querySelector("#next").classList.remove("disabled")},()=>{h()},function(){u=this.value,n(3,u)}]}class Mg extends gt{constructor(t){super(),vt(this,t,Lg,Pg,a,{})}}function Vg(t,e,n){const r=t.slice();return r[8]=e[n].name,r[9]=e[n].attempted,r[10]=e[n].score,r[12]=n,r}function Fg(t){let e,n,r,i,o,a,s,u,c,h,l;return{c(){e=S("div"),n=S("span"),r=_("Scoreboard"),i=A(),o=S("div"),a=S("input"),s=A(),u=S("label"),c=_("Quiz ID"),this.h()},l(t){e=P(t,"DIV",{class:!0});var h=C(e);n=P(h,"SPAN",{class:!0});var l=C(n);r=O(l,"Scoreboard"),l.forEach(E),i=R(h),o=P(h,"DIV",{class:!0});var f=C(o);a=P(f,"INPUT",{placeholder:!0,id:!0,type:!0,class:!0}),s=R(f),u=P(f,"LABEL",{class:!0,for:!0});var d=C(u);c=O(d,"Quiz ID"),d.forEach(E),f.forEach(E),h.forEach(E),this.h()},h(){D(n,"class","card-title"),D(a,"placeholder","Enter Quiz ID"),D(a,"id","quiz_id"),D(a,"type","text"),D(a,"class","validate svelte-xrhe2w"),D(u,"class","label svelte-xrhe2w"),D(u,"for","quiz_id"),D(o,"class","input-field col s6 svelte-xrhe2w"),D(e,"class","p-one")},m(f,d){I(f,e,d),w(e,n),w(n,r),w(e,i),w(e,o),w(o,a),V(a,t[0]),w(o,s),w(o,u),w(u,c),h||(l=k(a,"input",t[7]),h=!0)},p(t,e){1&e&&a.value!==t[0]&&V(a,t[0])},d(t){t&&E(e),h=!1,l()}}}function qg(t){let e,n,r;return{c(){e=S("div"),n=S("div"),r=_("Loading..."),this.h()},l(t){e=P(t,"DIV",{class:!0});var i=C(e);n=P(i,"DIV",{class:!0});var o=C(n);r=O(o,"Loading..."),o.forEach(E),i.forEach(E),this.h()},h(){D(n,"class","loader svelte-xrhe2w"),D(e,"class","p-two")},m(t,i){I(t,e,i),w(e,n),w(n,r)},d(t){t&&E(e)}}}function Ug(e){let n,r,i;return{c(){n=S("p"),r=S("em"),i=_("No one has played this quiz yet."),this.h()},l(t){n=P(t,"P",{style:!0});var e=C(n);r=P(e,"EM",{});var o=C(r);i=O(o,"No one has played this quiz yet."),o.forEach(E),e.forEach(E),this.h()},h(){F(n,"text-align","center"),F(n,"padding","5rem 0 5rem 0"),F(n,"color","crimson")},m(t,e){I(t,n,e),w(n,r),w(r,i)},p:t,d(t){t&&E(n)}}}function jg(t){let e,n=t[3],r=[];for(let e=0;e<n.length;e+=1)r[e]=Bg(Vg(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=N()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=N()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);I(t,e,n)},p(t,i){if(8&i){let o;for(n=t[3],o=0;o<n.length;o+=1){const a=Vg(t,n,o);r[o]?r[o].p(a,i):(r[o]=Bg(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){T(r,t),t&&E(e)}}}function Bg(t){let e,n,r,i,o,a,s,u,c,h,l,f,d,p,v,g,m,y,b,T,N,k,x=Kg(t[8])+"",M=t[9]+"",V=t[10]+"";return{c(){e=S("li"),n=S("i"),r=_("face"),i=A(),o=S("div"),a=S("div"),s=A(),u=S("span"),c=S("strong"),h=_(x),l=A(),f=S("p"),d=_("Attempted on: "),p=_(M),v=S("br"),g=A(),m=S("span"),y=_("Score: "),b=S("b"),T=_(V),N=_("/20"),k=A(),this.h()},l(t){e=P(t,"LI",{class:!0});var w=C(e);n=P(w,"I",{class:!0});var I=C(n);r=O(I,"face"),I.forEach(E),i=R(w),o=P(w,"DIV",{class:!0});var S=C(o);a=P(S,"DIV",{class:!0,style:!0}),C(a).forEach(E),S.forEach(E),s=R(w),u=P(w,"SPAN",{class:!0});var _=C(u);c=P(_,"STRONG",{});var A=C(c);h=O(A,x),A.forEach(E),_.forEach(E),l=R(w),f=P(w,"P",{});var D=C(f);d=O(D,"Attempted on: "),p=O(D,M),v=P(D,"BR",{}),g=R(D),m=P(D,"SPAN",{style:!0});var L=C(m);y=O(L,"Score: "),b=P(L,"B",{});var F=C(b);T=O(F,V),N=O(F,"/20"),F.forEach(E),L.forEach(E),D.forEach(E),k=R(w),w.forEach(E),this.h()},h(){D(n,"class","blue material-icons circle"),D(a,"class","determinate"),F(a,"width",t[10]/20*100+"%"),q(a,"red",t[10]<10),q(a,"orange",t[10]>10&&t[10]<15),q(a,"green",t[10]>=15),D(o,"class","progress"),D(u,"class","title"),F(m,"border","inset 1px #f44336"),F(m,"border-radius","6px"),F(m,"padding","2px 8px 2px 8px"),D(e,"class","collection-item avatar")},m(t,E){I(t,e,E),w(e,n),w(n,r),w(e,i),w(e,o),w(o,a),w(e,s),w(e,u),w(u,c),w(c,h),w(e,l),w(e,f),w(f,d),w(f,p),w(f,v),w(f,g),w(f,m),w(m,y),w(m,b),w(b,T),w(b,N),w(e,k)},p(t,e){8&e&&F(a,"width",t[10]/20*100+"%"),8&e&&q(a,"red",t[10]<10),8&e&&q(a,"orange",t[10]>10&&t[10]<15),8&e&&q(a,"green",t[10]>=15),8&e&&x!==(x=Kg(t[8])+"")&&L(h,x),8&e&&M!==(M=t[9]+"")&&L(p,M),8&e&&V!==(V=t[10]+"")&&L(T,V)},d(t){t&&E(e)}}}function zg(e){let n,r,i,o,a,s,u,c,h,l,f,d,p,v,g,m,y,b,T,N,x,M,V,U,j,B,z,K,$,G,H,W,Q,Y,X,J,Z,tt,et,nt,rt,it,ot,at,st,ut,ct,ht,lt,ft,dt,pt,vt,gt,mt,yt,bt,wt,It,Et,Tt,St,_t,At,Nt,kt,Dt,Ct,xt,Pt,Ot,Rt,Lt,Mt,Vt,Ft,qt,Ut,jt,Bt,zt,Kt,$t,Gt,Ht,Wt=e[0].trim()+"",Qt=e[1]&&Fg(e),Yt=e[2]&&qg();function Xt(t,e){return t[3]?jg:Ug}let Jt=Xt(e),Zt=Jt(e);return{c(){n=S("nav"),r=S("div"),i=S("a"),o=_("Put at Stake"),a=A(),s=S("div"),u=S("div"),c=S("div"),h=S("div"),l=S("div"),Qt&&Qt.c(),f=A(),Yt&&Yt.c(),d=A(),p=S("div"),v=S("h3"),g=_("Not Found"),m=A(),y=S("span"),b=S("i"),T=_("error_outline"),N=A(),x=S("p"),M=_("No such Quiz with ID: "),V=S("strong"),U=S("span"),j=_(Wt),B=_(" found."),z=A(),K=S("p"),$=_("Make sure you have entered the right ID"),G=A(),H=S("a"),W=S("i"),Q=_("replay"),Y=_("Retry"),X=A(),J=S("div"),Z=S("h3"),tt=_("Connection Timeout"),et=A(),nt=S("span"),rt=S("i"),it=_("error_outline"),ot=A(),at=S("p"),st=_("Make sure you are connected to the internet"),ut=A(),ct=S("p"),ht=_("Program will automatically reconnect once the connection is\n              established"),lt=A(),ft=S("a"),dt=S("i"),pt=_("replay"),vt=_("Reload Page"),gt=A(),mt=S("div"),yt=S("h3"),bt=_("ID: "),wt=_(e[0]),It=A(),Et=S("ul"),Tt=S("li"),St=_("Created By: "),_t=S("em"),At=_(e[4]),Nt=A(),kt=S("li"),Dt=_("Created At: "),Ct=S("em"),xt=_(e[5]),Pt=A(),Ot=S("div"),Rt=S("ul"),Zt.c(),Lt=A(),Mt=S("a"),Vt=S("i"),Ft=_("home"),qt=_("Take me Home"),Ut=A(),jt=S("div"),Bt=S("button"),zt=S("i"),Kt=_("meeting_room"),$t=_("View"),this.h()},l(t){n=P(t,"NAV",{class:!0});var w=C(n);r=P(w,"DIV",{class:!0});var I=C(r);i=P(I,"A",{href:!0,class:!0});var S=C(i);o=O(S,"Put at Stake"),S.forEach(E),I.forEach(E),w.forEach(E),a=R(t),s=P(t,"DIV",{class:!0});var _=C(s);u=P(_,"DIV",{class:!0});var A=C(u);c=P(A,"DIV",{class:!0});var k=C(c);h=P(k,"DIV",{class:!0});var D=C(h);l=P(D,"DIV",{class:!0});var L=C(l);Qt&&Qt.l(L),f=R(L),Yt&&Yt.l(L),d=R(L),p=P(L,"DIV",{class:!0,style:!0});var F=C(p);v=P(F,"H3",{});var q=C(v);g=O(q,"Not Found"),q.forEach(E),m=R(F),y=P(F,"SPAN",{style:!0});var Gt=C(y);b=P(Gt,"I",{class:!0});var Ht=C(b);T=O(Ht,"error_outline"),Ht.forEach(E),Gt.forEach(E),N=R(F),x=P(F,"P",{});var Xt=C(x);M=O(Xt,"No such Quiz with ID: "),V=P(Xt,"STRONG",{});var Jt=C(V);U=P(Jt,"SPAN",{});var te=C(U);j=O(te,Wt),te.forEach(E),Jt.forEach(E),B=O(Xt," found."),Xt.forEach(E),z=R(F),K=P(F,"P",{style:!0});var ee=C(K);$=O(ee,"Make sure you have entered the right ID"),ee.forEach(E),G=R(F),H=P(F,"A",{href:!0,class:!0});var ne=C(H);W=P(ne,"I",{class:!0});var re=C(W);Q=O(re,"replay"),re.forEach(E),Y=O(ne,"Retry"),ne.forEach(E),F.forEach(E),X=R(L),J=P(L,"DIV",{class:!0,style:!0});var ie=C(J);Z=P(ie,"H3",{});var oe=C(Z);tt=O(oe,"Connection Timeout"),oe.forEach(E),et=R(ie),nt=P(ie,"SPAN",{style:!0});var ae=C(nt);rt=P(ae,"I",{class:!0});var se=C(rt);it=O(se,"error_outline"),se.forEach(E),ae.forEach(E),ot=R(ie),at=P(ie,"P",{});var ue=C(at);st=O(ue,"Make sure you are connected to the internet"),ue.forEach(E),ut=R(ie),ct=P(ie,"P",{style:!0});var ce=C(ct);ht=O(ce,"Program will automatically reconnect once the connection is\n              established"),ce.forEach(E),lt=R(ie),ft=P(ie,"A",{href:!0,class:!0});var he=C(ft);dt=P(he,"I",{class:!0});var le=C(dt);pt=O(le,"replay"),le.forEach(E),vt=O(he,"Reload Page"),he.forEach(E),ie.forEach(E),gt=R(L),mt=P(L,"DIV",{class:!0,style:!0});var fe=C(mt);yt=P(fe,"H3",{});var de=C(yt);bt=O(de,"ID: "),wt=O(de,e[0]),de.forEach(E),It=R(fe),Et=P(fe,"UL",{});var pe=C(Et);Tt=P(pe,"LI",{});var ve=C(Tt);St=O(ve,"Created By: "),_t=P(ve,"EM",{});var ge=C(_t);At=O(ge,e[4]),ge.forEach(E),ve.forEach(E),Nt=R(pe),kt=P(pe,"LI",{});var me=C(kt);Dt=O(me,"Created At: "),Ct=P(me,"EM",{});var ye=C(Ct);xt=O(ye,e[5]),ye.forEach(E),me.forEach(E),Pt=R(pe),Ot=P(pe,"DIV",{class:!0});var be=C(Ot);Rt=P(be,"UL",{class:!0});var we=C(Rt);Zt.l(we),we.forEach(E),be.forEach(E),pe.forEach(E),Lt=R(fe),Mt=P(fe,"A",{href:!0,style:!0,class:!0});var Ie=C(Mt);Vt=P(Ie,"I",{class:!0});var Ee=C(Vt);Ft=O(Ee,"home"),Ee.forEach(E),qt=O(Ie,"Take me Home"),Ie.forEach(E),fe.forEach(E),L.forEach(E),Ut=R(D),jt=P(D,"DIV",{class:!0});var Te=C(jt);Bt=P(Te,"BUTTON",{class:!0});var Se=C(Bt);zt=P(Se,"I",{class:!0});var _e=C(zt);Kt=O(_e,"meeting_room"),_e.forEach(E),$t=O(Se,"View"),Se.forEach(E),Te.forEach(E),D.forEach(E),k.forEach(E),A.forEach(E),_.forEach(E),this.h()},h(){D(i,"href","/"),D(i,"class","brand-logo svelte-xrhe2w"),D(r,"class","nav-wrapper"),D(n,"class","svelte-xrhe2w"),D(b,"class","material-icons left"),F(y,"font-size","larger"),F(y,"color","crimson"),F(y,"text-align","center"),F(K,"text-align","center"),F(K,"border","solid 1px crimson"),F(K,"padding","8px 0 8px 0"),F(K,"margin","15px 0 15px 0"),D(W,"class","material-icons left"),D(H,"href","/scoreboard"),D(H,"class","red waves-effect waves-light btn-large but but2 svelte-xrhe2w"),D(p,"class","p-three"),F(p,"display","none"),D(rt,"class","material-icons left"),F(nt,"color","crimson"),F(ct,"text-align","center"),F(ct,"border","solid 1px crimson"),F(ct,"padding","8px 0 8px 0"),F(ct,"margin","15px 0 15px 0"),D(dt,"class","material-icons left"),D(ft,"href","/scoreboard"),D(ft,"class","red waves-effect waves-light btn-large but but2 svelte-xrhe2w"),D(J,"class","p-four"),F(J,"display","none"),D(Rt,"class","collection"),D(Ot,"class","players svelte-xrhe2w"),D(Vt,"class","material-icons left"),D(Mt,"href","/"),F(Mt,"text-align","center"),D(Mt,"class","blue but waves-effect waves-green btn-flat svelte-xrhe2w"),D(mt,"class","p-five"),F(mt,"display","none"),D(l,"class","card-content black-text"),D(zt,"class","material-icons left"),D(Bt,"class","but join waves-effect waves-green btn-flat svelte-xrhe2w"),q(Bt,"disabled",0==e[0].length||e[0].trim().length>6||!e[0].replace(/\s/g,"").length),D(jt,"class","card-action svelte-xrhe2w"),D(h,"class","card white darken-1 svelte-xrhe2w"),D(c,"class","col s12 svelte-xrhe2w"),D(u,"class","row svelte-xrhe2w"),D(s,"class","container svelte-xrhe2w")},m(t,E){I(t,n,E),w(n,r),w(r,i),w(i,o),I(t,a,E),I(t,s,E),w(s,u),w(u,c),w(c,h),w(h,l),Qt&&Qt.m(l,null),w(l,f),Yt&&Yt.m(l,null),w(l,d),w(l,p),w(p,v),w(v,g),w(p,m),w(p,y),w(y,b),w(b,T),w(p,N),w(p,x),w(x,M),w(x,V),w(V,U),w(U,j),w(x,B),w(p,z),w(p,K),w(K,$),w(p,G),w(p,H),w(H,W),w(W,Q),w(H,Y),w(l,X),w(l,J),w(J,Z),w(Z,tt),w(J,et),w(J,nt),w(nt,rt),w(rt,it),w(J,ot),w(J,at),w(at,st),w(J,ut),w(J,ct),w(ct,ht),w(J,lt),w(J,ft),w(ft,dt),w(dt,pt),w(ft,vt),w(l,gt),w(l,mt),w(mt,yt),w(yt,bt),w(yt,wt),w(mt,It),w(mt,Et),w(Et,Tt),w(Tt,St),w(Tt,_t),w(_t,At),w(Et,Nt),w(Et,kt),w(kt,Dt),w(kt,Ct),w(Ct,xt),w(Et,Pt),w(Et,Ot),w(Ot,Rt),Zt.m(Rt,null),w(mt,Lt),w(mt,Mt),w(Mt,Vt),w(Vt,Ft),w(Mt,qt),w(h,Ut),w(h,jt),w(jt,Bt),w(Bt,zt),w(zt,Kt),w(Bt,$t),Gt||(Ht=k(Bt,"click",e[6]),Gt=!0)},p(t,[e]){t[1]?Qt?Qt.p(t,e):(Qt=Fg(t),Qt.c(),Qt.m(l,f)):Qt&&(Qt.d(1),Qt=null),t[2]?Yt||(Yt=qg(),Yt.c(),Yt.m(l,d)):Yt&&(Yt.d(1),Yt=null),1&e&&Wt!==(Wt=t[0].trim()+"")&&L(j,Wt),1&e&&L(wt,t[0]),16&e&&L(At,t[4]),32&e&&L(xt,t[5]),Jt===(Jt=Xt(t))&&Zt?Zt.p(t,e):(Zt.d(1),Zt=Jt(t),Zt&&(Zt.c(),Zt.m(Rt,null))),1&e&&q(Bt,"disabled",0==t[0].length||t[0].trim().length>6||!t[0].replace(/\s/g,"").length)},i:t,o:t,d(t){t&&E(n),t&&E(a),t&&E(s),Qt&&Qt.d(),Yt&&Yt.d(),Zt.d(),Gt=!1,Ht()}}}function Kg(t){return t.charAt(0).toUpperCase()+t.slice(1)}function $g(t,e,n){let r,i,o="",a=!0,s=!1,u=[];return[o,a,s,u,r,i,()=>{n(2,s=!0),n(1,a=!1),document.querySelector(".p-one").style.display="none",document.querySelector(".join").classList.add("disabled"),window.navigator.onLine||(n(2,s=!1),document.querySelector(".p-four").style.display="block"),ig.collection("quiz").doc(o.trim()).get().then((t=>{t.exists?(n(3,u=t.data().players),n(4,r=t.data().creator),n(5,i=t.data().date_created),M.toast({html:`Quiz found on ID: '${o.trim()}'`,displayLength:5e3}),n(2,s=!1),document.querySelector(".card-action").style.display="none",document.querySelector(".p-five").style.display="block"):(n(2,s=!1),document.querySelector(".p-three").style.display="block")})).catch((t=>{console.log("Error getting document:",t)}))},function(){o=this.value,n(0,o)}]}class Gg extends gt{constructor(t){super(),vt(this,t,$g,zg,a,{})}}function Hg(e){let n,r,i,o,a,s,c,h,l,f,d,p,v,g,m,y,b,T,N,k,x,L,M,V,q,U,j,B,z,K,$,G,H,W,Q,Y,X,J,Z,tt,et,nt,rt,it,ot,at,st,ut,ct,ht,lt,ft,dt,pt,vt,gt,mt,yt,bt,wt,It,Et,Tt,St,_t,At,Nt,kt,Dt,Ct,xt,Pt,Ot,Rt,Lt,Mt,Vt,Ft,qt,Ut,jt,Bt,zt,Kt,$t,Gt,Ht,Wt,Qt,Yt,Xt,Jt,Zt,te,ee;return{c(){n=S("div"),r=S("div"),i=S("a"),o=S("span"),a=_("PaS Trivia"),s=S("span"),c=_("."),h=S("span"),l=_("Beta"),f=A(),d=S("p"),p=_("A fun little side project"),v=A(),g=S("p"),m=_("PaS (Put at Stake Trivia) is a simple trivia app which lets you create your\n    own quiz and then share it with your friends to put your friendship at\n    stake."),y=A(),b=S("ul"),T=S("li"),N=S("div"),k=S("i"),x=_("create"),L=_("Create Quiz"),M=A(),V=S("div"),q=S("span"),U=_("Lets you create a new quiz from 20 out of 60 randomly selected\n          questions and generates a private Quiz ID which can be copied and\n          shared with your friends at any time you want"),j=A(),B=S("li"),z=S("div"),K=S("i"),$=_("login"),G=_("Join Quiz"),H=A(),W=S("div"),Q=S("span"),Y=_("Requires you to enter the Quiz ID given to you by the creator and\n          then asks the same twenty questions and compares them with the\n          answers. After submitting your score to the Scoreboard, it lets you\n          see your score and wrong answers."),X=A(),J=S("li"),Z=S("div"),tt=S("i"),et=_("sports_score"),nt=_("Scoreboard"),rt=A(),it=S("div"),ot=S("span"),at=_("Requires you to enter the specific Quiz ID and displays the score of\n          each individual participant on the Scoreboard. Your score is saved in\n          cloud database and requires internet access to retrieve it."),st=A(),ut=S("li"),ct=S("div"),ht=S("i"),lt=_("history"),ft=_("View History"),dt=A(),pt=S("div"),vt=S("span"),gt=_("You can see your activity on this app in case you forget the given or\n          generated Quiz ID. This data is stored in device's local storage and\n          is removed permanantly as soon as you click on the 'Clear History'\n          button."),mt=A(),yt=S("li"),bt=S("div"),wt=S("i"),It=_("alternate_email"),Et=_("About P"),Tt=S("span"),St=_("a"),_t=_("S"),At=A(),Nt=S("div"),kt=S("span"),Dt=_("Redirects you to this about page."),Ct=A(),xt=S("h4"),Pt=_("Contact the developer"),Ot=A(),Rt=S("div"),Lt=S("div"),Mt=S("div"),Vt=S("div"),Ft=S("img"),Ut=A(),jt=S("span"),Bt=_("RAZ0229"),zt=A(),Kt=S("div"),$t=S("p"),Gt=_("A Full-stack developer and ethical hacker. I have no life!"),Ht=A(),Wt=S("div"),Qt=S("a"),Yt=_("Get in touch"),Xt=A(),Jt=S("p"),Zt=_("Copyright  Put at Stake "),te=_(e[0]),ee=_("."),this.h()},l(t){n=P(t,"DIV",{class:!0});var u=C(n);r=P(u,"DIV",{class:!0});var w=C(r);i=P(w,"A",{href:!0,style:!0});var I=C(i);o=P(I,"SPAN",{class:!0});var S=C(o);a=O(S,"PaS Trivia"),s=P(S,"SPAN",{class:!0});var _=C(s);c=O(_,"."),_.forEach(E),S.forEach(E),h=P(I,"SPAN",{class:!0});var A=C(h);l=O(A,"Beta"),A.forEach(E),I.forEach(E),w.forEach(E),f=R(u),d=P(u,"P",{class:!0});var D=C(d);p=O(D,"A fun little side project"),D.forEach(E),v=R(u),g=P(u,"P",{class:!0});var F=C(g);m=O(F,"PaS (Put at Stake Trivia) is a simple trivia app which lets you create your\n    own quiz and then share it with your friends to put your friendship at\n    stake."),F.forEach(E),y=R(u),b=P(u,"UL",{class:!0});var qt=C(b);T=P(qt,"LI",{});var ne=C(T);N=P(ne,"DIV",{class:!0});var re=C(N);k=P(re,"I",{class:!0});var ie=C(k);x=O(ie,"create"),ie.forEach(E),L=O(re,"Create Quiz"),re.forEach(E),M=R(ne),V=P(ne,"DIV",{class:!0});var oe=C(V);q=P(oe,"SPAN",{});var ae=C(q);U=O(ae,"Lets you create a new quiz from 20 out of 60 randomly selected\n          questions and generates a private Quiz ID which can be copied and\n          shared with your friends at any time you want"),ae.forEach(E),oe.forEach(E),ne.forEach(E),j=R(qt),B=P(qt,"LI",{});var se=C(B);z=P(se,"DIV",{class:!0});var ue=C(z);K=P(ue,"I",{class:!0});var ce=C(K);$=O(ce,"login"),ce.forEach(E),G=O(ue,"Join Quiz"),ue.forEach(E),H=R(se),W=P(se,"DIV",{class:!0});var he=C(W);Q=P(he,"SPAN",{});var le=C(Q);Y=O(le,"Requires you to enter the Quiz ID given to you by the creator and\n          then asks the same twenty questions and compares them with the\n          answers. After submitting your score to the Scoreboard, it lets you\n          see your score and wrong answers."),le.forEach(E),he.forEach(E),se.forEach(E),X=R(qt),J=P(qt,"LI",{});var fe=C(J);Z=P(fe,"DIV",{class:!0});var de=C(Z);tt=P(de,"I",{class:!0});var pe=C(tt);et=O(pe,"sports_score"),pe.forEach(E),nt=O(de,"Scoreboard"),de.forEach(E),rt=R(fe),it=P(fe,"DIV",{class:!0});var ve=C(it);ot=P(ve,"SPAN",{});var ge=C(ot);at=O(ge,"Requires you to enter the specific Quiz ID and displays the score of\n          each individual participant on the Scoreboard. Your score is saved in\n          cloud database and requires internet access to retrieve it."),ge.forEach(E),ve.forEach(E),fe.forEach(E),st=R(qt),ut=P(qt,"LI",{});var me=C(ut);ct=P(me,"DIV",{class:!0});var ye=C(ct);ht=P(ye,"I",{class:!0});var be=C(ht);lt=O(be,"history"),be.forEach(E),ft=O(ye,"View History"),ye.forEach(E),dt=R(me),pt=P(me,"DIV",{class:!0});var we=C(pt);vt=P(we,"SPAN",{});var Ie=C(vt);gt=O(Ie,"You can see your activity on this app in case you forget the given or\n          generated Quiz ID. This data is stored in device's local storage and\n          is removed permanantly as soon as you click on the 'Clear History'\n          button."),Ie.forEach(E),we.forEach(E),me.forEach(E),mt=R(qt),yt=P(qt,"LI",{});var Ee=C(yt);bt=P(Ee,"DIV",{class:!0});var Te=C(bt);wt=P(Te,"I",{class:!0});var Se=C(wt);It=O(Se,"alternate_email"),Se.forEach(E),Et=O(Te,"About P"),Tt=P(Te,"SPAN",{id:!0,class:!0});var _e=C(Tt);St=O(_e,"a"),_e.forEach(E),_t=O(Te,"S"),Te.forEach(E),At=R(Ee),Nt=P(Ee,"DIV",{class:!0});var Ae=C(Nt);kt=P(Ae,"SPAN",{});var Ne=C(kt);Dt=O(Ne,"Redirects you to this about page."),Ne.forEach(E),Ae.forEach(E),Ee.forEach(E),qt.forEach(E),u.forEach(E),Ct=R(t),xt=P(t,"H4",{style:!0});var ke=C(xt);Pt=O(ke,"Contact the developer"),ke.forEach(E),Ot=R(t),Rt=P(t,"DIV",{class:!0});var De=C(Rt);Lt=P(De,"DIV",{class:!0});var Ce=C(Lt);Mt=P(Ce,"DIV",{class:!0});var xe=C(Mt);Vt=P(xe,"DIV",{class:!0});var Pe=C(Vt);Ft=P(Pe,"IMG",{src:!0,style:!0}),Ut=R(Pe),jt=P(Pe,"SPAN",{class:!0});var Oe=C(jt);Bt=O(Oe,"RAZ0229"),Oe.forEach(E),Pe.forEach(E),zt=R(xe),Kt=P(xe,"DIV",{class:!0});var Re=C(Kt);$t=P(Re,"P",{class:!0});var Le=C($t);Gt=O(Le,"A Full-stack developer and ethical hacker. I have no life!"),Le.forEach(E),Re.forEach(E),Ht=R(xe),Wt=P(xe,"DIV",{class:!0});var Me=C(Wt);Qt=P(Me,"A",{href:!0});var Ve=C(Qt);Yt=O(Ve,"Get in touch"),Ve.forEach(E),Me.forEach(E),xe.forEach(E),Ce.forEach(E),De.forEach(E),Xt=R(t),Jt=P(t,"P",{style:!0,class:!0});var Fe=C(Jt);Zt=O(Fe,"Copyright  Put at Stake "),te=O(Fe,e[0]),ee=O(Fe,"."),Fe.forEach(E),this.h()},h(){D(s,"class","dot svelte-p7bhjv"),D(o,"class","login-text svelte-p7bhjv"),D(h,"class","beta svelte-p7bhjv"),D(i,"href","/"),F(i,"text-decoration","none"),D(r,"class","headContainer svelte-p7bhjv"),D(d,"class","svelte-p7bhjv"),D(g,"class","svelte-p7bhjv"),D(k,"class","material-icons"),D(N,"class","collapsible-header"),D(V,"class","collapsible-body svelte-p7bhjv"),D(K,"class","material-icons"),D(z,"class","collapsible-header"),D(W,"class","collapsible-body svelte-p7bhjv"),D(tt,"class","material-icons"),D(Z,"class","collapsible-header"),D(it,"class","collapsible-body svelte-p7bhjv"),D(ht,"class","material-icons"),D(ct,"class","collapsible-header"),D(pt,"class","collapsible-body svelte-p7bhjv"),D(wt,"class","material-icons"),D(Tt,"id","c-a"),D(Tt,"class","svelte-p7bhjv"),D(bt,"class","collapsible-header"),D(Nt,"class","collapsible-body svelte-p7bhjv"),D(b,"class","collapsible"),D(n,"class","about-section svelte-p7bhjv"),F(xt,"text-align","center"),u(Ft.src,qt="https://i.ibb.co/qjMY3ky/raz0229.png")||D(Ft,"src","https://i.ibb.co/qjMY3ky/raz0229.png"),F(Ft,"width","50%"),F(Ft,"padding","10px 0 10px 0"),F(Ft,"margin","0 auto"),D(jt,"class","card-title svelte-p7bhjv"),D(Vt,"class","card-image"),D($t,"class","svelte-p7bhjv"),D(Kt,"class","card-content"),D(Qt,"href","https://raz0229.github.io"),D(Wt,"class","card-action"),D(Mt,"class","card"),D(Lt,"class","col s6 offset-s3"),D(Rt,"class","row svelte-p7bhjv"),F(Jt,"font-family","cabin"),F(Jt,"text-align","center"),F(Jt,"padding","5%"),F(Jt,"color","#bbb9b9"),D(Jt,"class","svelte-p7bhjv")},m(t,e){I(t,n,e),w(n,r),w(r,i),w(i,o),w(o,a),w(o,s),w(s,c),w(i,h),w(h,l),w(n,f),w(n,d),w(d,p),w(n,v),w(n,g),w(g,m),w(n,y),w(n,b),w(b,T),w(T,N),w(N,k),w(k,x),w(N,L),w(T,M),w(T,V),w(V,q),w(q,U),w(b,j),w(b,B),w(B,z),w(z,K),w(K,$),w(z,G),w(B,H),w(B,W),w(W,Q),w(Q,Y),w(b,X),w(b,J),w(J,Z),w(Z,tt),w(tt,et),w(Z,nt),w(J,rt),w(J,it),w(it,ot),w(ot,at),w(b,st),w(b,ut),w(ut,ct),w(ct,ht),w(ht,lt),w(ct,ft),w(ut,dt),w(ut,pt),w(pt,vt),w(vt,gt),w(b,mt),w(b,yt),w(yt,bt),w(bt,wt),w(wt,It),w(bt,Et),w(bt,Tt),w(Tt,St),w(bt,_t),w(yt,At),w(yt,Nt),w(Nt,kt),w(kt,Dt),I(t,Ct,e),I(t,xt,e),w(xt,Pt),I(t,Ot,e),I(t,Rt,e),w(Rt,Lt),w(Lt,Mt),w(Mt,Vt),w(Vt,Ft),w(Vt,Ut),w(Vt,jt),w(jt,Bt),w(Mt,zt),w(Mt,Kt),w(Kt,$t),w($t,Gt),w(Mt,Ht),w(Mt,Wt),w(Wt,Qt),w(Qt,Yt),I(t,Xt,e),I(t,Jt,e),w(Jt,Zt),w(Jt,te),w(Jt,ee)},p:t,i:t,o:t,d(t){t&&E(n),t&&E(Ct),t&&E(xt),t&&E(Ot),t&&E(Rt),t&&E(Xt),t&&E(Jt)}}}function Wg(t){let e=(new Date).getFullYear();return document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelectorAll(".collapsible");M.Collapsible.init(t)})),[e]}class Qg extends gt{constructor(t){super(),vt(this,t,Wg,Hg,a,{})}}function Yg(e){let n,r,i,o,a,s,u,c,h,l,f,d,p,v,g,m,y=(new Date).getFullYear()+"";return{c(){n=S("div"),r=S("div"),i=S("div"),o=S("h1"),a=_("Oops!"),s=A(),u=S("h2"),c=_("404 - The Page can't be found"),h=A(),l=S("a"),f=_("Go to Homepage"),d=A(),p=S("p"),v=_("Copyright  Put at Stake "),g=_(y),m=_("."),this.h()},l(t){n=P(t,"DIV",{id:!0,class:!0});var e=C(n);r=P(e,"DIV",{class:!0});var b=C(r);i=P(b,"DIV",{class:!0});var w=C(i);o=P(w,"H1",{class:!0});var I=C(o);a=O(I,"Oops!"),I.forEach(E),s=R(w),u=P(w,"H2",{class:!0});var T=C(u);c=O(T,"404 - The Page can't be found"),T.forEach(E),w.forEach(E),h=R(b),l=P(b,"A",{href:!0,class:!0});var S=C(l);f=O(S,"Go to Homepage"),S.forEach(E),b.forEach(E),e.forEach(E),d=R(t),p=P(t,"P",{style:!0});var _=C(p);v=O(_,"Copyright  Put at Stake "),g=O(_,y),m=O(_,"."),_.forEach(E),this.h()},h(){D(o,"class","svelte-viwrle"),D(u,"class","svelte-viwrle"),D(i,"class","notfound-404 svelte-viwrle"),D(l,"href","/"),D(l,"class","svelte-viwrle"),D(r,"class","notfound svelte-viwrle"),D(n,"id","notfound"),D(n,"class","svelte-viwrle"),F(p,"font-family","cabin"),F(p,"text-align","center"),F(p,"padding","5%"),F(p,"color","#bbb9b9")},m(t,e){I(t,n,e),w(n,r),w(r,i),w(i,o),w(o,a),w(i,s),w(i,u),w(u,c),w(r,h),w(r,l),w(l,f),I(t,d,e),I(t,p,e),w(p,v),w(p,g),w(p,m)},p:t,i:t,o:t,d(t){t&&E(n),t&&E(d),t&&E(p)}}}class Xg extends gt{constructor(t){super(),vt(this,t,null,Yg,a,{})}}function Jg(t){let e,n;return e=new Mg({}),{c(){ht(e.$$.fragment)},l(t){lt(e.$$.fragment,t)},m(t,r){ft(e,t,r),n=!0},i(t){n||(at(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){dt(e,t)}}}function Zg(t){let e,n;return e=new Dg({}),{c(){ht(e.$$.fragment)},l(t){lt(e.$$.fragment,t)},m(t,r){ft(e,t,r),n=!0},i(t){n||(at(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){dt(e,t)}}}function tm(t){let e,n,r,i,o,a,s,u,c,h,l,f,d;return n=new jt({props:{path:"create",$$slots:{default:[Jg]},$$scope:{ctx:t}}}),i=new jt({props:{path:"scoreboard",component:Gg}}),a=new jt({props:{path:"/",$$slots:{default:[Zg]},$$scope:{ctx:t}}}),u=new jt({props:{path:"join",component:vg}}),h=new jt({props:{path:"about",component:Qg}}),f=new jt({props:{component:Xg}}),{c(){e=S("div"),ht(n.$$.fragment),r=A(),ht(i.$$.fragment),o=A(),ht(a.$$.fragment),s=A(),ht(u.$$.fragment),c=A(),ht(h.$$.fragment),l=A(),ht(f.$$.fragment)},l(t){e=P(t,"DIV",{});var d=C(e);lt(n.$$.fragment,d),r=R(d),lt(i.$$.fragment,d),o=R(d),lt(a.$$.fragment,d),s=R(d),lt(u.$$.fragment,d),c=R(d),lt(h.$$.fragment,d),l=R(d),lt(f.$$.fragment,d),d.forEach(E)},m(t,p){I(t,e,p),ft(n,e,null),w(e,r),ft(i,e,null),w(e,o),ft(a,e,null),w(e,s),ft(u,e,null),w(e,c),ft(h,e,null),w(e,l),ft(f,e,null),d=!0},p(t,e){const r={};1&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r);const i={};1&e&&(i.$$scope={dirty:e,ctx:t}),a.$set(i)},i(t){d||(at(n.$$.fragment,t),at(i.$$.fragment,t),at(a.$$.fragment,t),at(u.$$.fragment,t),at(h.$$.fragment,t),at(f.$$.fragment,t),d=!0)},o(t){st(n.$$.fragment,t),st(i.$$.fragment,t),st(a.$$.fragment,t),st(u.$$.fragment,t),st(h.$$.fragment,t),st(f.$$.fragment,t),d=!1},d(t){t&&E(e),dt(n),dt(i),dt(a),dt(u),dt(h),dt(f)}}}function em(t){let e,n;return e=new Ot({props:{$$slots:{default:[tm]},$$scope:{ctx:t}}}),{c(){ht(e.$$.fragment)},l(t){lt(e.$$.fragment,t)},m(t,r){ft(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(at(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){dt(e,t)}}}return new class extends gt{constructor(t){super(),vt(this,t,null,em,a,{})}}({target:document.body,hydrate:!0})}();
//# sourceMappingURL=bundle.js.map
